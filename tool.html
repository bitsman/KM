<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">
<head>
<!-- 2020-06-06 周六 11:46 -->
<meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>工具</title>
<meta name="generator" content="Org mode" />
<meta name="author" content="比克曼" />
<meta name="description" content="description-bitsman"
 />
<meta name="keywords" content="emacs keil iar" />
<style type="text/css">
 <!--/*--><![CDATA[/*><!--*/
  .title  { text-align: center;
             margin-bottom: .2em; }
  .subtitle { text-align: center;
              font-size: medium;
              font-weight: bold;
              margin-top:0; }
  .todo   { font-family: monospace; color: red; }
  .done   { font-family: monospace; color: green; }
  .priority { font-family: monospace; color: orange; }
  .tag    { background-color: #eee; font-family: monospace;
            padding: 2px; font-size: 80%; font-weight: normal; }
  .timestamp { color: #bebebe; }
  .timestamp-kwd { color: #5f9ea0; }
  .org-right  { margin-left: auto; margin-right: 0px;  text-align: right; }
  .org-left   { margin-left: 0px;  margin-right: auto; text-align: left; }
  .org-center { margin-left: auto; margin-right: auto; text-align: center; }
  .underline { text-decoration: underline; }
  #postamble p, #preamble p { font-size: 90%; margin: .2em; }
  p.verse { margin-left: 3%; }
  pre {
    border: 1px solid #ccc;
    box-shadow: 3px 3px 3px #eee;
    padding: 8pt;
    font-family: monospace;
    overflow: auto;
    margin: 1.2em;
  }
  pre.src {
    position: relative;
    overflow: visible;
    padding-top: 1.2em;
  }
  pre.src:before {
    display: none;
    position: absolute;
    background-color: white;
    top: -10px;
    right: 10px;
    padding: 3px;
    border: 1px solid black;
  }
  pre.src:hover:before { display: inline;}
  /* Languages per Org manual */
  pre.src-asymptote:before { content: 'Asymptote'; }
  pre.src-awk:before { content: 'Awk'; }
  pre.src-C:before { content: 'C'; }
  /* pre.src-C++ doesn't work in CSS */
  pre.src-clojure:before { content: 'Clojure'; }
  pre.src-css:before { content: 'CSS'; }
  pre.src-D:before { content: 'D'; }
  pre.src-ditaa:before { content: 'ditaa'; }
  pre.src-dot:before { content: 'Graphviz'; }
  pre.src-calc:before { content: 'Emacs Calc'; }
  pre.src-emacs-lisp:before { content: 'Emacs Lisp'; }
  pre.src-fortran:before { content: 'Fortran'; }
  pre.src-gnuplot:before { content: 'gnuplot'; }
  pre.src-haskell:before { content: 'Haskell'; }
  pre.src-hledger:before { content: 'hledger'; }
  pre.src-java:before { content: 'Java'; }
  pre.src-js:before { content: 'Javascript'; }
  pre.src-latex:before { content: 'LaTeX'; }
  pre.src-ledger:before { content: 'Ledger'; }
  pre.src-lisp:before { content: 'Lisp'; }
  pre.src-lilypond:before { content: 'Lilypond'; }
  pre.src-lua:before { content: 'Lua'; }
  pre.src-matlab:before { content: 'MATLAB'; }
  pre.src-mscgen:before { content: 'Mscgen'; }
  pre.src-ocaml:before { content: 'Objective Caml'; }
  pre.src-octave:before { content: 'Octave'; }
  pre.src-org:before { content: 'Org mode'; }
  pre.src-oz:before { content: 'OZ'; }
  pre.src-plantuml:before { content: 'Plantuml'; }
  pre.src-processing:before { content: 'Processing.js'; }
  pre.src-python:before { content: 'Python'; }
  pre.src-R:before { content: 'R'; }
  pre.src-ruby:before { content: 'Ruby'; }
  pre.src-sass:before { content: 'Sass'; }
  pre.src-scheme:before { content: 'Scheme'; }
  pre.src-screen:before { content: 'Gnu Screen'; }
  pre.src-sed:before { content: 'Sed'; }
  pre.src-sh:before { content: 'shell'; }
  pre.src-sql:before { content: 'SQL'; }
  pre.src-sqlite:before { content: 'SQLite'; }
  /* additional languages in org.el's org-babel-load-languages alist */
  pre.src-forth:before { content: 'Forth'; }
  pre.src-io:before { content: 'IO'; }
  pre.src-J:before { content: 'J'; }
  pre.src-makefile:before { content: 'Makefile'; }
  pre.src-maxima:before { content: 'Maxima'; }
  pre.src-perl:before { content: 'Perl'; }
  pre.src-picolisp:before { content: 'Pico Lisp'; }
  pre.src-scala:before { content: 'Scala'; }
  pre.src-shell:before { content: 'Shell Script'; }
  pre.src-ebnf2ps:before { content: 'ebfn2ps'; }
  /* additional language identifiers per "defun org-babel-execute"
       in ob-*.el */
  pre.src-cpp:before  { content: 'C++'; }
  pre.src-abc:before  { content: 'ABC'; }
  pre.src-coq:before  { content: 'Coq'; }
  pre.src-groovy:before  { content: 'Groovy'; }
  /* additional language identifiers from org-babel-shell-names in
     ob-shell.el: ob-shell is the only babel language using a lambda to put
     the execution function name together. */
  pre.src-bash:before  { content: 'bash'; }
  pre.src-csh:before  { content: 'csh'; }
  pre.src-ash:before  { content: 'ash'; }
  pre.src-dash:before  { content: 'dash'; }
  pre.src-ksh:before  { content: 'ksh'; }
  pre.src-mksh:before  { content: 'mksh'; }
  pre.src-posh:before  { content: 'posh'; }
  /* Additional Emacs modes also supported by the LaTeX listings package */
  pre.src-ada:before { content: 'Ada'; }
  pre.src-asm:before { content: 'Assembler'; }
  pre.src-caml:before { content: 'Caml'; }
  pre.src-delphi:before { content: 'Delphi'; }
  pre.src-html:before { content: 'HTML'; }
  pre.src-idl:before { content: 'IDL'; }
  pre.src-mercury:before { content: 'Mercury'; }
  pre.src-metapost:before { content: 'MetaPost'; }
  pre.src-modula-2:before { content: 'Modula-2'; }
  pre.src-pascal:before { content: 'Pascal'; }
  pre.src-ps:before { content: 'PostScript'; }
  pre.src-prolog:before { content: 'Prolog'; }
  pre.src-simula:before { content: 'Simula'; }
  pre.src-tcl:before { content: 'tcl'; }
  pre.src-tex:before { content: 'TeX'; }
  pre.src-plain-tex:before { content: 'Plain TeX'; }
  pre.src-verilog:before { content: 'Verilog'; }
  pre.src-vhdl:before { content: 'VHDL'; }
  pre.src-xml:before { content: 'XML'; }
  pre.src-nxml:before { content: 'XML'; }
  /* add a generic configuration mode; LaTeX export needs an additional
     (add-to-list 'org-latex-listings-langs '(conf " ")) in .emacs */
  pre.src-conf:before { content: 'Configuration File'; }

  table { border-collapse:collapse; }
  caption.t-above { caption-side: top; }
  caption.t-bottom { caption-side: bottom; }
  td, th { vertical-align:top;  }
  th.org-right  { text-align: center;  }
  th.org-left   { text-align: center;   }
  th.org-center { text-align: center; }
  td.org-right  { text-align: right;  }
  td.org-left   { text-align: left;   }
  td.org-center { text-align: center; }
  dt { font-weight: bold; }
  .footpara { display: inline; }
  .footdef  { margin-bottom: 1em; }
  .figure { padding: 1em; }
  .figure p { text-align: center; }
  .inlinetask {
    padding: 10px;
    border: 2px solid gray;
    margin: 10px;
    background: #ffffcc;
  }
  #org-div-home-and-up
   { text-align: right; font-size: 70%; white-space: nowrap; }
  textarea { overflow-x: auto; }
  .linenr { font-size: smaller }
  .code-highlighted { background-color: #ffff00; }
  .org-info-js_info-navigation { border-style: none; }
  #org-info-js_console-label
    { font-size: 10px; font-weight: bold; white-space: nowrap; }
  .org-info-js_search-highlight
    { background-color: #ffff00; color: #000000; font-weight: bold; }
  .org-svg { width: 90%; }
  /*]]>*/-->
</style>
<link rel="stylesheet" type="text/css" href="css/org-manual.css"/>
<script type="text/javascript">
/*
@licstart  The following is the entire license notice for the
JavaScript code in this tag.

Copyright (C) 2012-2018 Free Software Foundation, Inc.

The JavaScript code in this tag is free software: you can
redistribute it and/or modify it under the terms of the GNU
General Public License (GNU GPL) as published by the Free Software
Foundation, either version 3 of the License, or (at your option)
any later version.  The code is distributed WITHOUT ANY WARRANTY;
without even the implied warranty of MERCHANTABILITY or FITNESS
FOR A PARTICULAR PURPOSE.  See the GNU GPL for more details.

As additional permission under GNU GPL version 3 section 7, you
may distribute non-source (e.g., minimized or compacted) forms of
that code without the copy of the GNU GPL normally required by
section 4, provided you include this license notice and a URL
through which recipients can access the Corresponding Source.


@licend  The above is the entire license notice
for the JavaScript code in this tag.
*/
<!--/*--><![CDATA[/*><!--*/
 function CodeHighlightOn(elem, id)
 {
   var target = document.getElementById(id);
   if(null != target) {
     elem.cacheClassElem = elem.className;
     elem.cacheClassTarget = target.className;
     target.className = "code-highlighted";
     elem.className   = "code-highlighted";
   }
 }
 function CodeHighlightOff(elem, id)
 {
   var target = document.getElementById(id);
   if(elem.cacheClassElem)
     elem.className = elem.cacheClassElem;
   if(elem.cacheClassTarget)
     target.className = elem.cacheClassTarget;
 }
/*]]>*///-->
</script>
<script type="text/x-mathjax-config">
    MathJax.Hub.Config({
        displayAlign: "center",
        displayIndent: "0em",

        "HTML-CSS": { scale: 100,
                        linebreaks: { automatic: "false" },
                        webFont: "TeX"
                       },
        SVG: {scale: 100,
              linebreaks: { automatic: "false" },
              font: "TeX"},
        NativeMML: {scale: 100},
        TeX: { equationNumbers: {autoNumber: "AMS"},
               MultLineWidth: "85%",
               TagSide: "right",
               TagIndent: ".8em"
             }
});
</script>
<script type="text/javascript"
        src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js?config=TeX-AMS_HTML"></script>
</head>
<body>
<div id="content">
<h1 class="title">工具
<br />
<span class="subtitle">这里会做一些emacs测试</span>
</h1>
<div id="table-of-contents">
<h2>Table of Contents</h2>
<div id="text-table-of-contents">
<ul>
<li><a href="#orgb08dc6c">1. emacs</a>
<ul>
<li><a href="#org2fb1276">1.1. 安装</a>
<ul>
<li><a href="#org39bc6d0">1.1.1. Win编译安装</a></li>
</ul>
</li>
<li><a href="#orgfc89caa">1.2. 基本操作</a>
<ul>
<li><a href="#orgba36fce">1.2.1. 按键命令</a></li>
<li><a href="#org6ae1ff6">1.2.2. 其他</a></li>
<li><a href="#orgfdb6caf">1.2.3. 计算器</a></li>
<li><a href="#org8356dde">1.2.4. 图片</a></li>
<li><a href="#orgf73809b">1.2.5. 字体</a></li>
<li><a href="#org2a0cafc">1.2.6. 编码</a></li>
<li><a href="#org4d6433f">1.2.7. 外部程序</a></li>
</ul>
</li>
<li><a href="#orgd7701c9">1.3. elisp</a>
<ul>
<li><a href="#org55c6a61">1.3.1. 变量</a></li>
<li><a href="#orgf927942">1.3.2. 符号</a></li>
<li><a href="#org73c68dd">1.3.3. 表达式</a></li>
<li><a href="#orgf8adb14">1.3.4. 函数</a></li>
<li><a href="#orgc39ce92">1.3.5. 功能</a></li>
</ul>
</li>
<li><a href="#org51fc1c0">1.4. org-mode</a>
<ul>
<li><a href="#org459945f">1.4.1. 可视化</a></li>
<li><a href="#orgf5a562e">1.4.2. 抽屉</a></li>
<li><a href="#orga8fda77">1.4.3. 块</a></li>
<li><a href="#org8069ba5">1.4.4. 脚注</a></li>
<li><a href="#org39701b8">1.4.5. 序号</a></li>
<li><a href="#orgf4272fe">1.4.6. 字体</a></li>
<li><a href="#orge38da06">1.4.7. 公式</a></li>
<li><a href="#org2113f80">1.4.8. 表格</a>
<ul>
<li><a href="#orgb77c523">1.4.8.1. 内建表格</a></li>
<li><a href="#org9ee4e75">1.4.8.2. 表格插件</a></li>
<li><a href="#org61e541a">1.4.8.3. 表格第三方</a></li>
<li><a href="#orge7447df">1.4.8.4. 表格计算</a></li>
</ul>
</li>
<li><a href="#org8965ab7">1.4.9. 画图</a></li>
<li><a href="#org1f66676">1.4.10. 链接</a></li>
<li><a href="#org79314f5">1.4.11. gtd</a></li>
<li><a href="#org6ca1a5f">1.4.12. 换行</a></li>
<li><a href="#org910595b">1.4.13. babel</a></li>
<li><a href="#org5048025">1.4.14. 宏</a></li>
<li><a href="#org3647546">1.4.15. 注释</a></li>
<li><a href="#org8bc811e">1.4.16. 导出</a>
<ul>
<li><a href="#org1b1b5dd">1.4.16.1. 配置</a></li>
<li><a href="#orgd75ce86">1.4.16.2. beamer</a></li>
<li><a href="#orgb1fc9a1">1.4.16.3. pdf</a></li>
<li><a href="#org1509263">1.4.16.4. html</a></li>
<li><a href="#orgfb12bf7">1.4.16.5. 特殊符号</a></li>
</ul>
</li>
<li><a href="#org285afa0">1.4.17. latex</a></li>
<li><a href="#orgbffb759">1.4.18. capture</a></li>
</ul>
</li>
<li><a href="#org1cfbbcb">1.5. python-mode</a></li>
<li><a href="#org5cff841">1.6. dired-mode</a></li>
<li><a href="#org42714b0">1.7. git</a>
<ul>
<li><a href="#orge06566d">1.7.1. 配置</a></li>
<li><a href="#org193f9b4">1.7.2. push</a></li>
</ul>
</li>
<li><a href="#org9c2e2da">1.8. dynamic-load</a>
<ul>
<li><a href="#org858d9f7">1.8.1. demo1</a></li>
<li><a href="#org3e931d5">1.8.2. demo2</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#org8d9d387">2. latex</a>
<ul>
<li><a href="#org3b88bbb">2.1. 方法</a></li>
<li><a href="#org54e18c5">2.2. 符号</a>
<ul>
<li><a href="#org4e36336">2.2.1. 数学模式重音符号</a></li>
<li><a href="#org8ac82f6">2.2.2. 小写希腊字母</a></li>
<li><a href="#orgea7694b">2.2.3. 大写希腊字母</a></li>
<li><a href="#org9fcc2de">2.2.4. 二元关系符</a></li>
<li><a href="#orgc115632">2.2.5. 二元运算符</a></li>
<li><a href="#org11f8167">2.2.6. 大尺寸运算符</a></li>
<li><a href="#orgadc6129">2.2.7. 箭头</a></li>
<li><a href="#org8c174ad">2.2.8. 定界符</a></li>
<li><a href="#orgeea574c">2.2.9. 大尺寸定界符</a></li>
<li><a href="#org3c6b79f">2.2.10. 其他符号</a></li>
<li><a href="#orgb22f119">2.2.11. 非数学符号</a></li>
<li><a href="#org1bcbbc6">2.2.12. AMS定界符</a></li>
<li><a href="#orge1f6d3b">2.2.13. AMS希腊和希伯来字母</a></li>
<li><a href="#orgcca9236">2.2.14. AMS二元关系符</a></li>
<li><a href="#orgfc996c8">2.2.15. AMS箭头</a></li>
<li><a href="#org393a4ff">2.2.16. AMS二元否定关系符和箭头</a></li>
<li><a href="#org741528e">2.2.17. AMS二元运算符</a></li>
<li><a href="#orgf4512ad">2.2.18. AMS其他符号</a></li>
<li><a href="#orgd478b11">2.2.19. 微积分符号</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#org074d352">3. keil</a></li>
<li><a href="#org5114a23">4. iar</a></li>
<li><a href="#orgd604c31">5. git</a>
<ul>
<li><a href="#orgaa9f8c8">5.1. gitolite</a>
<ul>
<li><a href="#orgd77d6a1">5.1.1. 安装基础包</a></li>
<li><a href="#org9b7c6ba">5.1.2. 创建git用户</a></li>
<li><a href="#orgedf3f5f">5.1.3. 安装gitolite</a></li>
<li><a href="#orgb447f85">5.1.4. 配置gitolite管理员</a></li>
<li><a href="#org7b0b795">5.1.5. 配置SSH</a></li>
<li><a href="#org018ec37">5.1.6. 使用git-shell来限制用户ssh登陆</a></li>
<li><a href="#org804d814">5.1.7. 克隆 gitolite-admin 管理库</a></li>
<li><a href="#org1e72c9d">5.1.8. 权限</a></li>
<li><a href="#org0d91700">5.1.9. 查询操作</a></li>
<li><a href="#orgd8e3471">5.1.10. 修改库名</a></li>
<li><a href="#orgac1ece3">5.1.11. 删除库</a></li>
</ul>
</li>
<li><a href="#orgb3cb13c">5.2. account</a></li>
<li><a href="#org69ffa1c">5.3. local repository creation</a></li>
<li><a href="#org9f43363">5.4. role</a></li>
<li><a href="#org15380e1">5.5. command</a>
<ul>
<li><a href="#org8d2048c">5.5.1. git目录结构</a>
<ul>
<li><a href="#orga951806">5.5.1.1. objects目录关系</a></li>
<li><a href="#org42d1efb">5.5.1.2. refs目录关系</a></li>
<li><a href="#orgdfc3ab0">5.5.1.3. logs</a></li>
</ul>
</li>
<li><a href="#org86534f2">5.5.2. git配置文件</a></li>
<li><a href="#org757cd60">5.5.3. git文件状态</a></li>
<li><a href="#orga73e301">5.5.4. git文件比较</a></li>
<li><a href="#org822d708">5.5.5. git文件添加</a></li>
<li><a href="#org259d119">5.5.6. git文件提交</a></li>
<li><a href="#org39129af">5.5.7. git文件回滚</a></li>
<li><a href="#org5c3cdbc">5.5.8. git文件删除</a></li>
<li><a href="#org70c8e79">5.5.9. git文件追溯</a></li>
<li><a href="#orgd655449">5.5.10. git分支操作</a></li>
<li><a href="#org261ebcd">5.5.11. git暂存操作</a></li>
<li><a href="#orge9a5c3d">5.5.12. git标签操作</a></li>
<li><a href="#org3e9aca2">5.5.13. git克隆操作</a></li>
<li><a href="#org11801e6">5.5.14. git拉取操作</a></li>
<li><a href="#orgc2b498e">5.5.15. git获取操作</a></li>
<li><a href="#org50c38a9">5.5.16. git冲突操作</a></li>
<li><a href="#orgfef2dea">5.5.17. git合并操作</a></li>
<li><a href="#org5056251">5.5.18. git变基操作</a></li>
<li><a href="#org729b6bd">5.5.19. git推送操作</a></li>
<li><a href="#org80bacfd">5.5.20. git二分查找</a></li>
<li><a href="#org264025c">5.5.21. git归档操作</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#org8e769e0">6. ssh</a>
<ul>
<li><a href="#org4a1ca09">6.1. 建立互信</a></li>
<li><a href="#org4e1e98a">6.2. 获取shell</a></li>
</ul>
</li>
<li><a href="#orgdede6ea">7. jenkins</a></li>
<li><a href="#org0ec877b">8. share</a></li>
</ul>
</div>
</div>
<div id="list-of-tables">
<h2>List of Tables</h2>
<div id="text-list-of-tables">
<ul>
<li><a href="#org2449ce3"><span class="table-number">Table 1:</span> emacs使用汇总</a></li>
<li><a href="#org0904efb"><span class="table-number">Table 2:</span> 配置关键字</a></li>
<li><a href="#org585e5c7"><span class="table-number">Table 3:</span> option项的参数说明</a></li>
<li><a href="#org521b1e9"><span class="table-number">Table 4:</span> GIT库分支操作</a></li>
<li><a href="#org9edbd1f"><span class="table-number">Table 5:</span> OBJECTS目录关系</a></li>
<li><a href="#org20d2170"><span class="table-number">Table 6:</span> GIT配置文件</a></li>
<li><a href="#orgb79f5d3"><span class="table-number">Table 7:</span> GIT文件状态</a></li>
<li><span class="table-number">Table 8:</span> GIT文件比较命令</li>
<li><span class="table-number">Table 9:</span> GIT文件添加</li>
<li><span class="table-number">Table 10:</span> GIT文件提交</li>
<li><span class="table-number">Table 11:</span> GIT文件回滚</li>
<li><span class="table-number">Table 12:</span> GIT文件删除</li>
<li><span class="table-number">Table 13:</span> GIT分支操作</li>
<li><span class="table-number">Table 14:</span> GIT暂存操作</li>
<li><span class="table-number">Table 15:</span> GIT标签操作</li>
<li><span class="table-number">Table 16:</span> GIT克隆操作</li>
<li><span class="table-number">Table 17:</span> GIT拉取操作</li>
<li><span class="table-number">Table 18:</span> GIT获取操作</li>
<li><span class="table-number">Table 19:</span> GIT合并操作</li>
<li><span class="table-number">Table 20:</span> GIT变基操作</li>
<li><span class="table-number">Table 21:</span> GIT推送操作</li>
</ul>
</div>
</div>
<div id="list-of-tables">
<h2>List of Tables</h2>
<div id="text-list-of-tables">
<ul>
<li><a href="#org2449ce3"><span class="table-number">Table 1:</span> emacs使用汇总</a></li>
<li><a href="#org0904efb"><span class="table-number">Table 2:</span> 配置关键字</a></li>
<li><a href="#org585e5c7"><span class="table-number">Table 3:</span> option项的参数说明</a></li>
<li><a href="#org521b1e9"><span class="table-number">Table 4:</span> GIT库分支操作</a></li>
<li><a href="#org9edbd1f"><span class="table-number">Table 5:</span> OBJECTS目录关系</a></li>
<li><a href="#org20d2170"><span class="table-number">Table 6:</span> GIT配置文件</a></li>
<li><a href="#orgb79f5d3"><span class="table-number">Table 7:</span> GIT文件状态</a></li>
<li><span class="table-number">Table 8:</span> GIT文件比较命令</li>
<li><span class="table-number">Table 9:</span> GIT文件添加</li>
<li><span class="table-number">Table 10:</span> GIT文件提交</li>
<li><span class="table-number">Table 11:</span> GIT文件回滚</li>
<li><span class="table-number">Table 12:</span> GIT文件删除</li>
<li><span class="table-number">Table 13:</span> GIT分支操作</li>
<li><span class="table-number">Table 14:</span> GIT暂存操作</li>
<li><span class="table-number">Table 15:</span> GIT标签操作</li>
<li><span class="table-number">Table 16:</span> GIT克隆操作</li>
<li><span class="table-number">Table 17:</span> GIT拉取操作</li>
<li><span class="table-number">Table 18:</span> GIT获取操作</li>
<li><span class="table-number">Table 19:</span> GIT合并操作</li>
<li><span class="table-number">Table 20:</span> GIT变基操作</li>
<li><span class="table-number">Table 21:</span> GIT推送操作</li>
</ul>
</div>
</div>

<div id="outline-container-orgb08dc6c" class="outline-2">
<h2 id="orgb08dc6c"><span class="section-number-2">1</span> emacs</h2>
<div class="outline-text-2" id="text-1">
</div>
<div id="outline-container-org2fb1276" class="outline-3">
<h3 id="org2fb1276"><span class="section-number-3">1.1</span> 安装</h3>
<div class="outline-text-3" id="text-1-1">
<ul class="org-ul">
<li>gnuserv安装：将emacs目录拷贝后，在系统环境变量中增加HOME键值等于emacs路径
(d:\emacs)，即可；</li>
<li>自动安装插件：M-x package-list-packages获取插件包列表，enter进入选中插件，
点击install开始安装；</li>
<li>重新加载配置文件(pymacs)：M-x load-library RET pymacs RET</li>
<li>emacs配置即时生效: 不重启Emacs让新修改的配置内容生效
<ul class="org-ul">
<li>M-x eval-last-sexp 使当前 elisp 配置中光标前的那一条语句立刻生效；</li>
<li>M-x eval-region 使当前 elisp 配置中选中的 region 中的语句立刻生效；</li>
<li>M-x eval-<a href="#org2d85aef">buffer</a> 使当前的 <a href="#org2d85aef">buffer</a> 中的设置语句立刻生效；</li>
<li>M-x load-file ~/.emacs 载入 .emacs 文件，从而使其中的设置生效，要
生效其它 elisp 文件只需要把 .emacs 文件名换成其它的即可。</li>
</ul></li>
</ul>
</div>
<div id="outline-container-org39bc6d0" class="outline-4">
<h4 id="org39bc6d0"><span class="section-number-4">1.1.1</span> Win编译安装</h4>
<div class="outline-text-4" id="text-1-1-1">
<p>
以64位为例。首先安装x86<sub>64版的MSYS2</sub>。安装后运行安装目录里的
msys2<sub>shell.bat</sub>，会看到一个BASH的命令行窗口。使用命令安装所需的包：
</p>
<div class="org-src-container">
<pre class="src src-shell"><span class="linenr">1: </span>pacman -S base-devel mingw-w64-x86_64-toolchain <span style="color: #ffa07a;">\</span>
<span class="linenr">2: </span>       mingw-w64-x86_64-xpm-nox<span style="color: #ffa07a;">\</span>
<span class="linenr">3: </span>       mingw-w64-x86_64-libtiff <span style="color: #ffa07a;">\</span>
<span class="linenr">4: </span>       mingw-w64-x86_64-giflib<span style="color: #ffa07a;">\</span>
<span class="linenr">5: </span>       mingw-w64-x86_64-libpng <span style="color: #ffa07a;">\</span>
<span class="linenr">6: </span>       mingw-w64-x86_64-libjpeg-turbo<span style="color: #ffa07a;">\</span>
<span class="linenr">7: </span>       mingw-w64-x86_64-librsvg <span style="color: #ffa07a;">\</span>
<span class="linenr">8: </span>       mingw-w64-x86_64-libxml2<span style="color: #ffa07a;">\</span>
<span class="linenr">9: </span>       mingw-w64-x86_64-gnutls
</pre>
</div>


<p>
其中，除了前两项外其他是可选的。它们的功能分别是
</p>
<ul class="org-ul">
<li>基础：base-devel mingw-w64-x86<sub>64</sub>-toolchain</li>
<li>图形库:
<ul class="org-ul">
<li>mingw-w64-x86<sub>64</sub>-libtiff</li>
<li>mingw-w64-x86<sub>64</sub>-giflib</li>
<li>mingw-w64-x86<sub>64</sub>-libpng</li>
<li>mingw-w64-x86<sub>64</sub>-libjpeg-turbo</li>
<li>mingw-w64-x86<sub>64</sub>-librsvg</li>
</ul></li>
<li>用于Libxml2： mingw-w64-x86<sub>64</sub>-libxml2</li>
<li>用于GnuTLS： mingw-w64-x86<sub>64</sub>-gnutls</li>
</ul>

<p>
emacs源码可以在ftp或者github上获得；
</p>

<p>
下面就是编译安装了。运行开始菜单中的mingw64<sub>shell</sub>，注意必须是它，这会
启动一个MinGW-w64的环境。cd到源码所在的目录，运行下面的命令编译Emacs并
且安装到C:\emacs。如果是从开发版编译，第一行是必须的，否则
</p>
<div class="org-src-container">
<pre class="src src-shell">./autogen.sh
<span style="color: #ffd700;">PKG_CONFIG_PATH</span>=/mingw64/lib/pkgconfig ./configure --host=x86_64-w64-mingw32 <span style="color: #ffa07a;">\</span>
               --target=x86_64-w64-mingw32<span style="color: #ffa07a;">\</span>
               --build=x86_64-w64-mingw32<span style="color: #ffa07a;">\</span>
               --with-wide-int <span style="color: #ffa07a;">\</span>
               --with-jpeg<span style="color: #ffa07a;">\</span>
               --with-xpm<span style="color: #ffa07a;">\</span>
               --with-png<span style="color: #ffa07a;">\</span>
               --with-tiff<span style="color: #ffa07a;">\</span>
               --with-rsvg<span style="color: #ffa07a;">\</span>
               --with-xml2 <span style="color: #ffa07a;">\</span>
               --with-gnutls<span style="color: #ffa07a;">\</span>
               --with-xft<span style="color: #ffa07a;">\</span>
               --without-imagemagick<span style="color: #ffa07a;">\</span>
               --with-modules
make
make install <span style="color: #ffd700;">prefix</span>=/c/emacs
</pre>
</div>


<p>
如果成功的话C:\emacs目录里就有编译好的Emacs。因为编译时用了很多第三方
库, 所以编译的这个Emacs是需要那些DLL才能运行的。如果系统里面MSYS2已经
被添加到PATH环境变量里(例如PATH里包含了C:\msys2\mingw64\bin)了这不是问
题，但如果环境变量里没有或者想在其他电脑上用，需要用下面的命令复制所需
的DLL到Emacs所在目录：
</p>
<div class="org-src-container">
<pre class="src src-shell">cp /mingw64/bin/{libwinpthread-*.dll,libXpm-noX*.dll,libdbus-*.dll} /c/emacs/bin
cp /mingw64/bin/{libgomp-*.dll,libgcc_s_seh-*.dll,libglib-*.dll} /c/emacs/bin
cp /mingw64/bin/{libintl-*.dll,libiconv-*.dll,libgobject-*.dll} /c/emacs/bin
cp /mingw64/bin/{libffi-*.dll,libgdk_pixbuf-*.dll,libgio-*.dll} /c/emacs/bin
cp /mingw64/bin/{libgmodule-*.dll,zlib*.dll,librsvg-*.dll} /c/emacs/bin
cp /mingw64/bin/{libcairo-*.dll,libcroco-*.dll,libpango-*.dll} /c/emacs/bin
cp /mingw64/bin/{libpangocairo-*.dll,libxml2-*.dll,libfontconfig-*.dll} /c/emacs/bin
cp /mingw64/bin/{libfreetype-*.dll,libpixman-*.dll,libpng*.dll} /c/emacs/bin
cp /mingw64/bin/{libpangoft*.dll,libpangowin32-*.dll,liblzma-*.dll} /c/emacs/bin
cp /mingw64/bin/{libexpat-*.dll,libharfbuzz-*.dll,libgnutls-*.dll} /c/emacs/bin
cp /mingw64/bin/{libgnutlsxx-*.dll,libtiff-*.dll,libtiffxx-*.dll} /c/emacs/bin
cp /mingw64/bin/{libjpeg-*.dll,libgif-*.dll,libbz2-*.dll,libjbig-*.dll} /c/emacs/bin
cp /mingw64/bin/{libgmp-*.dll,libhogweed-*.dll,libnettle-*.dll} /c/emacs/bin
cp /mingw64/bin/{libp11-kit-*.dll,libtasn1-*.dll} /c/emacs/bin
</pre>
</div>
</div>
</div>
</div>
<div id="outline-container-orgfc89caa" class="outline-3">
<h3 id="orgfc89caa"><span class="section-number-3">1.2</span> 基本操作</h3>
<div class="outline-text-3" id="text-1-2">
</div>
<div id="outline-container-orgba36fce" class="outline-4">
<h4 id="orgba36fce"><span class="section-number-4">1.2.1</span> 按键命令</h4>
<div class="outline-text-4" id="text-1-2-1">
<ul class="org-ul">
<li>按键自定义方式
<ol class="org-ol">
<li><p>
定义全局按键
</p>
<div class="org-src-container">
<pre class="src src-lisp">(global-set-key <span style="color: #ffa07a;">"\M-;"</span> 'qiang-comment-dwim-line)
</pre>
</div></li>
<li><p>
定义模式相关的快捷键：如下定义一个快捷键，只有在org-mode中起作用
</p>
<div class="org-src-container">
<pre class="src src-lisp">(define-key org-mode-map (kbd <span style="color: #ffa07a;">"C-S-a"</span>) 'org-archive-subtree)
</pre>
</div></li>
<li><p>
同一个按键适用于多个模式：表示只在text-mode和org-mode里打开flyspell的功能，并且绑定了C-c C-v按键，这里用到了 dolist
函数来遍历需要设置的mode      
</p>
<div class="org-src-container">
<pre class="src src-lisp">(<span style="color: #ffb6c1; font-size: 105%;">dolist</span> (hook '(text-mode-hook org-mode-hook))
         (add-hook hook
               (<span style="color: #ffb6c1; font-size: 105%;">lambda</span> ()
                   (flyspell-mode 1)
                   (local-set-key (kbd <span style="color: #ffa07a;">"C-c C-v"</span>) flyspell-goto-next-error))))
</pre>
</div></li>
<li>使用local-set-key做局部绑定，暂定；</li>
</ol></li>
<li><p>
定义自己的M-x指令：如下指令进行M-x gtd，可以打开相应的文件；
</p>
<div class="org-src-container">
<pre class="src src-lisp">(<span style="color: #ffb6c1; font-size: 105%;">defun</span> <span style="color: #1e90ff; font-size: 105%; font-weight: bold;">gtd</span> ()
 (interactive)
 (find-file <span style="color: #ffa07a;">"c:/homes/charles/gtd/gtd/mygtd.org"</span>))
</pre>
</div></li>
<li><p>
表格\ref{tbl-emacs-inf}总结了平时需要的快捷键、模式、命令等操作；
</p>
<table id="org2449ce3" border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">
<caption class="t-above"><span class="table-number">Table 1:</span> emacs使用汇总</caption>

<colgroup>
<col  class="org-left" />

<col  class="org-left" />

<col  class="org-left" />

<col  class="org-left" />

<col  class="org-left" />
</colgroup>
<thead>
<tr>
<th scope="col" class="org-left">模式</th>
<th scope="col" class="org-left">按键</th>
<th scope="col" class="org-left">函数</th>
<th scope="col" class="org-left">功能</th>
<th scope="col" class="org-left">备注</th>
</tr>
</thead>
<tbody>
<tr>
<td class="org-left">&#xa0;</td>
<td class="org-left">C-c a</td>
<td class="org-left">org-agenda</td>
<td class="org-left">进入org模式的agenda</td>
<td class="org-left">&#xa0;</td>
</tr>

<tr>
<td class="org-left">&#xa0;</td>
<td class="org-left">C-c b</td>
<td class="org-left">org-iswitchb</td>
<td class="org-left">进入org模式的iswitchb</td>
<td class="org-left">&#xa0;</td>
</tr>

<tr>
<td class="org-left">&#xa0;</td>
<td class="org-left">C-c c</td>
<td class="org-left">org-capture</td>
<td class="org-left">进入org模式的capture</td>
<td class="org-left">&#xa0;</td>
</tr>

<tr>
<td class="org-left">&#xa0;</td>
<td class="org-left">C-c l</td>
<td class="org-left">org-store-link</td>
<td class="org-left">进入org模式的org-store-link</td>
<td class="org-left">&#xa0;</td>
</tr>
</tbody>
<tbody>
<tr>
<td class="org-left">&#xa0;</td>
<td class="org-left">F9</td>
<td class="org-left">emacs-maximize</td>
<td class="org-left">窗口最大化</td>
<td class="org-left">实际上延时后最大化</td>
</tr>

<tr>
<td class="org-left">&#xa0;</td>
<td class="org-left">C-F9</td>
<td class="org-left">emacs-normal</td>
<td class="org-left">窗口大小还原</td>
<td class="org-left">&#xa0;</td>
</tr>
</tbody>
<tbody>
<tr>
<td class="org-left">&#xa0;</td>
<td class="org-left">C-x 4 4</td>
<td class="org-left">split-window-h2v2</td>
<td class="org-left">窗口分成4份，水平2份垂直2份</td>
<td class="org-left">&#xa0;</td>
</tr>

<tr>
<td class="org-left">&#xa0;</td>
<td class="org-left">C-x 4 3</td>
<td class="org-left">split-window-h2v1</td>
<td class="org-left">窗口分成3份，水平2份垂直1份</td>
<td class="org-left">&#xa0;</td>
</tr>

<tr>
<td class="org-left">&#xa0;</td>
<td class="org-left">C-x 4 5</td>
<td class="org-left">split-window-h1v2</td>
<td class="org-left">窗口分成3份，水平1份垂直2份</td>
<td class="org-left">&#xa0;</td>
</tr>

<tr>
<td class="org-left">&#xa0;</td>
<td class="org-left">M-j</td>
<td class="org-left">split-window-rotate</td>
<td class="org-left">窗口顺时针旋转</td>
<td class="org-left">&#xa0;</td>
</tr>

<tr>
<td class="org-left">&#xa0;</td>
<td class="org-left">M-S-j</td>
<td class="org-left">split-window-hv-turn</td>
<td class="org-left">窗口逆时针旋转</td>
<td class="org-left">&#xa0;</td>
</tr>
</tbody>
<tbody>
<tr>
<td class="org-left">&#xa0;</td>
<td class="org-left">M-g</td>
<td class="org-left">goto-line</td>
<td class="org-left">跳转到某行</td>
<td class="org-left">&#xa0;</td>
</tr>
</tbody>
<tbody>
<tr>
<td class="org-left">&#xa0;</td>
<td class="org-left">C-,</td>
<td class="org-left">scroll-left</td>
<td class="org-left">屏幕左移命令</td>
<td class="org-left">&#xa0;</td>
</tr>

<tr>
<td class="org-left">&#xa0;</td>
<td class="org-left">C-.</td>
<td class="org-left">scroll-right</td>
<td class="org-left">屏幕右移命令</td>
<td class="org-left">&#xa0;</td>
</tr>
</tbody>
<tbody>
<tr>
<td class="org-left">&#xa0;</td>
<td class="org-left">F3</td>
<td class="org-left">repeat-complex-command</td>
<td class="org-left">重复上一命令</td>
<td class="org-left">&#xa0;</td>
</tr>

<tr>
<td class="org-left">&#xa0;</td>
<td class="org-left">C-x z</td>
<td class="org-left">&#xa0;</td>
<td class="org-left">&#xa0;</td>
<td class="org-left">&#xa0;</td>
</tr>
</tbody>
<tbody>
<tr>
<td class="org-left">&#xa0;</td>
<td class="org-left">F8</td>
<td class="org-left">eshell</td>
<td class="org-left">打开eshell</td>
<td class="org-left">&#xa0;</td>
</tr>

<tr>
<td class="org-left">&#xa0;</td>
<td class="org-left">C-F8</td>
<td class="org-left">open-eshell-other-<a href="#org2d85aef">buffer</a></td>
<td class="org-left">在另一个buffer里面打开eshell</td>
<td class="org-left">&#xa0;</td>
</tr>
</tbody>
<tbody>
<tr>
<td class="org-left">&#xa0;</td>
<td class="org-left">C-;</td>
<td class="org-left">set-mark-command</td>
<td class="org-left">设置标记起始位置</td>
<td class="org-left">原来绑定在C-SPC上</td>
</tr>
</tbody>
<tbody>
<tr>
<td class="org-left">&#xa0;</td>
<td class="org-left">F2</td>
<td class="org-left">ecb-hide-ecb-windows</td>
<td class="org-left">ecb模式窗口隐藏</td>
<td class="org-left">&#xa0;</td>
</tr>

<tr>
<td class="org-left">&#xa0;</td>
<td class="org-left">C-F2</td>
<td class="org-left">ecb-show-ecb-windows</td>
<td class="org-left">ecb模式窗口显示</td>
<td class="org-left">&#xa0;</td>
</tr>
</tbody>
<tbody>
<tr>
<td class="org-left">&#xa0;</td>
<td class="org-left">M-;</td>
<td class="org-left">user-comment-dwim-line</td>
<td class="org-left">代码注释</td>
<td class="org-left">&#xa0;</td>
</tr>
</tbody>
<tbody>
<tr>
<td class="org-left">&#xa0;</td>
<td class="org-left">F7</td>
<td class="org-left">quick-compile</td>
<td class="org-left">编译</td>
<td class="org-left">设置编译C</td>
</tr>
</tbody>
<tbody>
<tr>
<td class="org-left">&#xa0;</td>
<td class="org-left">F10</td>
<td class="org-left">my-transparent</td>
<td class="org-left">设置或者取消emacs透明</td>
<td class="org-left">&#xa0;</td>
</tr>
</tbody>
<tbody>
<tr>
<td class="org-left">&#xa0;</td>
<td class="org-left">C-c 1</td>
<td class="org-left">org-time-stamp</td>
<td class="org-left">org模式时间戳</td>
<td class="org-left">&#xa0;</td>
</tr>
</tbody>
<tbody>
<tr>
<td class="org-left">&#xa0;</td>
<td class="org-left">C-c d</td>
<td class="org-left">insert-current-date</td>
<td class="org-left">插入当前日期</td>
<td class="org-left">&#xa0;</td>
</tr>

<tr>
<td class="org-left">&#xa0;</td>
<td class="org-left">C-c t</td>
<td class="org-left">insert-current-time</td>
<td class="org-left">插入当前时间</td>
<td class="org-left">&#xa0;</td>
</tr>
</tbody>
<tbody>
<tr>
<td class="org-left">&#xa0;</td>
<td class="org-left">C-F1</td>
<td class="org-left">manual-entry</td>
<td class="org-left">进入manual</td>
<td class="org-left">&#xa0;</td>
</tr>

<tr>
<td class="org-left">&#xa0;</td>
<td class="org-left">F1</td>
<td class="org-left">open-key-info-file</td>
<td class="org-left">进入自定义快捷键帮助</td>
<td class="org-left">&#xa0;</td>
</tr>
</tbody>
<tbody>
<tr>
<td class="org-left">&#xa0;</td>
<td class="org-left">&#xa0;</td>
<td class="org-left">byte-compile-file</td>
<td class="org-left">编译elisp文件</td>
<td class="org-left">&#xa0;</td>
</tr>

<tr>
<td class="org-left">&#xa0;</td>
<td class="org-left">&#xa0;</td>
<td class="org-left">describe-current-coding-system</td>
<td class="org-left">显示当前buffer的编码格式</td>
<td class="org-left">&#xa0;</td>
</tr>

<tr>
<td class="org-left">&#xa0;</td>
<td class="org-left">C-x RET f</td>
<td class="org-left">&#xa0;</td>
<td class="org-left">改变当前buffer的编码格式</td>
<td class="org-left">&#xa0;</td>
</tr>
</tbody>
<tbody>
<tr>
<td class="org-left">&#xa0;</td>
<td class="org-left">C-x {</td>
<td class="org-left">&#xa0;</td>
<td class="org-left">往左加宽buffer尺寸</td>
<td class="org-left">&#xa0;</td>
</tr>

<tr>
<td class="org-left">&#xa0;</td>
<td class="org-left">C-x }</td>
<td class="org-left">&#xa0;</td>
<td class="org-left">往右加宽buffer尺寸</td>
<td class="org-left">&#xa0;</td>
</tr>

<tr>
<td class="org-left">&#xa0;</td>
<td class="org-left">C-x ^</td>
<td class="org-left">&#xa0;</td>
<td class="org-left">往上加高buffer尺寸</td>
<td class="org-left">&#xa0;</td>
</tr>
</tbody>
<tbody>
<tr>
<td class="org-left">目录模式</td>
<td class="org-left">n</td>
<td class="org-left">&#xa0;</td>
<td class="org-left">向下查看文件</td>
<td class="org-left">&#xa0;</td>
</tr>

<tr>
<td class="org-left">C-x d</td>
<td class="org-left">p</td>
<td class="org-left">&#xa0;</td>
<td class="org-left">向上查看文件</td>
<td class="org-left">&#xa0;</td>
</tr>

<tr>
<td class="org-left">&#xa0;</td>
<td class="org-left">&gt;</td>
<td class="org-left">&#xa0;</td>
<td class="org-left">向下查看目录</td>
<td class="org-left">&#xa0;</td>
</tr>

<tr>
<td class="org-left">&#xa0;</td>
<td class="org-left">&lt;</td>
<td class="org-left">&#xa0;</td>
<td class="org-left">向上查看目录</td>
<td class="org-left">&#xa0;</td>
</tr>

<tr>
<td class="org-left">&#xa0;</td>
<td class="org-left">^</td>
<td class="org-left">&#xa0;</td>
<td class="org-left">返回上一级目录</td>
<td class="org-left">&#xa0;</td>
</tr>

<tr>
<td class="org-left">&#xa0;</td>
<td class="org-left">M-(</td>
<td class="org-left">&#xa0;</td>
<td class="org-left">向下查看已标记</td>
<td class="org-left">&#xa0;</td>
</tr>

<tr>
<td class="org-left">&#xa0;</td>
<td class="org-left">M-)</td>
<td class="org-left">&#xa0;</td>
<td class="org-left">向上查看已标记</td>
<td class="org-left">&#xa0;</td>
</tr>

<tr>
<td class="org-left">&#xa0;</td>
<td class="org-left">g</td>
<td class="org-left">&#xa0;</td>
<td class="org-left">刷新</td>
<td class="org-left">&#xa0;</td>
</tr>

<tr>
<td class="org-left">&#xa0;</td>
<td class="org-left">s</td>
<td class="org-left">&#xa0;</td>
<td class="org-left">切换名称/日期排序方式</td>
<td class="org-left">&#xa0;</td>
</tr>

<tr>
<td class="org-left">&#xa0;</td>
<td class="org-left">i</td>
<td class="org-left">&#xa0;</td>
<td class="org-left">当前窗口下面打开该子目录</td>
<td class="org-left">&#xa0;</td>
</tr>

<tr>
<td class="org-left">&#xa0;</td>
<td class="org-left">v</td>
<td class="org-left">&#xa0;</td>
<td class="org-left">查看当前文件（当前窗口）</td>
<td class="org-left">&#xa0;</td>
</tr>

<tr>
<td class="org-left">&#xa0;</td>
<td class="org-left">o</td>
<td class="org-left">&#xa0;</td>
<td class="org-left">查看当前文件（另一窗口）</td>
<td class="org-left">&#xa0;</td>
</tr>

<tr>
<td class="org-left">&#xa0;</td>
<td class="org-left">y</td>
<td class="org-left">&#xa0;</td>
<td class="org-left">查看当前文件类型</td>
<td class="org-left">&#xa0;</td>
</tr>

<tr>
<td class="org-left">&#xa0;</td>
<td class="org-left">等号</td>
<td class="org-left">&#xa0;</td>
<td class="org-left">比较文件，相当于shell下的diff</td>
<td class="org-left">&#xa0;</td>
</tr>

<tr>
<td class="org-left">&#xa0;</td>
<td class="org-left">m</td>
<td class="org-left">&#xa0;</td>
<td class="org-left">标记（mark）</td>
<td class="org-left">&#xa0;</td>
</tr>

<tr>
<td class="org-left">&#xa0;</td>
<td class="org-left">u</td>
<td class="org-left">&#xa0;</td>
<td class="org-left">取消标记</td>
<td class="org-left">&#xa0;</td>
</tr>

<tr>
<td class="org-left">&#xa0;</td>
<td class="org-left">U</td>
<td class="org-left">&#xa0;</td>
<td class="org-left">取消所有标记</td>
<td class="org-left">&#xa0;</td>
</tr>

<tr>
<td class="org-left">&#xa0;</td>
<td class="org-left">* /</td>
<td class="org-left">&#xa0;</td>
<td class="org-left">标记所有文件夹</td>
<td class="org-left">&#xa0;</td>
</tr>

<tr>
<td class="org-left">&#xa0;</td>
<td class="org-left">* *</td>
<td class="org-left">&#xa0;</td>
<td class="org-left">标记所有可执行文件</td>
<td class="org-left">&#xa0;</td>
</tr>

<tr>
<td class="org-left">&#xa0;</td>
<td class="org-left">* @</td>
<td class="org-left">&#xa0;</td>
<td class="org-left">标记所有符号链接</td>
<td class="org-left">&#xa0;</td>
</tr>

<tr>
<td class="org-left">&#xa0;</td>
<td class="org-left">* c</td>
<td class="org-left">&#xa0;</td>
<td class="org-left">改变标记的符号</td>
<td class="org-left">&#xa0;</td>
</tr>

<tr>
<td class="org-left">&#xa0;</td>
<td class="org-left">% m</td>
<td class="org-left">&#xa0;</td>
<td class="org-left">根据正则表达式改变标记文件</td>
<td class="org-left">&#xa0;</td>
</tr>

<tr>
<td class="org-left">&#xa0;</td>
<td class="org-left">% g</td>
<td class="org-left">&#xa0;</td>
<td class="org-left">根据正则表达式改变标记文件的内容</td>
<td class="org-left">&#xa0;</td>
</tr>

<tr>
<td class="org-left">&#xa0;</td>
<td class="org-left">d</td>
<td class="org-left">&#xa0;</td>
<td class="org-left">标记为删除</td>
<td class="org-left">&#xa0;</td>
</tr>

<tr>
<td class="org-left">&#xa0;</td>
<td class="org-left">~</td>
<td class="org-left">&#xa0;</td>
<td class="org-left">标记所有备份文件为删除</td>
<td class="org-left">&#xa0;</td>
</tr>

<tr>
<td class="org-left">&#xa0;</td>
<td class="org-left">#</td>
<td class="org-left">&#xa0;</td>
<td class="org-left">将存盘文件标记为删除</td>
<td class="org-left">&#xa0;</td>
</tr>

<tr>
<td class="org-left">&#xa0;</td>
<td class="org-left">&amp; d</td>
<td class="org-left">&#xa0;</td>
<td class="org-left">根据正则表达式标记删除</td>
<td class="org-left">&#xa0;</td>
</tr>

<tr>
<td class="org-left">&#xa0;</td>
<td class="org-left">X</td>
<td class="org-left">&#xa0;</td>
<td class="org-left">执行标记的操作</td>
<td class="org-left">&#xa0;</td>
</tr>

<tr>
<td class="org-left">&#xa0;</td>
<td class="org-left">+</td>
<td class="org-left">&#xa0;</td>
<td class="org-left">新建目录</td>
<td class="org-left">&#xa0;</td>
</tr>

<tr>
<td class="org-left">&#xa0;</td>
<td class="org-left">C-x C-q</td>
<td class="org-left">&#xa0;</td>
<td class="org-left">将文件列表设置为只读</td>
<td class="org-left">&#xa0;</td>
</tr>

<tr>
<td class="org-left">&#xa0;</td>
<td class="org-left">D</td>
<td class="org-left">&#xa0;</td>
<td class="org-left">删除文件</td>
<td class="org-left">标记（m）后的操作</td>
</tr>

<tr>
<td class="org-left">&#xa0;</td>
<td class="org-left">C</td>
<td class="org-left">&#xa0;</td>
<td class="org-left">拷贝</td>
<td class="org-left">标记（m）后的操作</td>
</tr>

<tr>
<td class="org-left">&#xa0;</td>
<td class="org-left">O</td>
<td class="org-left">&#xa0;</td>
<td class="org-left">改变用户</td>
<td class="org-left">标记（m）后的操作</td>
</tr>

<tr>
<td class="org-left">&#xa0;</td>
<td class="org-left">G</td>
<td class="org-left">&#xa0;</td>
<td class="org-left">改变群组</td>
<td class="org-left">标记（m）后的操作</td>
</tr>

<tr>
<td class="org-left">&#xa0;</td>
<td class="org-left">S</td>
<td class="org-left">&#xa0;</td>
<td class="org-left">符号链接</td>
<td class="org-left">标记（m）后的操作</td>
</tr>

<tr>
<td class="org-left">&#xa0;</td>
<td class="org-left">H</td>
<td class="org-left">&#xa0;</td>
<td class="org-left">硬链接</td>
<td class="org-left">标记（m）后的操作</td>
</tr>

<tr>
<td class="org-left">&#xa0;</td>
<td class="org-left">Z</td>
<td class="org-left">&#xa0;</td>
<td class="org-left">压缩</td>
<td class="org-left">标记（m）后的操作</td>
</tr>

<tr>
<td class="org-left">&#xa0;</td>
<td class="org-left">W</td>
<td class="org-left">&#xa0;</td>
<td class="org-left">复制文件名</td>
<td class="org-left">标记（m）后的操作</td>
</tr>

<tr>
<td class="org-left">&#xa0;</td>
<td class="org-left">K</td>
<td class="org-left">&#xa0;</td>
<td class="org-left">删除行，刷新后可恢复</td>
<td class="org-left">标记（m）后的操作</td>
</tr>
</tbody>
<tbody>
<tr>
<td class="org-left">&#xa0;</td>
<td class="org-left">&#xa0;</td>
<td class="org-left">revert-<a href="#org2d85aef">buffer</a></td>
<td class="org-left">刷新buffer</td>
<td class="org-left">&#xa0;</td>
</tr>

<tr>
<td class="org-left">&#xa0;</td>
<td class="org-left">&#xa0;</td>
<td class="org-left">emacs -q</td>
<td class="org-left">进入emacs默认最小配置</td>
<td class="org-left">启动emacs时使用</td>
</tr>

<tr>
<td class="org-left">&#xa0;</td>
<td class="org-left">&#xa0;</td>
<td class="org-left">eval-current-<a href="#org2d85aef">buffer</a></td>
<td class="org-left">当前配置立马生效</td>
<td class="org-left">&#xa0;</td>
</tr>

<tr>
<td class="org-left">&#xa0;</td>
<td class="org-left">&#xa0;</td>
<td class="org-left">rename-<a href="#org2d85aef">buffer</a></td>
<td class="org-left">重命名当前buffer</td>
<td class="org-left">&#xa0;</td>
</tr>
</tbody>
</table></li>
</ul>
</div>
</div>
<div id="outline-container-org6ae1ff6" class="outline-4">
<h4 id="org6ae1ff6"><span class="section-number-4">1.2.2</span> 其他</h4>
<div class="outline-text-4" id="text-1-2-2">
<ul class="org-ul">
<li>在eshell中使用$PATH$可以输出当前emacs的路径path；</li>
<li>查询当前模式:C-h m或者M-x describe-mode ;</li>
<li>el源文件编译:对于emacs某些包，有生成的elc的编译文件，emacs启动时，调用elc启动速度会更快，但是如果修改了源文件el，则可
以使用M-x：byte-recompile-directory来重新编译，才能将修改的地方起作用。比如org mode中修改latex的生成模式函数
org-export-latex-make-header</li>
<li>右键菜单配置打开命令：在注册表\HKEY\<sub>CLASSES</sub>\<sub>ROOT\AllFilesystemObjects\shell\下面新建一项Emacs</sub>，再在下面新建command项，
看起来应该是这样：\HKEY\<sub>CLASSES</sub>\<sub>ROOT\AllFilesystemObjects\shell\Emacs\command</sub>\ 然后把command项右边的默认值设为
Path\gnuclientw.exe，并加上&ldquo;%1&rdquo;</li>
<li>emacs配置立马生效: 可以M-x eval-current-buffer立马生效;</li>
<li>查看emacs占用资源：M-x profiler-start 然后选cpu+mem然后执行
profiler-report；</li>
</ul>
</div>
</div>
<div id="outline-container-orgfdb6caf" class="outline-4">
<h4 id="orgfdb6caf"><span class="section-number-4">1.2.3</span> 计算器</h4>
<div class="outline-text-4" id="text-1-2-3">
<ul class="org-ul">
<li>计算器模式1：M-x calc进入，输入&ldquo;10&rdquo;回车&ldquo;d2，这个d2会把窗口中的所有数字显示为二进制形式，所有的数字都会以&rdquo;2#&ldquo;开头,以表
示它们是二进制形式。如果要重新用十进制显示，则输入&rdquo;d0&ldquo;即可，同样，也可以用&rdquo;d8&ldquo;&rdquo;，&ldquo;d6&rdquo;来显示八进制和十六进制的格式。如
果要进行进制转换，比如讲二进制的1010转换为十六进制，可以这样先d6设定16进制模式，然后再minibuffer中输入2#1010，回车；</li>
<li>计算器模式2：M-x quick-calc进入，启动后会在minibuffer里提示输入数学计算式，回车就显示结果；</li>
</ul>
</div>
</div>
<div id="outline-container-org8356dde" class="outline-4">
<h4 id="org8356dde"><span class="section-number-4">1.2.4</span> 图片</h4>
<div class="outline-text-4" id="text-1-2-4">
<ul class="org-ul">
<li><p>
导入图片见图\ref{img-pic-test}:可以通过调节width=.1\ linewidth来限制图片输出的大小, 其中.1表示倍率，或者使用scale=0.2
进行调节
</p>

<div id="orga69d16a" class="figure">
<p><img src="./img/emacs1.jpg" alt="emacs1.jpg" />
</p>
<p><span class="figure-number">Figure 1: </span>emacs导图测试</p>
</div></li>
</ul>
</div>
</div>
<div id="outline-container-orgf73809b" class="outline-4">
<h4 id="orgf73809b"><span class="section-number-4">1.2.5</span> 字体</h4>
<div class="outline-text-4" id="text-1-2-5">
<ul class="org-ul">
<li>eshell 查看系统字体:eshell:fc-list(或者fc-list.exe) (空格) :lang=zh-cn</li>
</ul>
</div>
</div>
<div id="outline-container-org2a0cafc" class="outline-4">
<h4 id="org2a0cafc"><span class="section-number-4">1.2.6</span> 编码</h4>
<div class="outline-text-4" id="text-1-2-6">
<ul class="org-ul">
<li>设置编码格式:使用快捷键：C-x RET f 然后可以用 TAB 显示所有存在的编码。这个命令会改变文件！如果只是出现乱码，并且不想改
变文件本身，可以用命令C-x RET r ( M-x revert-<a href="#org2d85aef">buffer</a>-with-coding-system)来用指定的编码重新读入这个文件。不改变当前文件
编码，但将该文件另存为utf-8编码格式：C-x RET c(M-x universal-coding-system-argument ) utf-8</li>
<li>对于org-mode导出HTML时，如果org-mode是gbk/utf-8，则导出的HTML也是gbk/utf-8；</li>
</ul>
</div>
</div>
<div id="outline-container-org4d6433f" class="outline-4">
<h4 id="org4d6433f"><span class="section-number-4">1.2.7</span> 外部程序</h4>
<div class="outline-text-4" id="text-1-2-7">
<p>
使用M-x shell-command然后输入win下程序，可以调用执行之。也可以绑定到
按键上。 
</p>
</div>
</div>
</div>
<div id="outline-container-orgd7701c9" class="outline-3">
<h3 id="orgd7701c9"><span class="section-number-3">1.3</span> elisp</h3>
<div class="outline-text-3" id="text-1-3">
</div>
<div id="outline-container-org55c6a61" class="outline-4">
<h4 id="org55c6a61"><span class="section-number-4">1.3.1</span> 变量</h4>
<div class="outline-text-4" id="text-1-3-1">
<ul class="org-ul">
<li>list：
要得到一个list，可以使用下面的方式，第3种方式如果不加单引号，elisp将
会把1当成函数把2和3当成参数，结果就会报错。
<ol class="org-ol">
<li>(list 1 2 3)：产生一个list对象，且每次产生的都是新的对象</li>
<li>(quote (1 2 3))：产生一个list对象，但每次产生的对象可能都是指向同
一个</li>
<li>&rsquo;(1 2 3)：相同quote方式。</li>
</ol></li>
<li>全局变量
<ul class="org-ul">
<li>defvar:定义全局变量</li>
</ul></li>
<li>局部变量
<ul class="org-ul">
<li>let：定义局部变量</li>
</ul></li>
<li>作用域(scope)</li>
<li>生存期(extent)</li>
</ul>
</div>
</div>
<div id="outline-container-orgf927942" class="outline-4">
<h4 id="orgf927942"><span class="section-number-4">1.3.2</span> 符号</h4>
<div class="outline-text-4" id="text-1-3-2">
<p>
elisp中符号(symbol)是一个Lisp对象，它是一个数据结构，由以下4个部分组成，
</p>
<ul class="org-ul">
<li>name：symbol的名字</li>
<li>value cell：作为一个动态变量，symbol的值</li>
<li>function cell：作为一个函数，它的函数值</li>
<li>property list：属性列表</li>
</ul>


<p>
symbol的标识符直接在Lisp代码中出现，会被读取为一个符号（symbol）， 然
后在不同的上下文中 ，Lisp求值器会看情况取出value cell或者function cell
的内容， 作为该符号（symbol）的值（value）。如果某一个函数接受符号
（symbol）而不是它的值（value）作为参数，我们就得引用（quote）它， 即，
我们使用引用，可以创建一个符号（symbol）字面量（literal）。symbol-name
函数可以用来获取符号（symbol）x的name，
</p>
<div class="org-src-container">
<pre class="src src-emacs-lisp">(symbol-name 'x)
</pre>
</div>
</div>
</div>
<div id="outline-container-org73c68dd" class="outline-4">
<h4 id="org73c68dd"><span class="section-number-4">1.3.3</span> 表达式</h4>
<div class="outline-text-4" id="text-1-3-3">
<p>
形如(+ 1 2)叫表达式，从左到右位于第一个位置的元素，表示
</p>
<ul class="org-ul">
<li>一个函数：其参数必需要先求值完毕</li>
<li>一个宏：其参数有自己的对参数的求值策略</li>
<li>一个内置的特殊命令：其参数有自己的对参数的求值策略</li>
</ul>
<p>
其他位置的元素称为参数；
</p>
</div>
</div>

<div id="outline-container-orgf8adb14" class="outline-4">
<h4 id="orgf8adb14"><span class="section-number-4">1.3.4</span> 函数</h4>
<div class="outline-text-4" id="text-1-3-4">
<ul class="org-ul">
<li>interactive: 该特殊表表示该函数可以做交互，且定义函数参数类型。
<ul class="org-ul">
<li>星号*：表示如果有错误，就产生一个错误消息；</li>
<li>p：表示传送给函数的参数的是一个处理过的前缀参量的值，前缀参量用
C-u值的形式传递</li>
<li>cxx: 指交互表达式希望产生一个提示xx并且后续的参数将是一个字符</li>
<li>r：使emacs将位点所在区域的开始值和结束值作为函数的两个参数；</li>
<li>Bxx：告诉emacs用缓冲区的名字作为函数的参数,并用xx作为提示</li>
</ul></li>
<li><p>
concat：将字符串连接，如下
</p>
<div class="org-src-container">
<pre class="src src-lisp">(concat <span style="color: #ffa07a;">"gcc"</span> <span style="color: #ffa07a;">"-W -o"</span>)
</pre>
</div></li>
<li>file-name-sans-extension: 获得文件名，除了后缀名；</li>
<li><a href="#org2d85aef">buffer</a>-file-name: 获得文件名，带后缀名；</li>
<li>current-<a href="#org2d85aef">buffer</a>: 当前buffer名；</li>
<li>progn: 该函数使其每个参数表达式被逐一求值，并返回最后1个表达式的值</li>
<li>p: 末尾带p(predicate)的函数一般都是判断函数，返回true或false;</li>
</ul>
</div>
</div>
<div id="outline-container-orgc39ce92" class="outline-4">
<h4 id="orgc39ce92"><span class="section-number-4">1.3.5</span> 功能</h4>
<div class="outline-text-4" id="text-1-3-5">
<ul class="org-ul">
<li><p>
获取buffer文件名: 行<a href="#coderef-extn" class="coderef" onmouseover="CodeHighlightOn(this, 'coderef-extn');" onmouseout="CodeHighlightOff(this, 'coderef-extn');">1</a>带有后缀名，行<a href="#coderef-noextn" class="coderef" onmouseover="CodeHighlightOn(this, 'coderef-noextn');" onmouseout="CodeHighlightOff(this, 'coderef-noextn');">2</a>不带后缀名；
</p>
<div class="org-src-container">
<pre class="src src-lisp"><span id="coderef-extn" class="coderef-off"><span class="linenr">1: </span>(buffer-file-name (current-buffer))</span>
<span id="coderef-noextn" class="coderef-off"><span class="linenr">2: </span>(file-name-sans-extension (buffer-file-name (current-buffer)))</span>
</pre>
</div></li>
</ul>
</div>
</div>
</div>
<div id="outline-container-org51fc1c0" class="outline-3">
<h3 id="org51fc1c0"><span class="section-number-3">1.4</span> org-mode</h3>
<div class="outline-text-3" id="text-1-4">
<p>
org-mode在线<a href="http://orgmode.org/org.html">帮助文档</a>。
</p>
</div>
<div id="outline-container-org459945f" class="outline-4">
<h4 id="org459945f"><span class="section-number-4">1.4.1</span> 可视化</h4>
<div class="outline-text-4" id="text-1-4-1">
<ul class="org-ul">
<li>初始可视化：在org文档的开始，加上#+startup: overview, 其中overview可以是
如下选项
<ol class="org-ol">
<li>overview：只显示第一级标题；</li>
<li>content：显示所有标题；</li>
<li>showall：显示所有标题和正文；</li>
<li>showeverything：显示所有标题和正文, 雷同showall；</li>
</ol></li>
</ul>
</div>
</div>
<div id="outline-container-orgf5a562e" class="outline-4">
<h4 id="orgf5a562e"><span class="section-number-4">1.4.2</span> 抽屉</h4>
<div class="outline-text-4" id="text-1-4-2">
<p>
使用抽屉drawer，在导出时，drawer里面的文字不会被到导出, 可以在里面放入一些
注解, 可以使用命令&rsquo;org-insert-property-drawer&rsquo; 
</p>
<p>
抽屉内部
</p>
</div>
</div>
<div id="outline-container-orga8fda77" class="outline-4">
<h4 id="orga8fda77"><span class="section-number-4">1.4.3</span> 块</h4>
<div class="outline-text-4" id="text-1-4-3">
<p>
代码块可以设置#+startup: hideblocks, 做初始化折叠或打开。可以有如下选项
</p>
<ol class="org-ol">
<li>hideblocks：隐藏代码块；</li>
<li>nohideblocks：显示代码块；</li>
</ol>
</div>
</div>
<div id="outline-container-org8069ba5" class="outline-4">
<h4 id="org8069ba5"><span class="section-number-4">1.4.4</span> 脚注</h4>
<div class="outline-text-4" id="text-1-4-4">
<p>
脚注注解可以放在任何正文位置，脚注形式有；
</p>
<ul class="org-ul">
<li>脚注一, 普通序号脚注<sup><a id="fnr.1" class="footref" href="#fn.1">1</a></sup>;</li>
<li>脚注二，带名字脚注<sup><a id="fnr.2" class="footref" href="#fn.2">2</a></sup>;</li>
<li>脚注三, 匿名脚注<sup><a id="fnr.3" class="footref" href="#fn.3">3</a></sup>;</li>
<li>脚注四，带描述的脚注<sup><a id="fnr.4" class="footref" href="#fn.4">4</a></sup>;</li>
</ul>
</div>
</div>
<div id="outline-container-org39701b8" class="outline-4">
<h4 id="org39701b8"><span class="section-number-4">1.4.5</span> 序号</h4>
<div class="outline-text-4" id="text-1-4-5">
<ul class="org-ul">
<li>无序号：无序号符号可以是&rsquo;-&rsquo;和&rsquo;+&rsquo;和&rsquo;*&rsquo;；</li>
<li>有序号：可以是&rsquo;1.&rsquo;和&rsquo;1)&rsquo;;</li>
<li id="描述">对序号的描述；</li>
</ul>
</div>
</div>
<div id="outline-container-orgf4272fe" class="outline-4">
<h4 id="orgf4272fe"><span class="section-number-4">1.4.6</span> 字体</h4>
<div class="outline-text-4" id="text-1-4-6">
<p>
试试 <b>粗体</b> ，试试 <i>斜体</i> ,  试试删除线  <del>删除线</del> ，试试 <span class="underline">下划线</span>, 试试下标 H<sub>2</sub>O 试试上标 E=mc<sup>2</sup> ，等宽字体 <code>git</code>, <code>code</code>
</p>
</div>
</div>
<div id="outline-container-orge38da06" class="outline-4">
<h4 id="orge38da06"><span class="section-number-4">1.4.7</span> 公式</h4>
<div class="outline-text-4" id="text-1-4-7">
<ol class="org-ol">
<li>公式：在本行，\(a^2+b^2=c^2\)</li>
<li>公式：在本行，\(a^2 + b^2 = c^2\)</li>
<li>公式：单独成行。\[a^2 + b^2 = c^2\]</li>
<li>公式：单独成行。\[a^2 + b^2 = c^2\]</li>
<li>公式：在本行，\(\sqrt{2}\)</li>
<li>和公式：\[a=\sum_{i=0}^{n}a_{i}\]</li>
<li>分数公式：\[\frac{x}{y}\]</li>
<li>输入equ，然后按tab也可以进入begin end模式，编辑公式，可以有标号，可以设
置label标签引用。</li>
</ol>
</div>
</div>
<div id="outline-container-org2113f80" class="outline-4">
<h4 id="org2113f80"><span class="section-number-4">1.4.8</span> 表格</h4>
<div class="outline-text-4" id="text-1-4-8">
</div>
<div id="outline-container-orgb77c523" class="outline-5">
<h5 id="orgb77c523"><span class="section-number-5">1.4.8.1</span> 内建表格</h5>
<div class="outline-text-5" id="text-1-4-8-1">
<ul class="org-ul">
<li>固定列宽：可以在某列中写入&lt;n&gt;，n表示n个英文字符宽度，超出宽度的字符将隐
藏，并且以&rsquo;=&gt;&rsquo;结尾, 使用鼠标将光标移到&rsquo;=&gt;&rsquo;上，emacs将弹出小窗口显示内容，
如果要编辑，可以使用C-c &rsquo;, 可以在文件头使用#+startup: align来显示与否
<ol class="org-ol">
<li>align: 隐藏多余的字符；</li>
<li>noalign：显示多余的字符；</li>
</ol></li>
<li>表格对齐
<ol class="org-ol">
<li>&rsquo;&lt;r&gt;&rsquo;: 表格右对齐；</li>
<li>&rsquo;&lt;c&gt;&rsquo;: 表格左对齐；</li>
<li>&rsquo;&lt;l&gt;&rsquo;: 表格左对齐；</li>
</ol></li>
<li>表格合并：在一空行中，首列使用&rsquo;/&rsquo;, 将需要合并的列用&rsquo;&lt;&gt;&rsquo;括起来，则导出的文
档中合并了的列，将会有垂直线显示；</li>
</ul>
</div>
</div>
<div id="outline-container-org9ee4e75" class="outline-5">
<h5 id="org9ee4e75"><span class="section-number-5">1.4.8.2</span> 表格插件</h5>
<div class="outline-text-5" id="text-1-4-8-2">
<p>
可以使用table-mode，命令table-insert可以插入一个n行n列的表格，
table-span-cell可以合并单元格。 
</p>
</div>
</div>
<div id="outline-container-org61e541a" class="outline-5">
<h5 id="org61e541a"><span class="section-number-5">1.4.8.3</span> 表格第三方</h5>
<div class="outline-text-5" id="text-1-4-8-3">
<p>
可以将内建表格用在其他mode中,只需要配置.
</p>
<div class="org-src-container">
<pre class="src src-lisp">(add-hook 'message-mode-hook 'turn-on-orgtbl)
</pre>
</div>
</div>
</div>
<div id="outline-container-orge7447df" class="outline-5">
<h5 id="orge7447df"><span class="section-number-5">1.4.8.4</span> 表格计算</h5>
<div class="outline-text-5" id="text-1-4-8-4">
<ul class="org-ul">
<li>行表示：第2行：@2;</li>
<li>列表示：第2列：$2;</li>
<li>表格表示：第2行第2列：@2$2, 或者B2;</li>
<li>打开表格符号帮助：C-c ?;</li>
<li>显示行列帮助：C-c };</li>
<li>公式引用：在表格下方的计算公式上使用C-c C-c，或者在表格中使用C-u C-c *;</li>
<li>表格中输入计算公式：在表格中使用=表示列计算方式，使用:=表格单个表格计算公式；</li>
<li>在mini buffer中输入公式：列计算模式C-c =，表格计算模式C-u C-c = ;</li>
<li>在单独的buffer中输入公式：C-c &rsquo;;</li>
<li>求平均值函数vmean:例如:=vmean($2..$3)；</li>
</ul>
</div>
</div>
</div>
<div id="outline-container-org8965ab7" class="outline-4">
<h4 id="org8965ab7"><span class="section-number-4">1.4.9</span> 画图</h4>
<div class="outline-text-4" id="text-1-4-9">
<ul class="org-ul">
<li><p>
ditaa测试：如果要支持中文，org文档需为utf-8的格式，这是java调用ditaa.jar
时的默认格式, 效果如图\ref{img-test}所示 
</p>

<div class="figure">
<p><img src="./img/img-zhongwen.png" alt="img-zhongwen.png" />
</p>
</div></li>

<li><p>
gnuplot，见图\ref{img-gnuplot-test}所示：
</p>

<div class="figure">
<p><img src="./img/img-gnuplot-test.png" alt="img-gnuplot-test.png" />
</p>
</div>

<p>
引用表格画图：表格见表\ref{tbl-data-plot}所示。
</p>
<table id="org0e41362" border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-right" />

<col  class="org-right" />

<col  class="org-right" />
</colgroup>
<thead>
<tr>
<th scope="col" class="org-right">independent var</th>
<th scope="col" class="org-right">first dependent var</th>
<th scope="col" class="org-right">second dependent var</th>
</tr>
</thead>
<tbody>
<tr>
<td class="org-right">0.1</td>
<td class="org-right">0.425</td>
<td class="org-right">0.375</td>
</tr>

<tr>
<td class="org-right">0.2</td>
<td class="org-right">0.3125</td>
<td class="org-right">0.3375</td>
</tr>

<tr>
<td class="org-right">0.3</td>
<td class="org-right">0.24999993</td>
<td class="org-right">0.28333338</td>
</tr>

<tr>
<td class="org-right">0.4</td>
<td class="org-right">0.275</td>
<td class="org-right">0.28125</td>
</tr>

<tr>
<td class="org-right">0.5</td>
<td class="org-right">0.26</td>
<td class="org-right">0.27</td>
</tr>

<tr>
<td class="org-right">0.6</td>
<td class="org-right">0.25833338</td>
<td class="org-right">0.24999993</td>
</tr>

<tr>
<td class="org-right">0.7</td>
<td class="org-right">0.24642845</td>
<td class="org-right">0.23928553</td>
</tr>

<tr>
<td class="org-right">0.8</td>
<td class="org-right">0.23125</td>
<td class="org-right">0.2375</td>
</tr>

<tr>
<td class="org-right">0.9</td>
<td class="org-right">0.23333323</td>
<td class="org-right">0.2333332</td>
</tr>

<tr>
<td class="org-right">1</td>
<td class="org-right">0.2225</td>
<td class="org-right">0.22</td>
</tr>

<tr>
<td class="org-right">1.1</td>
<td class="org-right">0.20909075</td>
<td class="org-right">0.22272708</td>
</tr>

<tr>
<td class="org-right">1.2</td>
<td class="org-right">0.19999998</td>
<td class="org-right">0.21458333</td>
</tr>

<tr>
<td class="org-right">1.3</td>
<td class="org-right">0.19615368</td>
<td class="org-right">0.21730748</td>
</tr>

<tr>
<td class="org-right">1.4</td>
<td class="org-right">0.18571433</td>
<td class="org-right">0.21071435</td>
</tr>

<tr>
<td class="org-right">1.5</td>
<td class="org-right">0.19000008</td>
<td class="org-right">0.2150001</td>
</tr>

<tr>
<td class="org-right">1.6</td>
<td class="org-right">0.1828125</td>
<td class="org-right">0.2046875</td>
</tr>

<tr>
<td class="org-right">1.7</td>
<td class="org-right">0.18088253</td>
<td class="org-right">0.1985296</td>
</tr>

<tr>
<td class="org-right">1.8</td>
<td class="org-right">0.17916675</td>
<td class="org-right">0.18888898</td>
</tr>

<tr>
<td class="org-right">1.9</td>
<td class="org-right">0.19342103</td>
<td class="org-right">0.21315783</td>
</tr>

<tr>
<td class="org-right">2</td>
<td class="org-right">0.19</td>
<td class="org-right">0.21625</td>
</tr>

<tr>
<td class="org-right">2.1</td>
<td class="org-right">0.18214268</td>
<td class="org-right">0.20714265</td>
</tr>

<tr>
<td class="org-right">2.2</td>
<td class="org-right">0.17727275</td>
<td class="org-right">0.2022727</td>
</tr>

<tr>
<td class="org-right">2.3</td>
<td class="org-right">0.1739131</td>
<td class="org-right">0.1989131</td>
</tr>

<tr>
<td class="org-right">2.4</td>
<td class="org-right">0.16770833</td>
<td class="org-right">0.1916667</td>
</tr>

<tr>
<td class="org-right">2.5</td>
<td class="org-right">0.164</td>
<td class="org-right">0.188</td>
</tr>

<tr>
<td class="org-right">2.6</td>
<td class="org-right">0.15769238</td>
<td class="org-right">0.18076923</td>
</tr>

<tr>
<td class="org-right">2.7</td>
<td class="org-right">0.1592591</td>
<td class="org-right">0.1888887</td>
</tr>

<tr>
<td class="org-right">2.8</td>
<td class="org-right">0.1598214</td>
<td class="org-right">0.18928565</td>
</tr>

<tr>
<td class="org-right">2.9</td>
<td class="org-right">0.15603453</td>
<td class="org-right">0.1844828</td>
</tr>
</tbody>
</table>


<div class="figure">
<p><img src="./img/data-plot.png" alt="data-plot.png" />
</p>
</div></li>
</ul>
</div>
</div>

<div id="outline-container-org1f66676" class="outline-4">
<h4 id="org1f66676"><span class="section-number-4">1.4.10</span> 链接</h4>
<div class="outline-text-4" id="text-1-4-10">
<ul class="org-ul">
<li>链接之间跳转：C-c C-x n和C-c C-x p</li>
<li>内部链接：只需要在某个需要链接到的地方使用# <a id="orgf56ac0e"></a>，设置一个标点，再
在使用的地方，使用像[[][]]这样的格式去定位标点，并给出描述符，或者直接使
用快捷键C-c C-l添加该点，比如已经在org-mode标题处设置了标点，然后使用
[[][]]定位过去就是 <a href="#org51fc1c0">1.4</a>, 并且可以使用C-c &amp;返回来, 使用C-c C-o可以打开
标点。</li>
<li>辐射链接：使用3个尖括号括起的锚点，可以将文档中所有的锚点链接起来，比如
<a id="org2d85aef">buffer</a> ;</li>
<li>外部链接：包括链接到文件、网址、email等</li>
<li>包含：可以在头部使用#+include:&ldquo;path/file&rdquo;包含某个文件，比如org，然后就可
以将所有的org文件包含到一个文件里面统一导出；后面添加一定的开关可以导入特
定的数据，比如添加 <span class="underline">src c</span> ，可以导入c代码；使用 <span class="underline">lines</span> 关键字可以导入文
件的某几行</li>
</ul>
</div>
</div>
<div id="outline-container-org79314f5" class="outline-4">
<h4 id="org79314f5"><span class="section-number-4">1.4.11</span> gtd</h4>
<div class="outline-text-4" id="text-1-4-11">
<p>
gtd状态之间转换可以使用快捷键C-c C-t;  
</p>
<ul class="org-ul">
<li><p>
工作流状态: 对于一个工作流可以使用 <span class="underline">sequence</span> 的工作流设置状态如, 其中竖
线用于分割，一边是用于需要动作的，一边只是记录不需要动作。颜色也有不同，
如果没有竖线，最后一个状态将代表DONE状态
</p>
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #ffb6c1; font-size: 105%;">setq</span> org-todo-keywords '((sequence <span style="color: #ffa07a;">"TODO"</span> <span style="color: #ffa07a;">"VERIFY"</span> <span style="color: #ffa07a;">"|"</span> <span style="color: #ffa07a;">"DONE"</span>)))
</pre>
</div></li>
<li><p>
工作类型: 使用 <span class="underline">type</span> 设置工作类型如
</p>
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #ffb6c1; font-size: 105%;">setq</span> org-todo-keywords '((type <span style="color: #ffa07a;">"Fred"</span> <span style="color: #ffa07a;">"Sara"</span> <span style="color: #ffa07a;">"Lucy"</span> <span style="color: #ffa07a;">"|"</span> <span style="color: #ffa07a;">"DONE"</span>)))
</pre>
</div></li>
<li><p>
文件个性化状态：针对每个org文件设置状态切换关键字，在org头设置如下, 行
(all-todo)可以定义两种关键字，行(seq-todo)可以定义工作流状态，行
(type-todo)可以定义工作类型。
</p>
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span class="linenr">1: </span>#+TODO: TODO FEEDBACK VERIFY | DONE CANCELED (ref: all-todo)
<span class="linenr">2: </span>#+SEQ_TODO: TODO FEEDBACK VERIFY | DONE CANCELED (ref: seq-todo)
<span class="linenr">3: </span>#+TYP_TODO: Fred Sara Lucy Mike | DONE            (ref: type-todo)
</pre>
</div></li>
<li><p>
状态样式：各种状态可以设置不同的颜色，字体等如
</p>
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #ffb6c1; font-size: 105%;">setq</span> org-todo-keyword-faces
      '((<span style="color: #ffa07a;">"TODO"</span> . org-warning) (<span style="color: #ffa07a;">"STARTED"</span> . <span style="color: #ffa07a;">"yellow"</span>)
       (<span style="color: #ffa07a;">"CANCELED"</span> . (<span style="color: #87cefa; text-decoration: underline;">:foreground</span> <span style="color: #ffa07a;">"blue"</span> <span style="color: #87cefa; text-decoration: underline;">:weight</span> bold))))
</pre>
</div></li>
</ul>
</div>
</div>
<div id="outline-container-org6ca1a5f" class="outline-4">
<h4 id="org6ca1a5f"><span class="section-number-4">1.4.12</span> 换行</h4>
<div class="outline-text-4" id="text-1-4-12">
<p>
一般使用一个空行表示换行，也可以使用latex的斜杠par，如果需要在某个行强行折
行，可以使用两个斜杠。如果想写类似诗句一样的格式可以使用如下方式
</p>
<p class="verse">
Great clouds overhead<br />
Tiny black birds rise and fall<br />
Snow covers Emacs<br />
<br />
&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#x2013; AlexSchroeder<br />
</p>
</div>
</div>
<div id="outline-container-org910595b" class="outline-4">
<h4 id="org910595b"><span class="section-number-4">1.4.13</span> babel</h4>
<div class="outline-text-4" id="text-1-4-13">
<ol class="org-ol">
<li>verse: 见换行一节的用法</li>
<li><p>
quote：如果从别的文章中引用一段话，通常需要将这些语句左右都流出一定空间，
如下面所示
</p>
<blockquote>
<p>
Everything should be made as simple as possible,
but not any simpler &#x2013; Albert Einstein
</p>
</blockquote></li>
<li><p>
center: 如果需要将某些文字中心对齐，可以使用如下方式
</p>
<div class="org-center">
<p>
Everything should be made as simple as possible, <br />
but not any simpler
</p>
</div></li>
<li><p>
example: 里面的文字不会被解析，原样导出
</p>
<pre class="example">
Some example from a text_file.
</pre>
<p>
也可以在首行使用冒号加一个空格后面添加文字作为一个简化方式，如
</p>
<pre class="example">
Some example from a text_file.

</pre></li>
<li><p>
src: 可以放入一些代码, 使用-n或者+n会对代码标记行号, 其中-n会使代码行号
重新计数，+n从上一个代码片段累计计数，使用-r表示可以引用行号，只需要在某
行末尾使用（ref：name），在引用的地方使用C-c C-l 输入连接（name）就可引
用了。使用-i可以对某些代码做合理缩进 
</p>
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span id="coderef-sc" class="coderef-off"><span class="linenr">1: </span>(<span style="color: #ffb6c1; font-size: 105%;">save-excursion</span></span>
<span id="coderef-jump" class="coderef-off"><span class="linenr">2: </span>   (goto-char (point-min)))</span>
</pre>
</div>
<p>
In line <a href="#coderef-sc" class="coderef" onmouseover="CodeHighlightOn(this, 'coderef-sc');" onmouseout="CodeHighlightOff(this, 'coderef-sc');">1</a> we remember the current position. Line <a href="#coderef-jump" class="coderef" onmouseover="CodeHighlightOn(this, 'coderef-jump');" onmouseout="CodeHighlightOff(this, 'coderef-jump');">2</a>
jumps to point-min.
</p></li>
</ol>
</div>
</div>
<div id="outline-container-org5048025" class="outline-4">
<h4 id="org5048025"><span class="section-number-4">1.4.14</span> 宏</h4>
<div class="outline-text-4" id="text-1-4-14">
<p>
可以在org中定义宏，类似c的宏，然后可以在段落、标题、引用块、表格、列表中使
用。系统内建的宏有
</p>
<ol class="org-ol">
<li>title：org文档的标题；</li>
<li>author：org文档的作者；</li>
<li>email：邮件地址；</li>
<li>date：日期戳，还可以定义时间戳的格式，参考<a href="http://orgmode.org/org.html#Macro-replacement">宏帮助文档</a>；</li>
<li>time: 时间戳，同date；</li>
<li>modification-time：date和time的叠加；</li>
<li>input-file：This macro refers to the filename of the exported file；</li>
<li>property：属性，暂未知；</li>
<li>select\<sub>tags</sub>: 如果在节标题中做了tag标注，可以使用这个来选择性的导出某些
节。</li>
<li>exclude\<sub>tags</sub>: 和select\<sub>tags相反</sub>；</li>
</ol>
</div>
</div>
<div id="outline-container-org3647546" class="outline-4">
<h4 id="org3647546"><span class="section-number-4">1.4.15</span> 注释</h4>
<div class="outline-text-4" id="text-1-4-15">
<p>
可以使用快捷键C-c ; 将某个小节注释掉，导出时不会出现在导出文档中。
‘#+BEGIN\<sub>COMMENT</sub>’ &#x2026; ‘#+END\<sub>COMMENT</sub>’好像不起作用； 
</p>
</div>
</div>
<div id="outline-container-org8bc811e" class="outline-4">
<h4 id="org8bc811e"><span class="section-number-4">1.4.16</span> 导出</h4>
<div class="outline-text-4" id="text-1-4-16">
<ul class="org-ul">
<li><p>
org-mode转换到pdf需要在org-mode文件中头部使用如下头;
</p>
<div class="org-src-container">
<pre class="src src-emacs-lisp">#+ title: &#25105;&#30340;&#35760;&#20107;&#26412;
#+ author: lxc
#+ latex_class: org-latex-pdf
#+ latex: \newpage
</pre>
</div></li>
<li>中文首行缩进2格：可以在上一自然段末尾使用斜线加par或者在两个自然段直接空两行。</li>
<li>换最新版本orgmode，可以将标题首页和目录分开；</li>
<li>由于org文档转换为latex文本时，中间需要软件iconv将之转换为utf-8格式，而org
源文档是gbk格式，所以如果将org文档由gbk格式转换为了别的格式，比如utf-8，
则需要修改iconv的转换命令，详细见org个配置文档“my-org-mode.el”</li>
<li><p>
如果需要修改org文档中嵌入的代码宽度高度，可以修改&ldquo;my-org-mode.el&rdquo;中的如下
代码&ldquo;页边距&rdquo;
</p>
<div class="org-src-container">
<pre class="src src-emacs-lisp">\lstset{numbers=left, %&#35774;&#32622;&#34892;&#21495;&#20301;&#32622;
  numberstyle=\\tiny, %&#35774;&#32622;&#34892;&#21495;&#22823;&#23567;
                keywordstyle=\\color{blue}, %&#35774;&#32622;&#20851;&#38190;&#23383;&#39068;&#33394;
                commentstyle=\\color[cmyk]{1,0,1,0}, %&#35774;&#32622;&#27880;&#37322;&#39068;&#33394;
        frame=single, %&#35774;&#32622;&#36793;&#26694;&#26684;&#24335;
        escapeinside=``, %&#36867;&#36920;&#23383;&#31526;(1&#24038;&#38754;&#30340;&#38190;)&#65292;&#29992;&#20110;&#26174;&#31034;&#20013;&#25991;
        breaklines, %&#33258;&#21160;&#25240;&#34892;
        extendedchars=false, %&#35299;&#20915;&#20195;&#30721;&#36328;&#39029;&#26102;,&#31456;&#33410;&#26631;&#39064;&#65292;&#39029;&#30473;&#27721;&#23383;&#19981;&#26174;&#31034;
        xleftmargin=10em,xrightmargin=5em, aboveskip=0.5em, %&#35774;&#32622;&#39029;&#36793;&#36317;
        tabsize=4, %&#35774;&#32622;tab&#31354;&#26684;&#25968;
        showspaces=false} %&#19981;&#26174;&#31034;&#31354;&#26684;
</pre>
</div></li>
<li><p>
大纲级别:若需导出更深入的大纲级别,可设置 <span class="underline">org-export-headline-levels</span>
或者在文件头使用
</p>
<div class="org-src-container">
<pre class="src src-emacs-lisp">#+options: h:4
</pre>
</div></li>
<li>目录：
<ol class="org-ol">
<li><p>
可以设置目录的生成级别或者不导出目录，可设置 <span class="underline">org-export-with-toc</span>
或者在每个文件中使用
</p>
<div class="org-src-container">
<pre class="src src-emacs-lisp">#+OPTIONS: toc:2          only inlcude two levels in TOC
#+OPTIONS: toc:nil        no default TOC at all
</pre>
</div></li>
<li><p>
可以设置目录导出成list或者table
</p>
<div class="org-src-container">
<pre class="src src-emacs-lisp">#+TOC: listings           build a list of images
#+TOC: tables             build a list of tables
</pre>
</div></li>
</ol></li>
</ul>
</div>
<div id="outline-container-org1b1b5dd" class="outline-5">
<h5 id="org1b1b5dd"><span class="section-number-5">1.4.16.1</span> 配置</h5>
<div class="outline-text-5" id="text-1-4-16-1">
<p>
可以使用 <span class="underline">\#+opinion</span> 等关键字对文档导出做配置，也可以将这些配置写入某个 <span class="underline">filename</span>
文件中，然后在头使用 <span class="underline">\#+setupfile: filename</span> 加载这些配置。
</p>
<ul class="org-ul">
<li><p>
关键字：见宏，或见表\ref{tbl-key-words}所示；
</p>
<table id="org0904efb" border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">
<caption class="t-above"><span class="table-number">Table 2:</span> 配置关键字</caption>

<colgroup>
<col  class="org-left" />

<col  class="org-left" />
</colgroup>
<thead>
<tr>
<th scope="col" class="org-left">项</th>
<th scope="col" class="org-left">说明</th>
</tr>
</thead>
<tbody>
<tr>
<td class="org-left">#+TITLE:</td>
<td class="org-left">the title to be shown (default is the <a href="#org2d85aef">buffer</a> name)</td>
</tr>

<tr>
<td class="org-left">#+AUTHOR:</td>
<td class="org-left">the author (default taken from user-full-name)</td>
</tr>

<tr>
<td class="org-left">#+DATE:</td>
<td class="org-left">a date, an Org timestamp119, or a format string for format-time-string</td>
</tr>

<tr>
<td class="org-left">#+EMAIL:</td>
<td class="org-left">his/her email address (default from user-mail-address)</td>
</tr>

<tr>
<td class="org-left">#+DESCRIPTION:</td>
<td class="org-left">某些pdf软件可以查看pdf的属性，属性包括文章描述</td>
</tr>

<tr>
<td class="org-left">#+KEYWORDS:</td>
<td class="org-left">某些pdf软件可以查看pdf的属性，属性包括文章关键字</td>
</tr>

<tr>
<td class="org-left">#+LANGUAGE:</td>
<td class="org-left">language for HTML, e.g. ‘en’ (org-export-default-language)</td>
</tr>

<tr>
<td class="org-left">#+TEXT:</td>
<td class="org-left">Some descriptive text to be inserted at the beginning.</td>
</tr>

<tr>
<td class="org-left">#+TEXT:</td>
<td class="org-left">Several lines may be given.</td>
</tr>

<tr>
<td class="org-left">#+OPTIONS:</td>
<td class="org-left">H:2 num:t toc:t \backslash{}n:nil @:t ::t     &vert;:t ^:t f:t TeX:t &#x2026;</td>
</tr>
</tbody>
<tbody>
<tr>
<td class="org-left">#+BIND:</td>
<td class="org-left">lisp-var lisp-val, e.g.: org-export-latex-low-levels itemize</td>
</tr>

<tr>
<td class="org-left">&#xa0;</td>
<td class="org-left">You need to confirm using these, or configure org-export-allow-BIND</td>
</tr>
</tbody>
<tbody>
<tr>
<td class="org-left">#+LINK\<sub>UP</sub>:</td>
<td class="org-left">the ``up&rsquo;&rsquo; link of an exported page</td>
</tr>

<tr>
<td class="org-left">#+LINK\<sub>HOME</sub>:</td>
<td class="org-left">the ``home&rsquo;&rsquo; link of an exported page</td>
</tr>

<tr>
<td class="org-left">#+LATEX\<sub>HEADER</sub>:</td>
<td class="org-left">extra line(s) for the LaTeX header, like \usepackage{xyz}</td>
</tr>

<tr>
<td class="org-left">#+EXPORT\<sub>SELECT</sub>\<sub>TAGS</sub>:</td>
<td class="org-left">Tags that select a tree for export</td>
</tr>

<tr>
<td class="org-left">#+EXPORT\<sub>EXCLUDE</sub>\<sub>TAGS</sub>:</td>
<td class="org-left">Tags that exclude a tree from export</td>
</tr>

<tr>
<td class="org-left">#+XSLT:</td>
<td class="org-left">the XSLT stylesheet used by DocBook exporter to generate FO file</td>
</tr>
</tbody>
</table></li>
<li><p>
options: 带一定的<a href="http://orgmode.org/org.html#Export-settings">参数</a> 可以配置不同的导出形式, 见表\ref{tbl-option-para},
比如后面跟 <span class="underline">email:nil</span> 表示导出的文档不带email地址， <span class="underline">email:t</span> 表示带地址。
</p>
<table id="org585e5c7" border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">
<caption class="t-above"><span class="table-number">Table 3:</span> option项的参数说明</caption>

<colgroup>
<col  class="org-left" />

<col  class="org-left" />
</colgroup>
<thead>
<tr>
<th scope="col" class="org-left">项</th>
<th scope="col" class="org-left">说明</th>
</tr>
</thead>
<tbody>
<tr>
<td class="org-left">H:</td>
<td class="org-left">set the number of headline levels for export</td>
</tr>

<tr>
<td class="org-left">num:</td>
<td class="org-left">turn on/off section-numbers</td>
</tr>

<tr>
<td class="org-left">toc:</td>
<td class="org-left">turn on/off table of contents, or set level limit (integer)</td>
</tr>

<tr>
<td class="org-left">\n:</td>
<td class="org-left">turn on/off line-break-preservation (DOES NOT WORK)</td>
</tr>

<tr>
<td class="org-left">@:</td>
<td class="org-left">turn on/off quoted HTML tags</td>
</tr>

<tr>
<td class="org-left">::</td>
<td class="org-left">turn on/off fixed-width sections</td>
</tr>

<tr>
<td class="org-left">&vert; :</td>
<td class="org-left">turn on/off tables</td>
</tr>
</tbody>
<tbody>
<tr>
<td class="org-left">&and;:</td>
<td class="org-left">turn on/off TeX-like syntax for sub- and superscripts.  If</td>
</tr>

<tr>
<td class="org-left">&#xa0;</td>
<td class="org-left">you write &ldquo;^:{}&rdquo;, a<sub>b</sub> will be interpreted, but</td>
</tr>

<tr>
<td class="org-left">&#xa0;</td>
<td class="org-left">the simple a<sub>b</sub> will be left as it is.</td>
</tr>
</tbody>
<tbody>
<tr>
<td class="org-left">\mathrm{-}:</td>
<td class="org-left">turn on/off conversion of special strings.</td>
</tr>

<tr>
<td class="org-left">f:</td>
<td class="org-left">turn on/off footnotes like this[1].</td>
</tr>

<tr>
<td class="org-left">todo:</td>
<td class="org-left">turn on/off inclusion of TODO keywords into exported text</td>
</tr>
</tbody>
<tbody>
<tr>
<td class="org-left">tasks:</td>
<td class="org-left">turn on/off inclusion of tasks (TODO items), can be nil to remove</td>
</tr>

<tr>
<td class="org-left">&#xa0;</td>
<td class="org-left">all tasks, todo to remove DONE tasks, or list of kwds to keep</td>
</tr>
</tbody>
<tbody>
<tr>
<td class="org-left">pri:</td>
<td class="org-left">turn on/off priority cookies</td>
</tr>

<tr>
<td class="org-left">tags:</td>
<td class="org-left">turn on/off inclusion of tags, may also be not-in-toc</td>
</tr>

<tr>
<td class="org-left">&lt;:</td>
<td class="org-left">turn on/off inclusion of any time/date stamps like DEADLINES</td>
</tr>

<tr>
<td class="org-left">*:</td>
<td class="org-left">turn on/off emphasized text (bold, italic, underlined)</td>
</tr>

<tr>
<td class="org-left">TeX:</td>
<td class="org-left">turn on/off simple TeX macros in plain text</td>
</tr>

<tr>
<td class="org-left">LaTeX:</td>
<td class="org-left">configure export of LaTeX fragments.  Default auto</td>
</tr>

<tr>
<td class="org-left">skip:</td>
<td class="org-left">turn on/off skipping the text before the first heading</td>
</tr>

<tr>
<td class="org-left">author:</td>
<td class="org-left">turn on/off inclusion of author name/email into exported file</td>
</tr>

<tr>
<td class="org-left">email:</td>
<td class="org-left">turn on/off inclusion of author email into exported file</td>
</tr>

<tr>
<td class="org-left">creator</td>
<td class="org-left">turn on/off inclusion of creator info into exported file</td>
</tr>

<tr>
<td class="org-left">timestamp:</td>
<td class="org-left">turn on/off inclusion creation time into exported file</td>
</tr>

<tr>
<td class="org-left">d:</td>
<td class="org-left">turn on/off inclusion of drawers</td>
</tr>
</tbody>
</table></li>
<li><p>
标题级数：使用如下配置可以设置标题显示级数，使用option的h参数不够。
</p>
<div class="org-src-container">
<pre class="src src-lisp">#+latex_header: \setcounter{tocdepth}{5}
#+latex_header: \setcounter{secnumdepth}{5}
</pre>
</div></li>
</ul>
</div>
</div>

<div id="outline-container-orgd75ce86" class="outline-5">
<h5 id="orgd75ce86"><span class="section-number-5">1.4.16.2</span> beamer</h5>
<div class="outline-text-5" id="text-1-4-16-2">
<p>
不用#+latex<sub>class也可以导出幻灯片</sub>，见<a href="http://orgmode.org/org.html#A-Beamer-Example">代码</a>。
</p>
</div>
</div>
<div id="outline-container-orgb1fc9a1" class="outline-5">
<h5 id="orgb1fc9a1"><span class="section-number-5">1.4.16.3</span> pdf</h5>
<div class="outline-text-5" id="text-1-4-16-3">
<p>
可以设置一些导出配置选项
</p>
<ul class="org-ul">
<li>DESCRIPTION：文档的描述；</li>
<li>LATEX\<sub>CLASS</sub>：预定义的一些latex配置；</li>
<li>LATEX\<sub>CLASS</sub>\<sub>OPTIONS</sub>: 配置选项；</li>
<li>LATEX\<sub>HEADER</sub>: 添加一些latex包；</li>
<li>LATEX\<sub>HEADER</sub>\<sub>EXTRA</sub>: 添加的一些其他配置；</li>
<li>KEYWORDS：文档关键字；</li>
<li>SUBTITLE：文档小标题；</li>
<li>装了完整版ctex，用org-mode导出是可能还是会有错误，多半是缺乏字体引起。</li>
</ul>
</div>
</div>
<div id="outline-container-org1509263" class="outline-5">
<h5 id="org1509263"><span class="section-number-5">1.4.16.4</span> html</h5>
</div>
<div id="outline-container-orgfb12bf7" class="outline-5">
<h5 id="orgfb12bf7"><span class="section-number-5">1.4.16.5</span> 特殊符号</h5>
<div class="outline-text-5" id="text-1-4-16-5">
<ul class="org-ul">
<li>表格里面的竖线: latex命令&vert;;</li>
<li>表格里面的横线：latex命令\mathrm{-};</li>
<li>表格里面的上尖括号：latex命令&and;；</li>
<li>表格里面的左尖括号：latex命令\textless{};</li>
<li>表格里面的右尖括号：latex命令\textgreater{};</li>
</ul>
</div>
</div>
</div>
<div id="outline-container-org285afa0" class="outline-4">
<h4 id="org285afa0"><span class="section-number-4">1.4.17</span> latex</h4>
<div class="outline-text-4" id="text-1-4-17">
<p>
可以使用cdlatex完成输入latex的各种模块。使用快捷键C-c {可以输入equation等的
模块。
</p>
</div>
</div>
<div id="outline-container-orgbffb759" class="outline-4">
<h4 id="orgbffb759"><span class="section-number-4">1.4.18</span> capture</h4>
<div class="outline-text-4" id="text-1-4-18">
<p>
除了官方教程，这里有一篇不错的<a href="https://www.zmonster.me/2018/02/28/org-mode-capture.html#org1a3d856">应用笔记</a>。
</p>
</div>
</div>
</div>

<div id="outline-container-org1cfbbcb" class="outline-3">
<h3 id="org1cfbbcb"><span class="section-number-3">1.5</span> python-mode</h3>
<div class="outline-text-3" id="text-1-5">
<ul class="org-ul">
<li>进入交互python模式：进入某个buffer，M-x python-mode，然后C-c C-z即可进入交互模式，也可以在buffer里面写好程序，在C-c
C-z直接运行buffer的代码；</li>
</ul>
</div>
</div>
<div id="outline-container-org5cff841" class="outline-3">
<h3 id="org5cff841"><span class="section-number-3">1.6</span> dired-mode</h3>
<div class="outline-text-3" id="text-1-6">
<ul class="org-ul">
<li>压缩文件：使用m标记待压缩的文件，按！进入minishell，输命令zip
test.zip * 就可以完成压缩，
回车就压缩到test.zip里面了。其他如7z类似；</li>
<li>正则标记：使用快捷键 %+m；</li>
</ul>
</div>
</div>
<div id="outline-container-org42714b0" class="outline-3">
<h3 id="org42714b0"><span class="section-number-3">1.7</span> git</h3>
<div class="outline-text-3" id="text-1-7">
<p>
使用了git-emacs的插件，将命令M-x git-status绑定在了F1键上。
</p>
</div>
<div id="outline-container-orge06566d" class="outline-4">
<h4 id="orge06566d"><span class="section-number-4">1.7.1</span> 配置</h4>
<div class="outline-text-4" id="text-1-7-1">
<ul class="org-ul">
<li>使用M-x git-config-init 配置用户名和email；</li>
<li>如果github使用https方式，则在环境变量中设置HOME变量，值是某目录；</li>
<li>在该目录下新建文件<sub>netrc</sub>；</li>
<li><p>
在<sub>netrc中写入</sub>
</p>
<div class="org-src-container">
<pre class="src src-c"><span style="color: #ffff00; font-size: 105%;">machine</span> <span style="color: #ffd700;">github</span>.com
login bitman@163.com
password github&#30340;&#30331;&#24405;&#23494;&#30721;
</pre>
</div></li>
<li><p>
进入eshell使用命令设置远端仓库的别名；
</p>
<div class="org-src-container">
<pre class="src src-c">git remote add <span style="color: #ffff00; font-size: 105%;">learn</span> <span style="color: #ffd700;">https</span>:<span style="color: #90ee90; font-style: italic;">//</span><span style="color: #90ee90; font-style: italic;">github.com/bitsman/bitsman.github.io.git </span>
</pre>
</div></li>
<li>然后就可以使用git bash进行免输入密码push；</li>
</ul>
</div>
</div>
<div id="outline-container-org193f9b4" class="outline-4">
<h4 id="org193f9b4"><span class="section-number-4">1.7.2</span> push</h4>
<div class="outline-text-4" id="text-1-7-2">
<ol class="org-ol">
<li>进入git仓库，或者打开仓库里面的文件；</li>
<li>按F1；</li>
<li>使用p/n等进行上下移动，选中修改过的文件使用a键添加进仓库；</li>
<li>使用c键进行commit；</li>
<li>在跳出的buffer中写入日志；</li>
<li>使用C-c C-c进行commit；</li>
<li>使用点.键调出git bash，输入push learn master推送到远端；</li>
</ol>
</div>
</div>
</div>
<div id="outline-container-org9c2e2da" class="outline-3">
<h3 id="org9c2e2da"><span class="section-number-3">1.8</span> dynamic-load</h3>
<div class="outline-text-3" id="text-1-8">
<p>
该功能只有在emacs25以上才有，经过编译安装时，使用&#x2013;with-modules来做
configure，这个emacs才具备dynamic load dll或者so的能力，默认是关闭的。
具备了该功能后，就写c模块。如下两个例子。
</p>
</div>
<div id="outline-container-org858d9f7" class="outline-4">
<h4 id="org858d9f7"><span class="section-number-4">1.8.1</span> demo1</h4>
<div class="outline-text-4" id="text-1-8-1">
<ul class="org-ul">
<li><p>
c文件
</p>
<div class="org-src-container">
<pre class="src src-c"><span class="linenr"> 1: </span><span style="color: #87cefa; text-decoration: underline;">#include</span> <span style="color: #ffa07a;">"emacs-module.h"</span><span style="color: #90ee90; font-style: italic;">//</span><span style="color: #90ee90; font-style: italic;">&#22836;&#25991;&#20214;&#20174;&#28304;&#30721;src&#25991;&#20214;&#22841;&#19979;&#33719;&#24471;</span>
<span class="linenr"> 2: </span>
<span class="linenr"> 3: </span><span style="color: #90ee90; font-style: italic;">/* </span><span style="color: #90ee90; font-style: italic;">Declare mandatory GPL symbol.  </span><span style="color: #90ee90; font-style: italic;">*/</span>
<span class="linenr"> 4: </span><span style="color: #ffff00; font-size: 105%;">int</span> <span style="color: #ffd700;">plugin_is_GPL_compatible</span>;
<span class="linenr"> 5: </span>
<span class="linenr"> 6: </span><span style="color: #90ee90; font-style: italic;">/* </span><span style="color: #90ee90; font-style: italic;">New emacs lisp function. All function exposed to Emacs must have this prototype. </span><span style="color: #90ee90; font-style: italic;">*/</span>
<span class="linenr"> 7: </span><span style="color: #ffb6c1; font-size: 105%;">static</span> <span style="color: #ffff00; font-size: 105%;">emacs_value</span>
<span class="linenr"> 8: </span><span style="color: #1e90ff; font-size: 105%; font-weight: bold;">Fmymod_test</span> (<span style="color: #ffff00; font-size: 105%;">emacs_env</span> *<span style="color: #ffd700;">env</span>, <span style="color: #ffff00; font-size: 105%;">int</span> <span style="color: #ffd700;">nargs</span>, <span style="color: #ffff00; font-size: 105%;">emacs_value</span> <span style="color: #ffd700;">args</span>[], <span style="color: #ffff00; font-size: 105%;">void</span> *<span style="color: #ffd700;">data</span>)
<span class="linenr"> 9: </span>{
<span class="linenr">10: </span>    <span style="color: #ffb6c1; font-size: 105%;">return</span> env-&gt;make_integer (env, 43);
<span class="linenr">11: </span>}
<span class="linenr">12: </span>
<span class="linenr">13: </span><span style="color: #90ee90; font-style: italic;">/* </span><span style="color: #90ee90; font-style: italic;">Bind NAME to FUN.  </span><span style="color: #90ee90; font-style: italic;">*/</span>
<span class="linenr">14: </span><span style="color: #ffb6c1; font-size: 105%;">static</span> <span style="color: #ffff00; font-size: 105%;">void</span>
<span class="linenr">15: </span><span style="color: #1e90ff; font-size: 105%; font-weight: bold;">bind_function</span> (<span style="color: #ffff00; font-size: 105%;">emacs_env</span> *<span style="color: #ffd700;">env</span>, <span style="color: #ffb6c1; font-size: 105%;">const</span> <span style="color: #ffff00; font-size: 105%;">char</span> *<span style="color: #ffd700;">name</span>, <span style="color: #ffff00; font-size: 105%;">emacs_value</span> <span style="color: #ffd700;">Sfun</span>)
<span class="linenr">16: </span>{
<span class="linenr">17: </span>    <span style="color: #90ee90; font-style: italic;">/* </span><span style="color: #90ee90; font-style: italic;">Set the function cell of the symbol named NAME to SFUN using</span>
<span class="linenr">18: </span><span style="color: #90ee90; font-style: italic;">       the 'fset' function.  </span><span style="color: #90ee90; font-style: italic;">*/</span>
<span class="linenr">19: </span>
<span class="linenr">20: </span>    <span style="color: #90ee90; font-style: italic;">/* </span><span style="color: #90ee90; font-style: italic;">Convert the strings to symbols by interning them </span><span style="color: #90ee90; font-style: italic;">*/</span>
<span class="linenr">21: </span>    <span style="color: #ffff00; font-size: 105%;">emacs_value</span> <span style="color: #ffd700;">Qfset</span> = env-&gt;intern (env, <span style="color: #ffa07a;">"fset"</span>);
<span class="linenr">22: </span>    <span style="color: #ffff00; font-size: 105%;">emacs_value</span> <span style="color: #ffd700;">Qsym</span> = env-&gt;intern (env, name);
<span class="linenr">23: </span>
<span class="linenr">24: </span>    <span style="color: #90ee90; font-style: italic;">/* </span><span style="color: #90ee90; font-style: italic;">Prepare the arguments array </span><span style="color: #90ee90; font-style: italic;">*/</span>
<span class="linenr">25: </span>    <span style="color: #ffff00; font-size: 105%;">emacs_value</span> <span style="color: #ffd700;">args</span>[] = { Qsym, Sfun };
<span class="linenr">26: </span>
<span class="linenr">27: </span>    <span style="color: #90ee90; font-style: italic;">/* </span><span style="color: #90ee90; font-style: italic;">Make the call (2 == nb of arguments) </span><span style="color: #90ee90; font-style: italic;">*/</span>
<span class="linenr">28: </span>    env-&gt;funcall (env, Qfset, 2, args);
<span class="linenr">29: </span>}
<span class="linenr">30: </span>
<span class="linenr">31: </span><span style="color: #90ee90; font-style: italic;">/* </span><span style="color: #90ee90; font-style: italic;">Provide FEATURE to Emacs.  </span><span style="color: #90ee90; font-style: italic;">*/</span>
<span class="linenr">32: </span><span style="color: #ffb6c1; font-size: 105%;">static</span> <span style="color: #ffff00; font-size: 105%;">void</span>
<span class="linenr">33: </span><span style="color: #1e90ff; font-size: 105%; font-weight: bold;">provide</span> (<span style="color: #ffff00; font-size: 105%;">emacs_env</span> *<span style="color: #ffd700;">env</span>, <span style="color: #ffb6c1; font-size: 105%;">const</span> <span style="color: #ffff00; font-size: 105%;">char</span> *<span style="color: #ffd700;">feature</span>)
<span class="linenr">34: </span>{
<span class="linenr">35: </span>    <span style="color: #90ee90; font-style: italic;">/* </span><span style="color: #90ee90; font-style: italic;">call 'provide' with FEATURE converted to a symbol </span><span style="color: #90ee90; font-style: italic;">*/</span>
<span class="linenr">36: </span>
<span class="linenr">37: </span>    <span style="color: #ffff00; font-size: 105%;">emacs_value</span> <span style="color: #ffd700;">Qfeat</span> = env-&gt;intern (env, feature);
<span class="linenr">38: </span>    <span style="color: #ffff00; font-size: 105%;">emacs_value</span> <span style="color: #ffd700;">Qprovide</span> = env-&gt;intern (env, <span style="color: #ffa07a;">"provide"</span>);
<span class="linenr">39: </span>    <span style="color: #ffff00; font-size: 105%;">emacs_value</span> <span style="color: #ffd700;">args</span>[] = { Qfeat };
<span class="linenr">40: </span>
<span class="linenr">41: </span>    env-&gt;funcall (env, Qprovide, 1, args);
<span class="linenr">42: </span>}
<span class="linenr">43: </span>
<span class="linenr">44: </span><span style="color: #ffff00; font-size: 105%;">int</span>
<span class="linenr">45: </span><span style="color: #1e90ff; font-size: 105%; font-weight: bold;">emacs_module_init</span> (<span style="color: #ffb6c1; font-size: 105%;">struct</span> <span style="color: #ffff00; font-size: 105%;">emacs_runtime</span> *<span style="color: #ffd700;">ert</span>)
<span class="linenr">46: </span>{
<span class="linenr">47: </span>    <span style="color: #ffff00; font-size: 105%;">emacs_env</span> *<span style="color: #ffd700;">env</span> = ert-&gt;get_environment (ert);
<span class="linenr">48: </span>
<span class="linenr">49: </span>    <span style="color: #90ee90; font-style: italic;">/* </span><span style="color: #90ee90; font-style: italic;">create a lambda (returns an emacs_value) </span><span style="color: #90ee90; font-style: italic;">*/</span>
<span class="linenr">50: </span>    <span style="color: #ffff00; font-size: 105%;">emacs_value</span> <span style="color: #ffd700;">fun</span> = env-&gt;make_function (env,
<span class="linenr">51: </span>                      0,      <span style="color: #90ee90; font-style: italic;">/* </span><span style="color: #90ee90; font-style: italic;">min. number of arguments </span><span style="color: #90ee90; font-style: italic;">*/</span>
<span class="linenr">52: </span>                      0,      <span style="color: #90ee90; font-style: italic;">/* </span><span style="color: #90ee90; font-style: italic;">max. number of arguments </span><span style="color: #90ee90; font-style: italic;">*/</span>
<span class="linenr">53: </span>                      Fmymod_test,<span style="color: #90ee90; font-style: italic;">/* </span><span style="color: #90ee90; font-style: italic;">actual function pointer </span><span style="color: #90ee90; font-style: italic;">*/</span>
<span class="linenr">54: </span>                      <span style="color: #ffa07a;">"doc"</span>,      <span style="color: #90ee90; font-style: italic;">/* </span><span style="color: #90ee90; font-style: italic;">docstring </span><span style="color: #90ee90; font-style: italic;">*/</span>
<span class="linenr">55: </span>                      <span style="color: #7fffd4;">NULL</span> <span style="color: #90ee90; font-style: italic;">/* </span><span style="color: #90ee90; font-style: italic;">user pointer of your choice (data param in Fmymod_test) </span><span style="color: #90ee90; font-style: italic;">*/</span>
<span class="linenr">56: </span>                      );
<span class="linenr">57: </span>
<span class="linenr">58: </span>    bind_function (env, <span style="color: #ffa07a;">"mymod-test"</span>, fun);
<span class="linenr">59: </span>    provide (env, <span style="color: #ffa07a;">"mymod"</span>);
<span class="linenr">60: </span>
<span class="linenr">61: </span>    <span style="color: #90ee90; font-style: italic;">/* </span><span style="color: #90ee90; font-style: italic;">loaded successfully </span><span style="color: #90ee90; font-style: italic;">*/</span>
<span class="linenr">62: </span>    <span style="color: #ffb6c1; font-size: 105%;">return</span> 0;
<span class="linenr">63: </span>}
</pre>
</div></li>
<li><p>
Makefile
</p>
<div class="org-src-container">
<pre class="src src-makefile"><span style="color: #90ee90; font-style: italic;"># </span><span style="color: #90ee90; font-style: italic;">path to the emacs source dir</span>
<span style="color: #90ee90; font-style: italic;"># </span><span style="color: #90ee90; font-style: italic;">(you can provide it here or on the command line)</span>
<span style="color: #90ee90; font-style: italic;"># </span><span style="color: #90ee90; font-style: italic;">ROOT    = e:/emacs-26.1</span>
<span style="color: #ffd700;">CC</span>      = gcc
<span style="color: #ffd700;">LD</span>      = gcc
<span style="color: #ffd700;">CFLAGS</span>  = -ggdb3 -Wall
<span style="color: #ffd700;">LDFLAGS</span> =

<span style="color: #1e90ff; font-size: 105%; font-weight: bold;">all</span>: mymod.dll

<span style="color: #90ee90; font-style: italic;"># </span><span style="color: #90ee90; font-style: italic;">make shared library out of the object file</span>
<span style="color: #1e90ff; font-size: 105%; font-weight: bold;">%.dll</span>: %.o
        $(<span style="color: #ffd700;">LD</span>) -shared $(<span style="color: #ffd700;">LDFLAGS</span>) -o <span style="color: #1e90ff; font-size: 105%; font-weight: bold;">$</span><span style="color: #7fffd4; font-size: 105%; font-weight: bold;">@</span> $<span style="color: #7fffd4;">&lt;</span>

<span style="color: #90ee90; font-style: italic;"># </span><span style="color: #90ee90; font-style: italic;">compile source file to object file</span>
<span style="color: #1e90ff; font-size: 105%; font-weight: bold;">%.o</span>: %.c
        $(<span style="color: #ffd700;">CC</span>) $(<span style="color: #ffd700;">CFLAGS</span>) -fPIC -c $<span style="color: #7fffd4;">&lt;</span>
<span style="background-color: #ff69b4;">        #</span><span style="color: #90ee90; font-style: italic;"> </span><span style="color: #90ee90; font-style: italic;">$(</span><span style="color: #ffd700; font-style: italic;">CC</span><span style="color: #90ee90; font-style: italic;">) $(</span><span style="color: #ffd700; font-style: italic;">CFLAGS</span><span style="color: #90ee90; font-style: italic;">) -I$(</span><span style="color: #ffd700; font-style: italic;">ROOT</span><span style="color: #90ee90; font-style: italic;">)/src -fPIC -c $</span><span style="color: #7fffd4; font-style: italic;">&lt;</span>
</pre>
</div></li>
<li><p>
run:经过make编译后，生成mymod.dll，然后再草稿buffer中使用如下方式就
能打印出结果。
</p>
<div class="org-src-container">
<pre class="src src-emacs-lisp">(add-to-list 'load-path <span style="color: #ffa07a;">"path/to/dll"</span>)
(<span style="color: #ffb6c1; font-size: 105%;">require</span> '<span style="color: #7fffd4;">mymod</span>)
(mymod-test)
</pre>
</div></li>
</ul>
</div>
</div>

<div id="outline-container-org3e931d5" class="outline-4">
<h4 id="org3e931d5"><span class="section-number-4">1.8.2</span> demo2</h4>
<div class="outline-text-4" id="text-1-8-2">
<ul class="org-ul">
<li><p>
c文件
</p>
<div class="org-src-container">
<pre class="src src-c"><span class="linenr"> 1: </span><span style="color: #87cefa; text-decoration: underline;">#include</span> <span style="color: #ffa07a;">"emacs-module.h"</span>
<span class="linenr"> 2: </span><span style="color: #ffff00; font-size: 105%;">int</span> <span style="color: #ffd700;">plugin_is_GPL_compatible</span>;
<span class="linenr"> 3: </span><span style="color: #90ee90; font-style: italic;">/* </span><span style="color: #90ee90; font-style: italic;">Provide FEATURE to Emacs.  </span><span style="color: #90ee90; font-style: italic;">*/</span>
<span class="linenr"> 4: </span><span style="color: #ffb6c1; font-size: 105%;">static</span> <span style="color: #ffff00; font-size: 105%;">void</span>
<span class="linenr"> 5: </span><span style="color: #1e90ff; font-size: 105%; font-weight: bold;">provide</span> (<span style="color: #ffff00; font-size: 105%;">emacs_env</span> *<span style="color: #ffd700;">env</span>, <span style="color: #ffb6c1; font-size: 105%;">const</span> <span style="color: #ffff00; font-size: 105%;">char</span> *<span style="color: #ffd700;">feature</span>)
<span class="linenr"> 6: </span>{
<span class="linenr"> 7: </span>    <span style="color: #90ee90; font-style: italic;">/* </span><span style="color: #90ee90; font-style: italic;">call 'provide' with FEATURE converted to a symbol </span><span style="color: #90ee90; font-style: italic;">*/</span>
<span class="linenr"> 8: </span>
<span class="linenr"> 9: </span>    <span style="color: #ffff00; font-size: 105%;">emacs_value</span> <span style="color: #ffd700;">Qfeat</span> = env-&gt;intern (env, feature);
<span class="linenr">10: </span>    <span style="color: #ffff00; font-size: 105%;">emacs_value</span> <span style="color: #ffd700;">Qprovide</span> = env-&gt;intern (env, <span style="color: #ffa07a;">"provide"</span>);
<span class="linenr">11: </span>    <span style="color: #ffff00; font-size: 105%;">emacs_value</span> <span style="color: #ffd700;">args</span>[] = { Qfeat };
<span class="linenr">12: </span>
<span class="linenr">13: </span>    env-&gt;funcall (env, Qprovide, 1, args);
<span class="linenr">14: </span>}
<span class="linenr">15: </span>
<span class="linenr">16: </span><span style="color: #ffff00; font-size: 105%;">int</span>
<span class="linenr">17: </span><span style="color: #1e90ff; font-size: 105%; font-weight: bold;">emacs_module_init</span>(<span style="color: #ffb6c1; font-size: 105%;">struct</span> <span style="color: #ffff00; font-size: 105%;">emacs_runtime</span> *<span style="color: #ffd700;">ert</span>)
<span class="linenr">18: </span>{
<span class="linenr">19: </span>    <span style="color: #ffff00; font-size: 105%;">emacs_env</span> *<span style="color: #ffd700;">env</span> = ert-&gt;get_environment(ert);
<span class="linenr">20: </span>    <span style="color: #ffff00; font-size: 105%;">emacs_value</span> <span style="color: #ffd700;">message</span> = env-&gt;intern(env, <span style="color: #ffa07a;">"message"</span>);
<span class="linenr">21: </span>    <span style="color: #ffb6c1; font-size: 105%;">const</span> <span style="color: #ffff00; font-size: 105%;">char</span> <span style="color: #ffd700;">hi</span>[] = <span style="color: #ffa07a;">"Hello, cruel world!"</span>;
<span class="linenr">22: </span>    <span style="color: #ffff00; font-size: 105%;">emacs_value</span> <span style="color: #ffd700;">string</span> = env-&gt;make_string(env, hi, <span style="color: #ffb6c1; font-size: 105%;">sizeof</span>(hi) - 1);
<span class="linenr">23: </span>    env-&gt;funcall(env, message, 1, &amp;string);
<span class="linenr">24: </span>    provide (env, <span style="color: #ffa07a;">"emtest"</span>);
<span class="linenr">25: </span>
<span class="linenr">26: </span>    <span style="color: #ffb6c1; font-size: 105%;">return</span> 0;
<span class="linenr">27: </span>}
<span class="linenr">28: </span>
</pre>
</div></li>
<li><p>
Makefile
</p>
<div class="org-src-container">
<pre class="src src-makefile"><span style="color: #90ee90; font-style: italic;"># </span><span style="color: #90ee90; font-style: italic;">path to the emacs source dir</span>
<span style="color: #90ee90; font-style: italic;"># </span><span style="color: #90ee90; font-style: italic;">(you can provide it here or on the command line)</span>
<span style="color: #90ee90; font-style: italic;"># </span><span style="color: #90ee90; font-style: italic;">ROOT    = e:/emacs-26.1</span>
<span style="color: #ffd700;">CC</span>      = gcc
<span style="color: #ffd700;">LD</span>      = gcc
<span style="color: #ffd700;">CFLAGS</span>  = -ggdb3 -Wall
<span style="color: #ffd700;">LDFLAGS</span> =

<span style="color: #1e90ff; font-size: 105%; font-weight: bold;">all</span>: emtest.dll

<span style="color: #90ee90; font-style: italic;"># </span><span style="color: #90ee90; font-style: italic;">make shared library out of the object file</span>
<span style="color: #1e90ff; font-size: 105%; font-weight: bold;">%.dll</span>: %.o
        $(<span style="color: #ffd700;">LD</span>) -shared $(<span style="color: #ffd700;">LDFLAGS</span>) -o <span style="color: #1e90ff; font-size: 105%; font-weight: bold;">$</span><span style="color: #7fffd4; font-size: 105%; font-weight: bold;">@</span> $<span style="color: #7fffd4;">&lt;</span>

<span style="color: #90ee90; font-style: italic;"># </span><span style="color: #90ee90; font-style: italic;">compile source file to object file</span>
<span style="color: #1e90ff; font-size: 105%; font-weight: bold;">%.o</span>: %.c
        $(<span style="color: #ffd700;">CC</span>) $(<span style="color: #ffd700;">CFLAGS</span>) -fPIC -c $<span style="color: #7fffd4;">&lt;</span>
<span style="background-color: #ff69b4;">        #</span><span style="color: #90ee90; font-style: italic;"> </span><span style="color: #90ee90; font-style: italic;">$(</span><span style="color: #ffd700; font-style: italic;">CC</span><span style="color: #90ee90; font-style: italic;">) $(</span><span style="color: #ffd700; font-style: italic;">CFLAGS</span><span style="color: #90ee90; font-style: italic;">) -I$(</span><span style="color: #ffd700; font-style: italic;">ROOT</span><span style="color: #90ee90; font-style: italic;">)/src -fPIC -c $</span><span style="color: #7fffd4; font-style: italic;">&lt;</span>
</pre>
</div></li>
<li><p>
run:经过make编译后，生成emtest.dll，然后再草稿buffer中使用如下方式就
能打印出结果。
</p>
<div class="org-src-container">
<pre class="src src-emacs-lisp">(add-to-list 'load-path <span style="color: #ffa07a;">"path/to/dll"</span>)
(<span style="color: #ffb6c1; font-size: 105%;">require</span> '<span style="color: #7fffd4;">emtest</span>)
</pre>
</div></li>
</ul>
</div>
</div>
</div>
</div>

<div id="outline-container-org8d9d387" class="outline-2">
<h2 id="org8d9d387"><span class="section-number-2">2</span> latex</h2>
<div class="outline-text-2" id="text-2">
</div>
<div id="outline-container-org3b88bbb" class="outline-3">
<h3 id="org3b88bbb"><span class="section-number-3">2.1</span> 方法</h3>
<div class="outline-text-3" id="text-2-1">
</div>
</div>
<div id="outline-container-org54e18c5" class="outline-3">
<h3 id="org54e18c5"><span class="section-number-3">2.2</span> 符号</h3>
<div class="outline-text-3" id="text-2-2">
</div>
<div id="outline-container-org4e36336" class="outline-4">
<h4 id="org4e36336"><span class="section-number-4">2.2.1</span> 数学模式重音符号</h4>
<div class="outline-text-4" id="text-2-2-1">

<div class="figure">
<p><img src="./img/shuxuemoshizhongyinfu.jpg" alt="shuxuemoshizhongyinfu.jpg" />
</p>
</div>
</div>
</div>
<div id="outline-container-org8ac82f6" class="outline-4">
<h4 id="org8ac82f6"><span class="section-number-4">2.2.2</span> 小写希腊字母</h4>
<div class="outline-text-4" id="text-2-2-2">

<div class="figure">
<p><img src="./img/xiaoxiexilazimu.jpg" alt="xiaoxiexilazimu.jpg" />
</p>
</div>
</div>
</div>
<div id="outline-container-orgea7694b" class="outline-4">
<h4 id="orgea7694b"><span class="section-number-4">2.2.3</span> 大写希腊字母</h4>
<div class="outline-text-4" id="text-2-2-3">

<div class="figure">
<p><img src="./img/daxiexilazimu.jpg" alt="daxiexilazimu.jpg" />
</p>
</div>
</div>
</div>
<div id="outline-container-org9fcc2de" class="outline-4">
<h4 id="org9fcc2de"><span class="section-number-4">2.2.4</span> 二元关系符</h4>
<div class="outline-text-4" id="text-2-2-4">
<p>
可以在前面加上\ not来得到其否定形式。
<img src="./img/eryuanguanxifu.jpg" alt="eryuanguanxifu.jpg" />
</p>
</div>
</div>
<div id="outline-container-orgc115632" class="outline-4">
<h4 id="orgc115632"><span class="section-number-4">2.2.5</span> 二元运算符</h4>
<div class="outline-text-4" id="text-2-2-5">

<div class="figure">
<p><img src="./img/eryuanyunsuanfu.jpg" alt="eryuanyunsuanfu.jpg" />
</p>
</div>
</div>
</div>
<div id="outline-container-org11f8167" class="outline-4">
<h4 id="org11f8167"><span class="section-number-4">2.2.6</span> 大尺寸运算符</h4>
<div class="outline-text-4" id="text-2-2-6">

<div class="figure">
<p><img src="./img/dachicunyunsuanfu.jpg" alt="dachicunyunsuanfu.jpg" />
</p>
</div>
</div>
</div>
<div id="outline-container-orgadc6129" class="outline-4">
<h4 id="orgadc6129"><span class="section-number-4">2.2.7</span> 箭头</h4>
<div class="outline-text-4" id="text-2-2-7">

<div class="figure">
<p><img src="./img/jiantou.jpg" alt="jiantou.jpg" />
</p>
</div>
</div>
</div>
<div id="outline-container-org8c174ad" class="outline-4">
<h4 id="org8c174ad"><span class="section-number-4">2.2.8</span> 定界符</h4>
<div class="outline-text-4" id="text-2-2-8">

<div class="figure">
<p><img src="./img/dingjiefu.jpg" alt="dingjiefu.jpg" />
</p>
</div>
</div>
</div>
<div id="outline-container-orgeea574c" class="outline-4">
<h4 id="orgeea574c"><span class="section-number-4">2.2.9</span> 大尺寸定界符</h4>
<div class="outline-text-4" id="text-2-2-9">

<div class="figure">
<p><img src="./img/dachicundingjiefu.jpg" alt="dachicundingjiefu.jpg" />
</p>
</div>
</div>
</div>
<div id="outline-container-org3c6b79f" class="outline-4">
<h4 id="org3c6b79f"><span class="section-number-4">2.2.10</span> 其他符号</h4>
<div class="outline-text-4" id="text-2-2-10">

<div class="figure">
<p><img src="./img/qitafuhao.jpg" alt="qitafuhao.jpg" />
</p>
</div>
</div>
</div>
<div id="outline-container-orgb22f119" class="outline-4">
<h4 id="orgb22f119"><span class="section-number-4">2.2.11</span> 非数学符号</h4>
<div class="outline-text-4" id="text-2-2-11">

<div class="figure">
<p><img src="./img/feishuxuefuhao.jpg" alt="feishuxuefuhao.jpg" />
</p>
</div>
</div>
</div>
<div id="outline-container-org1bcbbc6" class="outline-4">
<h4 id="org1bcbbc6"><span class="section-number-4">2.2.12</span> AMS定界符</h4>
<div class="outline-text-4" id="text-2-2-12">

<div class="figure">
<p><img src="./img/amsdingjiefu.jpg" alt="amsdingjiefu.jpg" />
</p>
</div>
</div>
</div>
<div id="outline-container-orge1f6d3b" class="outline-4">
<h4 id="orge1f6d3b"><span class="section-number-4">2.2.13</span> AMS希腊和希伯来字母</h4>
<div class="outline-text-4" id="text-2-2-13">

<div class="figure">
<p><img src="./img/amsxilahexibolaizimu.jpg" alt="amsxilahexibolaizimu.jpg" />
</p>
</div>
</div>
</div>
<div id="outline-container-orgcca9236" class="outline-4">
<h4 id="orgcca9236"><span class="section-number-4">2.2.14</span> AMS二元关系符</h4>
<div class="outline-text-4" id="text-2-2-14">

<div class="figure">
<p><img src="./img/amseryuanguanxifu.jpg" alt="amseryuanguanxifu.jpg" />
</p>
</div>
</div>
</div>
<div id="outline-container-orgfc996c8" class="outline-4">
<h4 id="orgfc996c8"><span class="section-number-4">2.2.15</span> AMS箭头</h4>
<div class="outline-text-4" id="text-2-2-15">

<div class="figure">
<p><img src="./img/amsjiantou.jpg" alt="amsjiantou.jpg" />
</p>
</div>
</div>
</div>
<div id="outline-container-org393a4ff" class="outline-4">
<h4 id="org393a4ff"><span class="section-number-4">2.2.16</span> AMS二元否定关系符和箭头</h4>
<div class="outline-text-4" id="text-2-2-16">

<div class="figure">
<p><img src="./img/amseryuanfoudingguanxifuhejiantou.jpg" alt="amseryuanfoudingguanxifuhejiantou.jpg" />
</p>
</div>
</div>
</div>
<div id="outline-container-org741528e" class="outline-4">
<h4 id="org741528e"><span class="section-number-4">2.2.17</span> AMS二元运算符</h4>
<div class="outline-text-4" id="text-2-2-17">

<div class="figure">
<p><img src="./img/amseryuanyunsuanfu.jpg" alt="amseryuanyunsuanfu.jpg" />
</p>
</div>
</div>
</div>
<div id="outline-container-orgf4512ad" class="outline-4">
<h4 id="orgf4512ad"><span class="section-number-4">2.2.18</span> AMS其他符号</h4>
<div class="outline-text-4" id="text-2-2-18">

<div class="figure">
<p><img src="./img/amsqitafuhao.jpg" alt="amsqitafuhao.jpg" />
</p>
</div>
</div>
</div>
<div id="outline-container-orgd478b11" class="outline-4">
<h4 id="orgd478b11"><span class="section-number-4">2.2.19</span> 微积分符号</h4>
<div class="outline-text-4" id="text-2-2-19">
<ol class="org-ol">
<li>\(\int_{0}^{n}\)</li>
<li>\(\sum_{i=0}^{n}\)</li>
<li>\(\sum\limits_{i=0}^{n}\)</li>
<li>\(\mathrm{d}x\)</li>
</ol>
</div>
</div>
</div>
</div>
<div id="outline-container-org074d352" class="outline-2">
<h2 id="org074d352"><span class="section-number-2">3</span> keil</h2>
<div class="outline-text-2" id="text-3">
<ul class="org-ul">
<li>设置emacs编辑器：在Customer Tools Menu菜单中，Command设置emacs路径，在Argument中!E代表编辑当前文件；在Menu Content中新
建个命令emacs(&amp;E), 括号里面的代表快捷键.</li>
</ul>
</div>
</div>
<div id="outline-container-org5114a23" class="outline-2">
<h2 id="org5114a23"><span class="section-number-2">4</span> iar</h2>
<div class="outline-text-2" id="text-4">
<ul class="org-ul">
<li>设置emacs编辑器：在Configure Tool中Menu Content中新建个命令emacs(&amp;E), 括号里面的代表快捷键，在Command中设置emacs路径，
在Argument中 \\(FILE_PATH\\) 代表编辑当前文件.</li>
</ul>
</div>
</div>
<div id="outline-container-orgd604c31" class="outline-2">
<h2 id="orgd604c31"><span class="section-number-2">5</span> git</h2>
<div class="outline-text-2" id="text-5">
</div>
<div id="outline-container-orgaa9f8c8" class="outline-3">
<h3 id="orgaa9f8c8"><span class="section-number-3">5.1</span> gitolite</h3>
<div class="outline-text-3" id="text-5-1">
<p>
Linux下git server目前有3种解决方案。
</p>
<ul class="org-ul">
<li>Gitosis：轻量级， 开源项目，使用SSH公钥认证，只能做到库级的权限控
制。目前项目已经停止开发，不再维护。</li>
<li>Gitolite：轻量级，开源项目，使用SSH公钥认证，能做到分支级的权限控制。</li>
<li>Git+Repo+Gerrit:超级重量级，集版本控制，库管理和代码审核为一身。可管
理大型及超大型项目</li>
</ul>


<p>
对于一般项目的git管理，gitolite是个不错的选择。
</p>
</div>
<div id="outline-container-orgd77d6a1" class="outline-4">
<h4 id="orgd77d6a1"><span class="section-number-4">5.1.1</span> 安装基础包</h4>
<div class="outline-text-4" id="text-5-1-1">
<div class="org-src-container">
<pre class="src src-shell">yum install perl openssh git
</pre>
</div>
</div>
</div>
<div id="outline-container-org9b7c6ba" class="outline-4">
<h4 id="org9b7c6ba"><span class="section-number-4">5.1.2</span> 创建git用户</h4>
<div class="outline-text-4" id="text-5-1-2">
<p>
系统中创建git用户。
</p>
<div class="org-src-container">
<pre class="src src-shell">adduser git 
passwd git
</pre>
</div>
</div>
</div>
<div id="outline-container-orgedf3f5f" class="outline-4">
<h4 id="orgedf3f5f"><span class="section-number-4">5.1.3</span> 安装gitolite</h4>
<div class="outline-text-4" id="text-5-1-3">
<ul class="org-ul">
<li><p>
切换到git用户：
</p>
<div class="org-src-container">
<pre class="src src-shell">su &#8211; git
</pre>
</div></li>
<li><p>
创建文件夹bin
</p>
<div class="org-src-container">
<pre class="src src-shell">mkdir /home/git/bin
</pre>
</div></li>
<li><p>
从github克隆gitolite的源码
</p>
<div class="org-src-container">
<pre class="src src-shell">git clone https://github.com/sitaramc/gitolite.git
</pre>
</div></li>
<li><p>
安装gitolite
</p>
<div class="org-src-container">
<pre class="src src-shell">./gitolite/install -to /home/git/bin/
</pre>
</div></li>
</ul>

<p>
至此gitolite的安装安装，可以查看bin目录里的内容。
</p>
</div>
</div>
<div id="outline-container-orgb447f85" class="outline-4">
<h4 id="orgb447f85"><span class="section-number-4">5.1.4</span> 配置gitolite管理员</h4>
<div class="outline-text-4" id="text-5-1-4">
<ul class="org-ul">
<li><p>
管理员公玥复制到服务器:密钥产生方式查询网络
</p>
<div class="org-src-container">
<pre class="src src-shell">cp id_rsa.pub /tmp/admin.pub
</pre>
</div></li>
<li><p>
在服务器切换回git用户，为gitolite配置管理员
</p>
<div class="org-src-container">
<pre class="src src-shell">/home/git/bin/gitolite setup -pk /tmp/admin.pub 
</pre>
</div></li>
</ul>
</div>
</div>
<div id="outline-container-org7b0b795" class="outline-4">
<h4 id="org7b0b795"><span class="section-number-4">5.1.5</span> 配置SSH</h4>
<div class="outline-text-4" id="text-5-1-5">
<ul class="org-ul">
<li><p>
修改sshd配置文件(/etc/ssh/sshd<sub>config</sub>)，找到以下内容，并去掉注释
符&ldquo;#&rdquo;，其中authorized<sub>keys文件是gitolite管理所有git用户公玥的文件</sub>，
里面包含了刚刚设置的gitolite管理员账户公玥。
</p>
<div class="org-src-container">
<pre class="src src-shell">RSAAuthentication yes
PubkeyAuthentication yes
AuthorizedKeysFile  /home/git/.ssh/authorized_keys
</pre>
</div></li>
<li><p>
重启ssh服务
</p>
<div class="org-src-container">
<pre class="src src-shell">service sshd restart
</pre>
</div></li>
</ul>
</div>
</div>
<div id="outline-container-org018ec37" class="outline-4">
<h4 id="org018ec37"><span class="section-number-4">5.1.6</span> 使用git-shell来限制用户ssh登陆</h4>
<div class="outline-text-4" id="text-5-1-6">
<p>
出于安全的考虑，我们最好限制用户只能进行git push/pull，但无法登陆。这
可以使用git-shell来完成(好像这一节不起作用)
</p>
<ul class="org-ul">
<li><p>
查看一下git-shell的位置
</p>
<div class="org-src-container">
<pre class="src src-shell">which git-shell
</pre>
</div></li>
<li>将git-shell的路径添加到 /etc/shells文件中</li>
<li><p>
修改git用户的shell：
</p>
<div class="org-src-container">
<pre class="src src-shell">sudo chsh git
</pre>
</div></li>
</ul>
</div>
</div>
<div id="outline-container-org804d814" class="outline-4">
<h4 id="org804d814"><span class="section-number-4">5.1.7</span> 克隆 gitolite-admin 管理库</h4>
<div class="outline-text-4" id="text-5-1-7">
<p>
管理员在本机克隆Gitolite管理库
</p>
<div class="org-src-container">
<pre class="src src-shell">git clone git@yourServerIP:gitolite-admin.git
</pre>
</div>
<p>
可以看到在管理库gitolite-admin里，有两个目录， conf/和keydir/，其中
conf/下面有个名为gitolite.conf的配置文件。 
</p>
<ul class="org-ul">
<li>conf/gitolite.conf 用于Git项目配置，访问权限设置。</li>
<li>keydir/ 用于存储用户的SSH public key(公钥）。</li>
</ul>
</div>
</div>
<div id="outline-container-org1e72c9d" class="outline-4">
<h4 id="org1e72c9d"><span class="section-number-4">5.1.8</span> 权限</h4>
<div class="outline-text-4" id="text-5-1-8">
<ul class="org-ul">
<li>C：代表创建，仅在通配符版本库授权时使用，用于指定谁可以创建与通配符
匹配的版本库</li>
<li>R：R为只读</li>
<li>RW：RW为读写权限</li>
<li>RW+：RW+代表除了拥有读写权限，还可以强制执行推送，强制更新，创建和删
除引用</li>
<li>RWC：RW+C</li>
<li>RWD：RW+D，D代表允许删除和正则匹配的引用</li>
<li>RWCD：RW+CD</li>
</ul>


<p>
传统模式的引用授权：指的是在授权指令中只采用R、RW和RW+的传统授权关键字， 
而不包括扩展授权指令。传统的授权指令没有把分支的创建和分支删除权限细分，
而是和写操作及强制推送操作混杂在一起。
</p>
<div class="org-src-container">
<pre class="src src-shell">1  @administrators = jiangxin admin
2  @dev                  = dev1 dev2 badboy
3  @test                  = test1 test2
4
5  repo    test/repo1
6          RW+           = @administrators
7          RW master refs/heads/feature/ = @dev
8          R                 = @test
</pre>
</div>

<ul class="org-ul">
<li>第6行:对于版本库test/repo1，管理员组用户jiangxin和admin可以读写任意
分支、强制推送，以及创建和删除引用。</li>
<li>第7行:用户组@dev除了对master和refs/heads/feature/开头的引用具有读写
权限外，实际上可以读取所有引用。这是因为读取操作授权阶段无法获知引用。</li>
<li>第8行:用户组@test对版本库拥有只读授权。</li>
</ul>


<p>
扩展模式的引用授权，指的是该版本库的授权指令出现了下列授权关键字中的一
个或多个：RWC、RWD、RWCD、RW+C、RW+D、RW+CD，将分支的创建权限和删除权
限从读写权限中分离出来，从而可对分支进行更为精细的权限控制。  
</p>
<ul class="org-ul">
<li>非快进式推送必须拥有上述关键字中的+方可授权。</li>
<li>创建引用必须拥有上述关键字中的C方可授权。</li>
<li>删除引用必须拥有上述关键字中的D方可授权。</li>
</ul>
<p>
即引用的创建和删除使用了单独的授权关键字，和写权限和强制推送权限分开。
</p>
<div class="org-src-container">
<pre class="src src-shell">1   repo    test/repo2
2           RW+C = @administrators
3           RW+   = @dev
4           RW      = @test
5
6   repo    test/repo3
7           RW+CD  = @administrators
8           RW+C    = @dev
9           RW         = @test
</pre>
</div>


<p>
库test/repo2.git具有如下的授权：
</p>
<ul class="org-ul">
<li>第2行:用户组@administrators中的用户，具有创建和删除引用的权限，并且
能强制推送。其中创建引用来自授权关键字中的C，删除引用来自授权关键中
的+，因为该版本库授权指令中没有出现D，因而删除应用授权沿用传统授权关
键字。</li>
<li>第3行，用户组@dev中的用户，不能创建引用，但可以删除引用，并且可以强
制推送。因为第2行授权关键字中字符C的出现，使得创建引用采用扩展授权关
键字，因而用户组@dev不具有创建引用的权限。</li>
<li>第4行，用户组@test中的用户，拥有读写权限，但是不能创建引用，不能删除
引用，也不能强制推送。</li>
</ul>


<p>
库test/repo3.git具有如下的授权：
</p>
<ul class="org-ul">
<li>第7行，用户组@administrators中的用户，具有创建和删除引用的权限，并且
能强制推送。其中创建引用来自授权关键字中的C，删除引用来自授权关键中
的D。</li>
<li>第8行，用户组@dev中的用户，可以创建引用，并能够强制推送，但不能删除
引用。因为第7行授权关键字中字符C和D的出现，使得创建和删除引用都采用
扩展授权关键字，因而用户组@dev不具有删除引用的权限。</li>
<li>第9行，用户组@test中的用户，可以推送到任何引用，但是不能创建引用，不
能删除引用，也不能强制推送。</li>
</ul>


<p>
对路径的写授权, 在授权文件中，如果一个版本库的授权指令中的正则引用字段
出现了以&ldquo;NAME/&rdquo;开头的引用，则表明该授权指令是针对路径进行的写授权，并
且该版本库要进行基于路径的写授权判断。
</p>
<div class="org-src-container">
<pre class="src src-shell">1  repo foo
2      RW                 =   @junior_devs @senior_devs
3
4      RW  NAME/          =   @senior_devs
5      -   NAME/Makefile  =   @junior_devs
6      RW  NAME/          =   @junior_devs
</pre>
</div>
<ul class="org-ul">
<li>第2行，初级程序员@junior<sub>devs和高级程序员</sub>@senior<sub>devs可以对版本库foo</sub>
进行读写操作。</li>
<li>第4行，设定高级程序员@senior<sub>devs对所有文件</sub>（NAME/）进行写操作。</li>
<li>第5行和第6行，设定初级程序员@junior<sub>devs对除了根目录的Makefile文件外</sub>
的其他文件具有写权限。</li>
</ul>
</div>
</div>
<div id="outline-container-org0d91700" class="outline-4">
<h4 id="org0d91700"><span class="section-number-4">5.1.9</span> 查询操作</h4>
<div class="outline-text-4" id="text-5-1-9">
<p>
利用ssh可以查询自己的账户有哪些库和权限
</p>
<div class="org-src-container">
<pre class="src src-shell">ssh git@ip help                 <span style="color: #90ee90; font-style: italic;"># </span><span style="color: #90ee90; font-style: italic;">&#26597;&#35810;&#35813;&#36134;&#25143;&#21487;&#20197;&#36816;&#34892;&#21738;&#20123;&#21629;&#20196;</span>
ssh git@ip info                 <span style="color: #90ee90; font-style: italic;"># </span><span style="color: #90ee90; font-style: italic;">&#26597;&#35810;&#35813;&#36134;&#25143;&#26377;&#21738;&#20123;&#24211;&#21644;&#26435;&#38480;</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-orgd8e3471" class="outline-4">
<h4 id="orgd8e3471"><span class="section-number-4">5.1.10</span> 修改库名</h4>
<div class="outline-text-4" id="text-5-1-10">
<p>
分两步操作。
</p>
<ul class="org-ul">
<li>服务器修改库名：使用账号登入gitolite服务器，mv A.git B.git,修改库名。</li>
<li>配置文件修改库名：编辑gitolite-admin/conf/gitolite.conf里面的A为B，
并提交服务器。</li>
</ul>
</div>
</div>
<div id="outline-container-orgac1ece3" class="outline-4">
<h4 id="orgac1ece3"><span class="section-number-4">5.1.11</span> 删除库</h4>
<div class="outline-text-4" id="text-5-1-11">
<p>
分两步操作。
</p>
<ul class="org-ul">
<li>配置文件删除库：删除gitolite-admin/conf/gitolite.conf里面的库，并提
交gitolite服务器；</li>
<li>服务器删除库：使用账号进入gitolite服务器，删除对应的git库</li>
</ul>
</div>
</div>
</div>

<div id="outline-container-orgb3cb13c" class="outline-3">
<h3 id="orgb3cb13c"><span class="section-number-3">5.2</span> account</h3>
<div class="outline-text-3" id="text-5-2">
<ul class="org-ul">
<li>key:
<ul class="org-ul">
<li><p>
generate private key and public key,keys place into dir &ldquo;~/.ssh/&rdquo;;
</p>
<div class="org-src-container">
<pre class="src src-shell">ssh-keygen -t rsa -C <span style="color: #ffa07a;">"your_email@163.com"</span> 
</pre>
</div></li>
<li>upload public key to github setting;</li>
<li><p>
test connection
</p>
<div class="org-src-container">
<pre class="src src-shell">ssh -T git@github.com
</pre>
</div></li>
</ul></li>
</ul>
</div>
</div>
<div id="outline-container-org69ffa1c" class="outline-3">
<h3 id="org69ffa1c"><span class="section-number-3">5.3</span> local repository creation</h3>
<div class="outline-text-3" id="text-5-3">
<ul class="org-ul">
<li>git init: repository initialize</li>
<li>git add test.txt testdir: add files or dir</li>
<li>git commit -m &ldquo;log&rdquo;: commit with log message</li>
<li>git push -u origin master</li>
</ul>
</div>
</div>
<div id="outline-container-org9f43363" class="outline-3">
<h3 id="org9f43363"><span class="section-number-3">5.4</span> role</h3>
<div class="outline-text-3" id="text-5-4">
<p>
interaction flow is like figure <a href="#org84fecf4">22</a>.
</p>

<div id="org84fecf4" class="figure">
<p><img src="./img/cmdflow.png" alt="cmdflow.png" />
</p>
<p><span class="figure-number">Figure 22: </span>Git Interaction Flow</p>
</div>
</div>
</div>

<div id="outline-container-org15380e1" class="outline-3">
<h3 id="org15380e1"><span class="section-number-3">5.5</span> command</h3>
<div class="outline-text-3" id="text-5-5">
</div>
<div id="outline-container-org8d2048c" class="outline-4">
<h4 id="org8d2048c"><span class="section-number-4">5.5.1</span> git目录结构</h4>
<div class="outline-text-4" id="text-5-5-1">
<p>
版本库.git目录，见表<a href="#org521b1e9">4</a>所示。
</p>
<table id="org521b1e9" border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">
<caption class="t-above"><span class="table-number">Table 4:</span> GIT库分支操作</caption>

<colgroup>
<col  class="org-left" />

<col  class="org-left" />

<col  class="org-left" />

<col  class="org-left" />

<col  class="org-left" />
</colgroup>
<thead>
<tr>
<th scope="col" class="org-left">L1</th>
<th scope="col" class="org-left">L2</th>
<th scope="col" class="org-left">L3</th>
<th scope="col" class="org-left">L4</th>
<th scope="col" class="org-left">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="org-left">index</td>
<td class="org-left">&#xa0;</td>
<td class="org-left">&#xa0;</td>
<td class="org-left">&#xa0;</td>
<td class="org-left">记录了STAGE区状态</td>
</tr>

<tr>
<td class="org-left">COMMIT<sub>EDITMSG</sub></td>
<td class="org-left">&#xa0;</td>
<td class="org-left">&#xa0;</td>
<td class="org-left">&#xa0;</td>
<td class="org-left">保存了上次提交日志</td>
</tr>

<tr>
<td class="org-left">config</td>
<td class="org-left">&#xa0;</td>
<td class="org-left">&#xa0;</td>
<td class="org-left">&#xa0;</td>
<td class="org-left">版本库级的git配置文件,注册信息</td>
</tr>

<tr>
<td class="org-left">description</td>
<td class="org-left">&#xa0;</td>
<td class="org-left">&#xa0;</td>
<td class="org-left">&#xa0;</td>
<td class="org-left">库的描述信息</td>
</tr>

<tr>
<td class="org-left">gitk.cache</td>
<td class="org-left">&#xa0;</td>
<td class="org-left">&#xa0;</td>
<td class="org-left">&#xa0;</td>
<td class="org-left">&#xa0;</td>
</tr>

<tr>
<td class="org-left">HEAD</td>
<td class="org-left">&#xa0;</td>
<td class="org-left">&#xa0;</td>
<td class="org-left">&#xa0;</td>
<td class="org-left">内容：&ldquo;ref: refs/heads/master&rdquo;</td>
</tr>

<tr>
<td class="org-left">hooks</td>
<td class="org-left">&#xa0;</td>
<td class="org-left">&#xa0;</td>
<td class="org-left">&#xa0;</td>
<td class="org-left">各种hook shell脚本</td>
</tr>

<tr>
<td class="org-left">info</td>
<td class="org-left">&#xa0;</td>
<td class="org-left">&#xa0;</td>
<td class="org-left">&#xa0;</td>
<td class="org-left">&#xa0;</td>
</tr>

<tr>
<td class="org-left">ORIG<sub>HEAD</sub></td>
<td class="org-left">&#xa0;</td>
<td class="org-left">&#xa0;</td>
<td class="org-left">&#xa0;</td>
<td class="org-left">内容是某commit ID</td>
</tr>
</tbody>
<tbody>
<tr>
<td class="org-left">logs</td>
<td class="org-left">&#xa0;</td>
<td class="org-left">&#xa0;</td>
<td class="org-left">&#xa0;</td>
<td class="org-left">&#xa0;</td>
</tr>

<tr>
<td class="org-left">&#xa0;</td>
<td class="org-left">HEAD</td>
<td class="org-left">&#xa0;</td>
<td class="org-left">&#xa0;</td>
<td class="org-left">最新的commit message</td>
</tr>

<tr>
<td class="org-left">&#xa0;</td>
<td class="org-left">refs</td>
<td class="org-left">heads</td>
<td class="org-left">&#xa0;</td>
<td class="org-left">&#xa0;</td>
</tr>

<tr>
<td class="org-left">&#xa0;</td>
<td class="org-left">&#xa0;</td>
<td class="org-left">&#xa0;</td>
<td class="org-left">master</td>
<td class="org-left">master指向某commit message</td>
</tr>

<tr>
<td class="org-left">&#xa0;</td>
<td class="org-left">&#xa0;</td>
<td class="org-left">&#xa0;</td>
<td class="org-left">brch1</td>
<td class="org-left">brch1指向某commit message</td>
</tr>

<tr>
<td class="org-left">&#xa0;</td>
<td class="org-left">&#xa0;</td>
<td class="org-left">&#xa0;</td>
<td class="org-left">&#x2026;</td>
<td class="org-left">&#x2026;</td>
</tr>

<tr>
<td class="org-left">&#xa0;</td>
<td class="org-left">&#xa0;</td>
<td class="org-left">stash</td>
<td class="org-left">&#xa0;</td>
<td class="org-left">&#xa0;</td>
</tr>
</tbody>
<tbody>
<tr>
<td class="org-left">objects</td>
<td class="org-left">&#xa0;</td>
<td class="org-left">&#xa0;</td>
<td class="org-left">&#xa0;</td>
<td class="org-left">保存了文件副本</td>
</tr>

<tr>
<td class="org-left">&#xa0;</td>
<td class="org-left">ID[0:1]</td>
<td class="org-left">ID[2:38]</td>
<td class="org-left">&#xa0;</td>
<td class="org-left">ID[0:1]:ID的前两位做目录名</td>
</tr>

<tr>
<td class="org-left">&#xa0;</td>
<td class="org-left">&#xa0;</td>
<td class="org-left">&#xa0;</td>
<td class="org-left">&#xa0;</td>
<td class="org-left">ID[2:38]:ID的剩余位做文件名</td>
</tr>

<tr>
<td class="org-left">&#xa0;</td>
<td class="org-left">pack</td>
<td class="org-left">&#xa0;</td>
<td class="org-left">&#xa0;</td>
<td class="org-left">&#xa0;</td>
</tr>

<tr>
<td class="org-left">&#xa0;</td>
<td class="org-left">&#xa0;</td>
<td class="org-left">&#x2026;</td>
<td class="org-left">&#xa0;</td>
<td class="org-left">remote库打包后的文件</td>
</tr>
</tbody>
<tbody>
<tr>
<td class="org-left">refs</td>
<td class="org-left">&#xa0;</td>
<td class="org-left">&#xa0;</td>
<td class="org-left">&#xa0;</td>
<td class="org-left">&#xa0;</td>
</tr>

<tr>
<td class="org-left">&#xa0;</td>
<td class="org-left">heads</td>
<td class="org-left">&#xa0;</td>
<td class="org-left">&#xa0;</td>
<td class="org-left">&#xa0;</td>
</tr>

<tr>
<td class="org-left">&#xa0;</td>
<td class="org-left">&#xa0;</td>
<td class="org-left">master</td>
<td class="org-left">&#xa0;</td>
<td class="org-left">master分支指向某commit ID</td>
</tr>

<tr>
<td class="org-left">&#xa0;</td>
<td class="org-left">&#xa0;</td>
<td class="org-left">branch1</td>
<td class="org-left">&#xa0;</td>
<td class="org-left">其他分支名指向某commit ID</td>
</tr>

<tr>
<td class="org-left">&#xa0;</td>
<td class="org-left">&#xa0;</td>
<td class="org-left">&#x2026;</td>
<td class="org-left">&#xa0;</td>
<td class="org-left">&#x2026;</td>
</tr>

<tr>
<td class="org-left">&#xa0;</td>
<td class="org-left">tags</td>
<td class="org-left">&#xa0;</td>
<td class="org-left">&#xa0;</td>
<td class="org-left">&#xa0;</td>
</tr>

<tr>
<td class="org-left">&#xa0;</td>
<td class="org-left">&#xa0;</td>
<td class="org-left">tag1</td>
<td class="org-left">&#xa0;</td>
<td class="org-left">里程碑1:内容是某commit ID</td>
</tr>

<tr>
<td class="org-left">&#xa0;</td>
<td class="org-left">&#xa0;</td>
<td class="org-left">tag2</td>
<td class="org-left">&#xa0;</td>
<td class="org-left">里程碑2:内容是某commit ID</td>
</tr>

<tr>
<td class="org-left">&#xa0;</td>
<td class="org-left">&#xa0;</td>
<td class="org-left">&#x2026;</td>
<td class="org-left">&#xa0;</td>
<td class="org-left">&#xa0;</td>
</tr>

<tr>
<td class="org-left">&#xa0;</td>
<td class="org-left">remotes</td>
<td class="org-left">&#xa0;</td>
<td class="org-left">&#xa0;</td>
<td class="org-left">&#xa0;</td>
</tr>

<tr>
<td class="org-left">&#xa0;</td>
<td class="org-left">&#xa0;</td>
<td class="org-left">origin</td>
<td class="org-left">&#xa0;</td>
<td class="org-left">&#xa0;</td>
</tr>

<tr>
<td class="org-left">&#xa0;</td>
<td class="org-left">&#xa0;</td>
<td class="org-left">&#xa0;</td>
<td class="org-left">HEAD</td>
<td class="org-left">内容:ref: refs/remotes/origin/master</td>
</tr>

<tr>
<td class="org-left">&#xa0;</td>
<td class="org-left">&#xa0;</td>
<td class="org-left">&#xa0;</td>
<td class="org-left">master</td>
<td class="org-left">master分支指向某commit ID</td>
</tr>

<tr>
<td class="org-left">&#xa0;</td>
<td class="org-left">&#xa0;</td>
<td class="org-left">&#xa0;</td>
<td class="org-left">&#x2026;</td>
<td class="org-left">&#x2026;</td>
</tr>

<tr>
<td class="org-left">&#xa0;</td>
<td class="org-left">stash</td>
<td class="org-left">&#xa0;</td>
<td class="org-left">&#xa0;</td>
<td class="org-left">保存的stash:内容是某commit ID</td>
</tr>
</tbody>
</table>
<ul class="org-ul">
<li>index: 实际上是一个包含文件索引的目录树，记录了文件名和时间戳、文件
长度等文件状态信息，但是没有存储文件内容；</li>
<li>objects: blob对象的hash ID的前两位做目录名，剩余的38位做文件名</li>
<li>refs:保存引用的命名空间</li>
</ul>
</div>

<div id="outline-container-orga951806" class="outline-5">
<h5 id="orga951806"><span class="section-number-5">5.5.1.1</span> objects目录关系</h5>
<div class="outline-text-5" id="text-5-5-1-1">
<table id="org9edbd1f" border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">
<caption class="t-above"><span class="table-number">Table 5:</span> OBJECTS目录关系</caption>

<colgroup>
<col  class="org-left" />

<col  class="org-left" />

<col  class="org-left" />
</colgroup>
<thead>
<tr>
<th scope="col" class="org-left">Commit</th>
<th scope="col" class="org-left">Tree(Index)</th>
<th scope="col" class="org-left">Blob</th>
</tr>
</thead>
<tbody>
<tr>
<td class="org-left">ID:e695606</td>
<td class="org-left">ID:f58da</td>
<td class="org-left">ID:fd3c069</td>
</tr>

<tr>
<td class="org-left">Tree:f58da</td>
<td class="org-left">(xxx.txt):fd3c069</td>
<td class="org-left">&#xa0;</td>
</tr>

<tr>
<td class="org-left">Parent:a0c</td>
<td class="org-left">&#xa0;</td>
<td class="org-left">&#xa0;</td>
</tr>

<tr>
<td class="org-left">Author:lxc</td>
<td class="org-left">&#xa0;</td>
<td class="org-left">&#xa0;</td>
</tr>
</tbody>
<tbody>
<tr>
<td class="org-left">ID:a0c</td>
<td class="org-left">&#x2026;</td>
<td class="org-left">&#x2026;</td>
</tr>

<tr>
<td class="org-left">Tree:190d8</td>
<td class="org-left">&#xa0;</td>
<td class="org-left">&#xa0;</td>
</tr>

<tr>
<td class="org-left">Parent:9e8</td>
<td class="org-left">&#xa0;</td>
<td class="org-left">&#xa0;</td>
</tr>

<tr>
<td class="org-left">Author:lxc</td>
<td class="org-left">&#xa0;</td>
<td class="org-left">&#xa0;</td>
</tr>
</tbody>
</table>
<ul class="org-ul">
<li>Parent:a0c找到ID:a0c，即找到上一次commit；</li>
<li>Tree:f58da找到Tree(Index):f58da;</li>
<li>Tree(Index):f58da里面的fd3c069找到具体的文件内容(Blob):fd3c069;</li>
</ul>
</div>
</div>
<div id="outline-container-org42d1efb" class="outline-5">
<h5 id="org42d1efb"><span class="section-number-5">5.5.1.2</span> refs目录关系</h5>
<div class="outline-text-5" id="text-5-5-1-2">
</div>
<ol class="org-ol">
<li><a id="orgeb19118"></a>heads<br />
<div class="outline-text-6" id="text-5-5-1-2-1">
<p>
目录下保存所有分支的&ldquo;游标&rdquo;文件, 主分支游标文件名是master，文件内容是某
个commit ID
</p>
</div>
</li>
<li><a id="org8a1f63f"></a>tags<br />
<div class="outline-text-6" id="text-5-5-1-2-2">
<p>
目录下保存所有里程碑的&ldquo;游标&rdquo;文件，文件内容是某个commit ID。
</p>
</div>
</li>
</ol>
</div>
<div id="outline-container-orgdfc3ab0" class="outline-5">
<h5 id="orgdfc3ab0"><span class="section-number-5">5.5.1.3</span> logs</h5>
<div class="outline-text-5" id="text-5-5-1-3">
</div>
<ol class="org-ol">
<li><a id="org7df21d2"></a>HEAD<br />
<div class="outline-text-6" id="text-5-5-1-3-1">
<p>
指向某个分支的log记录
</p>
</div>
</li>
<li><a id="org06d318f"></a>refs<br />
<div class="outline-text-6" id="text-5-5-1-3-2">
<p>
指向每个分支的log记录
</p>
</div>
<ol class="org-ol">
<li><a id="orge31ec09"></a>heads<br />
<ol class="org-ol">
<li><a id="orge6483e6"></a>master<br />
<div class="outline-text-8" id="text-5-5-1-3-2-1-1">
<p>
master文件保存master分支的log记录；
</p>
</div>
</li>
</ol>
</li>
</ol>
</li>
</ol>
</div>
</div>
<div id="outline-container-org86534f2" class="outline-4">
<h4 id="org86534f2"><span class="section-number-4">5.5.2</span> git配置文件</h4>
<div class="outline-text-4" id="text-5-5-2">
<p>
git配置文件一共分为3级，一级是系统级，一级是全局，一级是项目级，其关系
见表<a href="#org20d2170">6</a>所示。
</p>
<table id="org20d2170" border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">
<caption class="t-above"><span class="table-number">Table 6:</span> GIT配置文件</caption>

<colgroup>
<col  class="org-left" />

<col  class="org-left" />

<col  class="org-left" />

<col  class="org-left" />
</colgroup>
<thead>
<tr>
<th scope="col" class="org-left">Position</th>
<th scope="col" class="org-left">Item</th>
<th scope="col" class="org-left">Priority</th>
<th scope="col" class="org-left">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="org-left">.git</td>
<td class="org-left">config</td>
<td class="org-left">High</td>
<td class="org-left">.git目录下的config是版本库级别的配置文件</td>
</tr>

<tr>
<td class="org-left">~</td>
<td class="org-left">.gitconfig</td>
<td class="org-left">Middle</td>
<td class="org-left">用户主目录下的.gitconfig是全局性的配置文件</td>
</tr>

<tr>
<td class="org-left">/etc</td>
<td class="org-left">gitconfig</td>
<td class="org-left">Low</td>
<td class="org-left">linux下gitconfig是系统级的配置文件</td>
</tr>
</tbody>
</table>
</div>
</div>
<div id="outline-container-org757cd60" class="outline-4">
<h4 id="org757cd60"><span class="section-number-4">5.5.3</span> git文件状态</h4>
<div class="outline-text-4" id="text-5-5-3">
<p>
git stage -s结果解析，两个M还可以叠加，见表<a href="#orgb79f5d3">7</a>所示。
</p>
<table id="orgb79f5d3" border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">
<caption class="t-above"><span class="table-number">Table 7:</span> GIT文件状态</caption>

<colgroup>
<col  class="org-left" />

<col  class="org-left" />

<col  class="org-left" />
</colgroup>
<thead>
<tr>
<th scope="col" class="org-left">Mark0</th>
<th scope="col" class="org-left">Mark1</th>
<th scope="col" class="org-left">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="org-left">&#xa0;</td>
<td class="org-left">M</td>
<td class="org-left">文件在STAGE区和WORK区对比有改动</td>
</tr>

<tr>
<td class="org-left">M</td>
<td class="org-left">&#xa0;</td>
<td class="org-left">文件在HEAD区和STAGE区对比有改动</td>
</tr>
</tbody>
</table>
</div>
</div>
<div id="outline-container-orga73e301" class="outline-4">
<h4 id="orga73e301"><span class="section-number-4">5.5.4</span> git文件比较</h4>
<div class="outline-text-4" id="text-5-5-4">
<p>
git可以使用diff命令比较多个空间的文件状态。
</p>
<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">
<caption class="t-above"><span class="table-number">Table 8:</span> GIT文件比较命令</caption>

<colgroup>
<col  class="org-left" />

<col  class="org-left" />

<col  class="org-left" />

<col  class="org-left" />

<col  class="org-left" />

<col  class="org-left" />

<col  class="org-left" />

<col  class="org-left" />
</colgroup>
<thead>
<tr>
<th scope="col" class="org-left">WORK</th>
<th scope="col" class="org-left">STAGE</th>
<th scope="col" class="org-left">HEAD</th>
<th scope="col" class="org-left">commit1</th>
<th scope="col" class="org-left">commit2</th>
<th scope="col" class="org-left">tag1</th>
<th scope="col" class="org-left">tag2</th>
<th scope="col" class="org-left">cmd</th>
</tr>
</thead>
<tbody>
<tr>
<td class="org-left">*</td>
<td class="org-left">*</td>
<td class="org-left">&#xa0;</td>
<td class="org-left">&#xa0;</td>
<td class="org-left">&#xa0;</td>
<td class="org-left">&#xa0;</td>
<td class="org-left">&#xa0;</td>
<td class="org-left">diff</td>
</tr>
</tbody>
<tbody>
<tr>
<td class="org-left">*</td>
<td class="org-left">&#xa0;</td>
<td class="org-left">*</td>
<td class="org-left">&#xa0;</td>
<td class="org-left">&#xa0;</td>
<td class="org-left">&#xa0;</td>
<td class="org-left">&#xa0;</td>
<td class="org-left">diff HEAD</td>
</tr>

<tr>
<td class="org-left">*</td>
<td class="org-left">&#xa0;</td>
<td class="org-left">*</td>
<td class="org-left">&#xa0;</td>
<td class="org-left">&#xa0;</td>
<td class="org-left">&#xa0;</td>
<td class="org-left">&#xa0;</td>
<td class="org-left">diff master</td>
</tr>
</tbody>
<tbody>
<tr>
<td class="org-left">&#xa0;</td>
<td class="org-left">*</td>
<td class="org-left">*</td>
<td class="org-left">&#xa0;</td>
<td class="org-left">&#xa0;</td>
<td class="org-left">&#xa0;</td>
<td class="org-left">&#xa0;</td>
<td class="org-left">diff &#x2013;staged</td>
</tr>

<tr>
<td class="org-left">&#xa0;</td>
<td class="org-left">*</td>
<td class="org-left">*</td>
<td class="org-left">&#xa0;</td>
<td class="org-left">&#xa0;</td>
<td class="org-left">&#xa0;</td>
<td class="org-left">&#xa0;</td>
<td class="org-left">diff &#x2013;cached</td>
</tr>

<tr>
<td class="org-left">&#xa0;</td>
<td class="org-left">&#xa0;</td>
<td class="org-left">&#xa0;</td>
<td class="org-left">&#xa0;</td>
<td class="org-left">&#xa0;</td>
<td class="org-left">&#xa0;</td>
<td class="org-left">&#xa0;</td>
<td class="org-left">diff &#x2013;cached HEAD</td>
</tr>
</tbody>
<tbody>
<tr>
<td class="org-left">&#xa0;</td>
<td class="org-left">&#xa0;</td>
<td class="org-left">&#xa0;</td>
<td class="org-left">&#xa0;</td>
<td class="org-left">&#xa0;</td>
<td class="org-left">*</td>
<td class="org-left">*</td>
<td class="org-left">diff tag1 tag2</td>
</tr>

<tr>
<td class="org-left">*</td>
<td class="org-left">&#xa0;</td>
<td class="org-left">&#xa0;</td>
<td class="org-left">&#xa0;</td>
<td class="org-left">&#xa0;</td>
<td class="org-left">*</td>
<td class="org-left">&#xa0;</td>
<td class="org-left">diff tag1</td>
</tr>

<tr>
<td class="org-left">&#xa0;</td>
<td class="org-left">*</td>
<td class="org-left">&#xa0;</td>
<td class="org-left">&#xa0;</td>
<td class="org-left">&#xa0;</td>
<td class="org-left">*</td>
<td class="org-left">&#xa0;</td>
<td class="org-left">diff &#x2013;cached tag1</td>
</tr>

<tr>
<td class="org-left">&#xa0;</td>
<td class="org-left">&#xa0;</td>
<td class="org-left">&#xa0;</td>
<td class="org-left">*</td>
<td class="org-left">*</td>
<td class="org-left">&#xa0;</td>
<td class="org-left">&#xa0;</td>
<td class="org-left">diff commit1 commit2 &#x2013; file</td>
</tr>

<tr>
<td class="org-left">&#xa0;</td>
<td class="org-left">&#xa0;</td>
<td class="org-left">&#xa0;</td>
<td class="org-left">&#xa0;</td>
<td class="org-left">&#xa0;</td>
<td class="org-left">&#xa0;</td>
<td class="org-left">&#xa0;</td>
<td class="org-left">&#xa0;</td>
</tr>
</tbody>
</table>
</div>
</div>
<div id="outline-container-org822d708" class="outline-4">
<h4 id="org822d708"><span class="section-number-4">5.5.5</span> git文件添加</h4>
<div class="outline-text-4" id="text-5-5-5">
<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">
<caption class="t-above"><span class="table-number">Table 9:</span> GIT文件添加</caption>

<colgroup>
<col  class="org-left" />

<col  class="org-left" />

<col  class="org-left" />

<col  class="org-left" />

<col  class="org-left" />
</colgroup>
<thead>
<tr>
<th scope="col" class="org-left">WORK</th>
<th scope="col" class="org-left">STAGE</th>
<th scope="col" class="org-left">HEAD</th>
<th scope="col" class="org-left">cmd</th>
<th scope="col" class="org-left">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="org-left">from</td>
<td class="org-left">to</td>
<td class="org-left">&#xa0;</td>
<td class="org-left">add</td>
<td class="org-left">文件添加</td>
</tr>
</tbody>
</table>
</div>
</div>
<div id="outline-container-org259d119" class="outline-4">
<h4 id="org259d119"><span class="section-number-4">5.5.6</span> git文件提交</h4>
<div class="outline-text-4" id="text-5-5-6">
<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">
<caption class="t-above"><span class="table-number">Table 10:</span> GIT文件提交</caption>

<colgroup>
<col  class="org-left" />

<col  class="org-left" />

<col  class="org-left" />

<col  class="org-left" />

<col  class="org-left" />
</colgroup>
<thead>
<tr>
<th scope="col" class="org-left">WORK</th>
<th scope="col" class="org-left">STAGE</th>
<th scope="col" class="org-left">HEAD</th>
<th scope="col" class="org-left">cmd</th>
<th scope="col" class="org-left">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="org-left">&#xa0;</td>
<td class="org-left">from</td>
<td class="org-left">to</td>
<td class="org-left">commit -m &ldquo;log&rdquo;</td>
<td class="org-left">文件添加</td>
</tr>

<tr>
<td class="org-left">&#xa0;</td>
<td class="org-left">from</td>
<td class="org-left">to</td>
<td class="org-left">commit &#x2013;amend -m &ldquo;log&rdquo;</td>
<td class="org-left">覆盖上次commit的提交</td>
</tr>
</tbody>
</table>
</div>
</div>
<div id="outline-container-org39129af" class="outline-4">
<h4 id="org39129af"><span class="section-number-4">5.5.7</span> git文件回滚</h4>
<div class="outline-text-4" id="text-5-5-7">
<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">
<caption class="t-above"><span class="table-number">Table 11:</span> GIT文件回滚</caption>

<colgroup>
<col  class="org-left" />

<col  class="org-left" />

<col  class="org-left" />

<col  class="org-left" />

<col  class="org-left" />
</colgroup>
<thead>
<tr>
<th scope="col" class="org-left">WORK</th>
<th scope="col" class="org-left">STAGE</th>
<th scope="col" class="org-left">HEAD</th>
<th scope="col" class="org-left">cmd</th>
<th scope="col" class="org-left">description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="org-left">to</td>
<td class="org-left">from</td>
<td class="org-left">&#xa0;</td>
<td class="org-left">checkout .</td>
<td class="org-left">文件回滚</td>
</tr>

<tr>
<td class="org-left">to</td>
<td class="org-left">from</td>
<td class="org-left">&#xa0;</td>
<td class="org-left">checkout &#x2013; .</td>
<td class="org-left">文件回滚</td>
</tr>

<tr>
<td class="org-left">to</td>
<td class="org-left">from</td>
<td class="org-left">&#xa0;</td>
<td class="org-left">checkout &#x2013; &lt;file&gt;</td>
<td class="org-left">文件回滚</td>
</tr>

<tr>
<td class="org-left">to</td>
<td class="org-left">to</td>
<td class="org-left">from</td>
<td class="org-left">checkout HEAD .</td>
<td class="org-left">文件回滚, 不修改HEAD</td>
</tr>

<tr>
<td class="org-left">to</td>
<td class="org-left">to</td>
<td class="org-left">from</td>
<td class="org-left">checkout HEAD &lt;file&gt;</td>
<td class="org-left">文件回滚</td>
</tr>
</tbody>
<tbody>
<tr>
<td class="org-left">&#xa0;</td>
<td class="org-left">to</td>
<td class="org-left">from</td>
<td class="org-left">reset HEAD</td>
<td class="org-left">目录树回滚</td>
</tr>

<tr>
<td class="org-left">to</td>
<td class="org-left">to</td>
<td class="org-left">to</td>
<td class="org-left">reset &#x2013;hard ID<sub>old</sub></td>
<td class="org-left">都回滚到ID<sub>old</sub></td>
</tr>

<tr>
<td class="org-left">&#xa0;</td>
<td class="org-left">&#xa0;</td>
<td class="org-left">to</td>
<td class="org-left">reset &#x2013;soft ID<sub>old</sub></td>
<td class="org-left">回滚HEAD到ID<sub>old</sub></td>
</tr>

<tr>
<td class="org-left">&#xa0;</td>
<td class="org-left">to</td>
<td class="org-left">to</td>
<td class="org-left">reset &#x2013;mixed ID<sub>old</sub></td>
<td class="org-left">回滚HEAD和STAGE到ID<sub>old</sub></td>
</tr>
</tbody>
</table>
</div>
</div>

<div id="outline-container-org5c3cdbc" class="outline-4">
<h4 id="org5c3cdbc"><span class="section-number-4">5.5.8</span> git文件删除</h4>
<div class="outline-text-4" id="text-5-5-8">
<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">
<caption class="t-above"><span class="table-number">Table 12:</span> GIT文件删除</caption>

<colgroup>
<col  class="org-left" />

<col  class="org-left" />

<col  class="org-left" />

<col  class="org-left" />

<col  class="org-left" />
</colgroup>
<thead>
<tr>
<th scope="col" class="org-left">WORK</th>
<th scope="col" class="org-left">STAGE</th>
<th scope="col" class="org-left">HEAD</th>
<th scope="col" class="org-left">cmd</th>
<th scope="col" class="org-left">description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="org-left">&#xa0;</td>
<td class="org-left">rm</td>
<td class="org-left">&#xa0;</td>
<td class="org-left">rm &#x2013;cached &lt;file&gt;</td>
<td class="org-left">文件删除</td>
</tr>
</tbody>
</table>
</div>
</div>

<div id="outline-container-org70c8e79" class="outline-4">
<h4 id="org70c8e79"><span class="section-number-4">5.5.9</span> git文件追溯</h4>
<div class="outline-text-4" id="text-5-5-9">
<ul class="org-ul">
<li>git blame file：会对文件逐行显示，在每行的行首显示此行最早是在那个
commit ID引入，由谁引入。</li>
</ul>
</div>
</div>
<div id="outline-container-orgd655449" class="outline-4">
<h4 id="orgd655449"><span class="section-number-4">5.5.10</span> git分支操作</h4>
<div class="outline-text-4" id="text-5-5-10">
<p>
git branch -v：查看当前分支，即查看HEAD当前指向(master或其他分支)
</p>
<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">
<caption class="t-above"><span class="table-number">Table 13:</span> GIT分支操作</caption>

<colgroup>
<col  class="org-left" />

<col  class="org-left" />

<col  class="org-left" />

<col  class="org-left" />

<col  class="org-left" />
</colgroup>
<thead>
<tr>
<th scope="col" class="org-left">WORK</th>
<th scope="col" class="org-left">STAGE</th>
<th scope="col" class="org-left">HEAD</th>
<th scope="col" class="org-left">cmd</th>
<th scope="col" class="org-left">description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="org-left">to</td>
<td class="org-left">to</td>
<td class="org-left">from</td>
<td class="org-left">checkout &lt;name&gt;</td>
<td class="org-left">检出name分支到WORK和STAGE</td>
</tr>

<tr>
<td class="org-left">&#xa0;</td>
<td class="org-left">&#xa0;</td>
<td class="org-left">&#xa0;</td>
<td class="org-left">&#xa0;</td>
<td class="org-left">HEAD指向brch分</td>
</tr>
</tbody>
<tbody>
<tr>
<td class="org-left">to</td>
<td class="org-left">to</td>
<td class="org-left">diff</td>
<td class="org-left">checkout HEAD</td>
<td class="org-left">汇总WORK和STAGE与当前分支的差异</td>
</tr>

<tr>
<td class="org-left">to</td>
<td class="org-left">to</td>
<td class="org-left">&#xa0;</td>
<td class="org-left">checkout &lt;name&gt; &#x2013; &lt;file&gt;</td>
<td class="org-left">name分支的file覆盖当前分的WORK和STAGE</td>
</tr>
</tbody>
<tbody>
<tr>
<td class="org-left">&#xa0;</td>
<td class="org-left">&#xa0;</td>
<td class="org-left">&#xa0;</td>
<td class="org-left">branch</td>
<td class="org-left">显示本地分支, *表示当前分支</td>
</tr>
</tbody>
<tbody>
<tr>
<td class="org-left">&#xa0;</td>
<td class="org-left">&#xa0;</td>
<td class="org-left">*</td>
<td class="org-left">branch &lt;name&gt;</td>
<td class="org-left">基于head创建名为name的分支</td>
</tr>

<tr>
<td class="org-left">&#xa0;</td>
<td class="org-left">&#xa0;</td>
<td class="org-left">&#xa0;</td>
<td class="org-left">branch &lt;name&gt; &lt;id&gt;</td>
<td class="org-left">基于commit id创建名为name的分支</td>
</tr>
</tbody>
<tbody>
<tr>
<td class="org-left">&#xa0;</td>
<td class="org-left">&#xa0;</td>
<td class="org-left">&#xa0;</td>
<td class="org-left">branch -d &lt;name&gt;</td>
<td class="org-left">删除已合并的name分支</td>
</tr>

<tr>
<td class="org-left">&#xa0;</td>
<td class="org-left">&#xa0;</td>
<td class="org-left">&#xa0;</td>
<td class="org-left">branch -D &lt;name&gt;</td>
<td class="org-left">强制删除name分支</td>
</tr>
</tbody>
<tbody>
<tr>
<td class="org-left">&#xa0;</td>
<td class="org-left">&#xa0;</td>
<td class="org-left">&#xa0;</td>
<td class="org-left">branch -m &lt;oldn&gt; &lt;newn&gt;</td>
<td class="org-left">重命名分支oldn为newn</td>
</tr>

<tr>
<td class="org-left">&#xa0;</td>
<td class="org-left">&#xa0;</td>
<td class="org-left">&#xa0;</td>
<td class="org-left">branch -M &lt;oldn&gt; &lt;newn&gt;</td>
<td class="org-left">强制重命名分支oldn为newn</td>
</tr>
</tbody>
<tbody>
<tr>
<td class="org-left">&#xa0;</td>
<td class="org-left">&#xa0;</td>
<td class="org-left">&#xa0;</td>
<td class="org-left">push origin &lt;name&gt;</td>
<td class="org-left">将name分支推送到远程共享</td>
</tr>

<tr>
<td class="org-left">&#xa0;</td>
<td class="org-left">&#xa0;</td>
<td class="org-left">&#xa0;</td>
<td class="org-left">push origin  :&lt;name&gt;</td>
<td class="org-left">将远程的name分支删除</td>
</tr>

<tr>
<td class="org-left">&#xa0;</td>
<td class="org-left">&#xa0;</td>
<td class="org-left">&#xa0;</td>
<td class="org-left">branch -a</td>
<td class="org-left">查询远程所有分支</td>
</tr>
</tbody>
</table>
</div>
</div>

<div id="outline-container-org261ebcd" class="outline-4">
<h4 id="org261ebcd"><span class="section-number-4">5.5.11</span> git暂存操作</h4>
<div class="outline-text-4" id="text-5-5-11">
<p>
git暂存通常用户暂时保存当前工作环境，处理好冲突等事务后，再恢复环境继
续当前事务。
</p>
<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">
<caption class="t-above"><span class="table-number">Table 14:</span> GIT暂存操作</caption>

<colgroup>
<col  class="org-left" />

<col  class="org-left" />

<col  class="org-left" />

<col  class="org-left" />

<col  class="org-left" />

<col  class="org-left" />
</colgroup>
<thead>
<tr>
<th scope="col" class="org-left">WORK</th>
<th scope="col" class="org-left">STAGE</th>
<th scope="col" class="org-left">HEAD</th>
<th scope="col" class="org-left">stash</th>
<th scope="col" class="org-left">cmd</th>
<th scope="col" class="org-left">description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="org-left">from</td>
<td class="org-left">from</td>
<td class="org-left">&#xa0;</td>
<td class="org-left">to</td>
<td class="org-left">stash</td>
<td class="org-left">暂存</td>
</tr>

<tr>
<td class="org-left">to</td>
<td class="org-left">&#xa0;</td>
<td class="org-left">&#xa0;</td>
<td class="org-left">from</td>
<td class="org-left">stash pop stash1</td>
<td class="org-left">将stash1恢复</td>
</tr>

<tr>
<td class="org-left">to</td>
<td class="org-left">to</td>
<td class="org-left">&#xa0;</td>
<td class="org-left">from</td>
<td class="org-left">stash pop &#x2013;index stash1</td>
<td class="org-left">将stash1恢复</td>
</tr>

<tr>
<td class="org-left">&#xa0;</td>
<td class="org-left">&#xa0;</td>
<td class="org-left">&#xa0;</td>
<td class="org-left">rm</td>
<td class="org-left">stash drop [stash1]</td>
<td class="org-left">删除stash1</td>
</tr>

<tr>
<td class="org-left">&#xa0;</td>
<td class="org-left">&#xa0;</td>
<td class="org-left">&#xa0;</td>
<td class="org-left">rm</td>
<td class="org-left">stash clear</td>
<td class="org-left">删除所有stash</td>
</tr>

<tr>
<td class="org-left">&#xa0;</td>
<td class="org-left">&#xa0;</td>
<td class="org-left">&#xa0;</td>
<td class="org-left">display</td>
<td class="org-left">stash list</td>
<td class="org-left">显示所有stash</td>
</tr>
</tbody>
</table>
</div>
</div>

<div id="outline-container-orge9a5c3d" class="outline-4">
<h4 id="orge9a5c3d"><span class="section-number-4">5.5.12</span> git标签操作</h4>
<div class="outline-text-4" id="text-5-5-12">
<p>
标签即tag，也叫里程碑，是对当前工程的一种状态命名。
</p>
<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">
<caption class="t-above"><span class="table-number">Table 15:</span> GIT标签操作</caption>

<colgroup>
<col  class="org-left" />

<col  class="org-left" />
</colgroup>
<thead>
<tr>
<th scope="col" class="org-left">cmd</th>
<th scope="col" class="org-left">description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="org-left">git tag &lt;tagname&gt; [ID]</td>
<td class="org-left">对ID创建里程碑</td>
</tr>
</tbody>
<tbody>
<tr>
<td class="org-left">git tag -a &lt;tagname&gt; [ID]</td>
<td class="org-left">创建带msg的里程碑(弹出编辑框)</td>
</tr>

<tr>
<td class="org-left">git tag -m &lt;msg&gt; &lt;tagname&gt; [ID]</td>
<td class="org-left">同上(自动带上msg)</td>
</tr>
</tbody>
<tbody>
<tr>
<td class="org-left">git tag -s &lt;tagname&gt; [ID]</td>
<td class="org-left">创建带GPG签名的里程碑</td>
</tr>

<tr>
<td class="org-left">git tag -u &lt;pri-key&gt; &lt;tagname&gt; [ID]</td>
<td class="org-left">创建带GPG签名的里程碑(pri-key)</td>
</tr>
</tbody>
<tbody>
<tr>
<td class="org-left">git tag -d &lt;tagname&gt;</td>
<td class="org-left">删除里程碑</td>
</tr>
</tbody>
<tbody>
<tr>
<td class="org-left">git push origin &lt;tagname&gt;</td>
<td class="org-left">推送tag到远程库</td>
</tr>

<tr>
<td class="org-left">git push origin refs/tags/*</td>
<td class="org-left">推送所有tag到远程库</td>
</tr>

<tr>
<td class="org-left">git push origin  :&lt;tagname&gt;</td>
<td class="org-left">删除远程库的里程碑</td>
</tr>
</tbody>
</table>
</div>
</div>
<div id="outline-container-org3e9aca2" class="outline-4">
<h4 id="org3e9aca2"><span class="section-number-4">5.5.13</span> git克隆操作</h4>
<div class="outline-text-4" id="text-5-5-13">
<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">
<caption class="t-above"><span class="table-number">Table 16:</span> GIT克隆操作</caption>

<colgroup>
<col  class="org-left" />

<col  class="org-left" />

<col  class="org-left" />

<col  class="org-left" />
</colgroup>
<thead>
<tr>
<th scope="col" class="org-left">path1</th>
<th scope="col" class="org-left">path2</th>
<th scope="col" class="org-left">cmd</th>
<th scope="col" class="org-left">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="org-left">&#xa0;</td>
<td class="org-left">&#xa0;</td>
<td class="org-left">git remote -v</td>
<td class="org-left">可以在path2中获取注册信息</td>
</tr>

<tr>
<td class="org-left">from</td>
<td class="org-left">to</td>
<td class="org-left">git clone /path1 /path2</td>
<td class="org-left">对等克隆,path2可以是remote</td>
</tr>

<tr>
<td class="org-left">from</td>
<td class="org-left">to</td>
<td class="org-left">git clone &#x2013;bare /path1 /path2</td>
<td class="org-left">裸克隆,path2可以是remote</td>
</tr>

<tr>
<td class="org-left">&#xa0;</td>
<td class="org-left">*</td>
<td class="org-left">git init &#x2013;bare /path2</td>
<td class="org-left">在path2中创建1个裸克隆</td>
</tr>
</tbody>
</table>
</div>
</div>

<div id="outline-container-org11801e6" class="outline-4">
<h4 id="org11801e6"><span class="section-number-4">5.5.14</span> git拉取操作</h4>
<div class="outline-text-4" id="text-5-5-14">
<p>
pull操作=fetch操作+merge操作
</p>
<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">
<caption class="t-above"><span class="table-number">Table 17:</span> GIT拉取操作</caption>

<colgroup>
<col  class="org-left" />

<col  class="org-left" />

<col  class="org-left" />

<col  class="org-left" />
</colgroup>
<thead>
<tr>
<th scope="col" class="org-left">path1</th>
<th scope="col" class="org-left">path2</th>
<th scope="col" class="org-left">cmd</th>
<th scope="col" class="org-left">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="org-left">from</td>
<td class="org-left">to</td>
<td class="org-left">git pull</td>
<td class="org-left">pull path1中的提交到path2中</td>
</tr>
</tbody>
</table>
</div>
</div>

<div id="outline-container-orgc2b498e" class="outline-4">
<h4 id="orgc2b498e"><span class="section-number-4">5.5.15</span> git获取操作</h4>
<div class="outline-text-4" id="text-5-5-15">
<p>
获取操作即fetch操作, 只更新到.git/refs/remotes/origin/master
</p>
<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">
<caption class="t-above"><span class="table-number">Table 18:</span> GIT获取操作</caption>

<colgroup>
<col  class="org-left" />

<col  class="org-left" />

<col  class="org-left" />
</colgroup>
<thead>
<tr>
<th scope="col" class="org-left">remote</th>
<th scope="col" class="org-left">.git/refs/remotes/origin/master</th>
<th scope="col" class="org-left">cmd</th>
</tr>
</thead>
<tbody>
<tr>
<td class="org-left">from</td>
<td class="org-left">to</td>
<td class="org-left">git fetch</td>
</tr>
</tbody>
</table>
</div>
</div>

<div id="outline-container-org50c38a9" class="outline-4">
<h4 id="org50c38a9"><span class="section-number-4">5.5.16</span> git冲突操作</h4>
<div class="outline-text-4" id="text-5-5-16">
<p>
git pull时遇到冲突时，需要分步解决冲突
</p>
<ul class="org-ul">
<li>拉取：git fetch：拉取远程分支到refs/remotes/origin/master</li>
<li>合并：git merge origin/master:合并远程分支到本地head分支(heads/master)</li>
<li>解决冲突：
<ul class="org-ul">
<li>自动解决冲突</li>
<li>手动解决冲突：需要手动编辑文件或重命名文件</li>
</ul></li>
</ul>
</div>
</div>
<div id="outline-container-orgfef2dea" class="outline-4">
<h4 id="orgfef2dea"><span class="section-number-4">5.5.17</span> git合并操作</h4>
<div class="outline-text-4" id="text-5-5-17">
<p>
合并操作即merge操作，通常需要做冲突处理。
</p>
<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">
<caption class="t-above"><span class="table-number">Table 19:</span> GIT合并操作</caption>

<colgroup>
<col  class="org-left" />

<col  class="org-left" />

<col  class="org-left" />

<col  class="org-left" />
</colgroup>
<thead>
<tr>
<th scope="col" class="org-left">.git/refs/master</th>
<th scope="col" class="org-left">master</th>
<th scope="col" class="org-left">cmd</th>
<th scope="col" class="org-left">&#xa0;</th>
</tr>
</thead>
<tbody>
<tr>
<td class="org-left">to</td>
<td class="org-left">from</td>
<td class="org-left">merge origin/master</td>
<td class="org-left">将fetch来的master合到本地master</td>
</tr>
</tbody>
</table>
</div>
</div>
<div id="outline-container-org5056251" class="outline-4">
<h4 id="org5056251"><span class="section-number-4">5.5.18</span> git变基操作</h4>
<div class="outline-text-4" id="text-5-5-18">
<p>
一般都是将其他分支合并到master分支，变基操作是将master分支拉到其他分支，
将其他分支变成master分支；
</p>
<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">
<caption class="t-above"><span class="table-number">Table 20:</span> GIT变基操作</caption>

<colgroup>
<col  class="org-left" />

<col  class="org-left" />

<col  class="org-left" />

<col  class="org-left" />
</colgroup>
<thead>
<tr>
<th scope="col" class="org-left">branch1</th>
<th scope="col" class="org-left">master</th>
<th scope="col" class="org-left">cmd</th>
<th scope="col" class="org-left">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="org-left">*</td>
<td class="org-left">&#xa0;</td>
<td class="org-left">checkout branch1</td>
<td class="org-left">先切换到其他分支</td>
</tr>

<tr>
<td class="org-left">to</td>
<td class="org-left">from</td>
<td class="org-left">rebase master</td>
<td class="org-left">将master分支变到branch1</td>
</tr>
</tbody>
</table>


<p>
说明：
</p>
<ul class="org-ul">
<li>变基操作可能遇到冲突，需要合并操作；</li>
</ul>
</div>
</div>

<div id="outline-container-org729b6bd" class="outline-4">
<h4 id="org729b6bd"><span class="section-number-4">5.5.19</span> git推送操作</h4>
<div class="outline-text-4" id="text-5-5-19">
<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">
<caption class="t-above"><span class="table-number">Table 21:</span> GIT推送操作</caption>

<colgroup>
<col  class="org-left" />

<col  class="org-left" />

<col  class="org-left" />

<col  class="org-left" />
</colgroup>
<thead>
<tr>
<th scope="col" class="org-left">path1</th>
<th scope="col" class="org-left">path2</th>
<th scope="col" class="org-left">cmd</th>
<th scope="col" class="org-left">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="org-left">from</td>
<td class="org-left">to</td>
<td class="org-left">git push /path2</td>
<td class="org-left">(裸克隆)push path1到path2中</td>
</tr>

<tr>
<td class="org-left">from</td>
<td class="org-left">to</td>
<td class="org-left">git push /path2 master</td>
<td class="org-left">(init克隆)push path1到path2中</td>
</tr>
</tbody>
</table>
</div>
</div>

<div id="outline-container-org80bacfd" class="outline-4">
<h4 id="org80bacfd"><span class="section-number-4">5.5.20</span> git二分查找</h4>
<div class="outline-text-4" id="text-5-5-20">
<p>
git可以采用二分法查找某个commit是否引入bug，二分查找还支持run子命令自
动行自动化测例；
</p>
<ul class="org-ul">
<li>git bisect start: 二分查找开始</li>
<li>git bisect bad ID1: 将commit ID1标记为有bug的状态</li>
<li>git bisect good ID2: 将commit ID2标记为无bug状态，git自动更新到ID1到
ID2中间位置的一个commit，继续测试并标记bad或者good，最终找到bug初始
出现位置;</li>
<li>git bisect reset: 撤销二分查找在库中遗留的临时文件，恢复查找前的状态；</li>
</ul>
</div>
</div>

<div id="outline-container-org264025c" class="outline-4">
<h4 id="org264025c"><span class="section-number-4">5.5.21</span> git归档操作</h4>
<div class="outline-text-4" id="text-5-5-21">
<ul class="org-ul">
<li>基于最新提交建立归档文件: git archive -o latest.zip HEAD</li>
<li>只将目录src和doc建立归档: git archive -o latest.tar HEAD src doc</li>
<li>基于里程碑mytagname归档，且在归档中的文件添加目录前缀:
git archive -o latest.zip &#x2013;prefix=bitman/ mytagname</li>
</ul>
</div>
</div>
</div>
</div>
<div id="outline-container-org8e769e0" class="outline-2">
<h2 id="org8e769e0"><span class="section-number-2">6</span> ssh</h2>
<div class="outline-text-2" id="text-6">
</div>
<div id="outline-container-org4a1ca09" class="outline-3">
<h3 id="org4a1ca09"><span class="section-number-3">6.1</span> 建立互信</h3>
<div class="outline-text-3" id="text-6-1">
<p>
以下只在Linux上做了测试，好像两个机子必须用相同的账户名，测试用的root
账。
</p>
<ul class="org-ul">
<li><p>
A机生成ssh-key
</p>
<div class="org-src-container">
<pre class="src src-shell"><span style="color: #90ee90; font-style: italic;"># </span><span style="color: #90ee90; font-style: italic;">&#29983;&#25104;id_rsa&#21644;id_rsa.pub</span>
ssh-kengen -t rsa -C <span style="color: #ffa07a;">"bitman@163"</span>
</pre>
</div></li>
<li><p>
建立互信通道：将A机的公钥拷贝到B机的.ssh/authorized<sub>keys中</sub>，期间需要
输入B机账户(root)密码。
</p>
<div class="org-src-container">
<pre class="src src-shell">ssh-copy-id -i ~/.ssh/id_rsa.pub 192.168.0.25
</pre>
</div></li>
<li><p>
通道测试:A机拷贝文件到B机root目录下。
</p>
<div class="org-src-container">
<pre class="src src-shell">scp test.txt root@192.168.0.25:/root 
</pre>
</div></li>
<li>如果要建立双向互信，B机也要同样在A机注册密钥</li>
</ul>
</div>
</div>
<div id="outline-container-org4e1e98a" class="outline-3">
<h3 id="org4e1e98a"><span class="section-number-3">6.2</span> 获取shell</h3>
<div class="outline-text-3" id="text-6-2">
<p>
ssh可以利用公私密钥和目标服务器建立绑定，在服务器上保存客户端对应的公
钥，然后可以在客户端使用简单方式获取服务器的shell。步骤
</p>
<ul class="org-ul">
<li><p>
服务器(centos)建立测试账户：
</p>
<div class="org-src-container">
<pre class="src src-shell"><span style="color: #90ee90; font-style: italic;"># </span><span style="color: #90ee90; font-style: italic;">-s: &#25351;&#23450;shell</span>
<span style="color: #90ee90; font-style: italic;"># </span><span style="color: #90ee90; font-style: italic;">-g: &#23558;gituser&#28155;&#21152;&#21040;gitgroup&#20013;</span>
<span style="color: #90ee90; font-style: italic;"># </span><span style="color: #90ee90; font-style: italic;">&#20551;&#23450;server&#22320;&#22336;&#21483;ip</span>
useradd -s /bin/bash -g gitgroup gituser 
pass gituser <span style="color: #90ee90; font-style: italic;"># </span><span style="color: #90ee90; font-style: italic;">&#35774;&#32622;&#36134;&#25143;&#23494;&#30721;password1</span>
</pre>
</div></li>
<li><p>
客户端生成和上传公钥到服务器
</p>
<div class="org-src-container">
<pre class="src src-shell"><span style="color: #90ee90; font-style: italic;"># </span><span style="color: #90ee90; font-style: italic;">&#22914;&#26524;&#23458;&#25143;&#31471;&#30340;~/.ssh&#24050;&#32463;&#26377;&#20844;&#31169;&#23494;&#38053;&#65292;&#21017;&#30452;&#25509;copy&#20844;&#38053;</span>
<span style="color: #90ee90; font-style: italic;"># </span><span style="color: #90ee90; font-style: italic;">&#22914;&#26524;&#23458;&#25143;&#31471;&#30340;&#27809;&#26377;&#65292;&#21017;&#29983;&#25104;&#21518;copy&#20844;&#38053;</span>
<span style="color: #90ee90; font-style: italic;"># </span><span style="color: #90ee90; font-style: italic;">&#38656;&#35201;&#36755;&#20837;&#19978;&#38754;&#30340;&#36134;&#25143;&#23494;&#30721;password1</span>
<span style="color: #90ee90; font-style: italic;"># </span><span style="color: #90ee90; font-style: italic;">&#30001;&#27492;&#24314;&#31435;&#20102;&#36134;&#25143;&#32465;&#23450;</span>
ssh-copy-id gituser@ip
</pre>
</div></li>
<li><p>
客户端ssh登录服务器账户
</p>
<div class="org-src-container">
<pre class="src src-shell"><span style="color: #90ee90; font-style: italic;"># </span><span style="color: #90ee90; font-style: italic;">&#21518;&#21488;&#20250;&#20351;&#29992;&#23458;&#25143;&#31471;&#30340;&#31169;&#38053;&#21644;&#26381;&#21153;&#22120;&#30340;&#20844;&#38053;&#20570;&#26657;&#39564;</span>
<span style="color: #90ee90; font-style: italic;"># </span><span style="color: #90ee90; font-style: italic;">&#30331;&#24405;&#25104;&#21151;&#65292;&#30452;&#25509;&#33719;&#21462;&#21040;gituser&#30340;/bin/bash</span>
ssh gituser@ip
</pre>
</div></li>
</ul>
</div>
</div>
</div>

<div id="outline-container-orgdede6ea" class="outline-2">
<h2 id="orgdede6ea"><span class="section-number-2">7</span> jenkins</h2>
<div class="outline-text-2" id="text-7">
<ul class="org-ul">
<li>单个git库被触发的设置：
<ol class="org-ol">
<li>保证git服务器和Jenkins服务器网络通畅；</li>
<li><p>
在该git库的.git/hooks/中新建post-receive脚本
</p>
<div class="org-src-container">
<pre class="src src-shell"><span style="color: #90ee90; font-style: italic;">#</span><span style="color: #90ee90; font-style: italic;">!/bin/</span><span style="color: #ffb6c1; font-size: 105%;">sh</span>
<span style="color: #90ee90; font-style: italic;"># </span><span style="color: #90ee90; font-style: italic;">jenkins_username: &#29992;&#25143;&#30331;&#38470;Jenkins&#30340;&#29992;&#25143;&#21517;</span>
<span style="color: #90ee90; font-style: italic;"># </span><span style="color: #90ee90; font-style: italic;">Jenkins_username_tokenvalue:&#22312;Jenkins&#29992;&#25143;&#31649;&#29702;&#20013;&#35774;&#32622;&#30340;&#35813;&#29992;&#25143;&#30340;token&#20540;</span>
<span style="color: #90ee90; font-style: italic;"># </span><span style="color: #90ee90; font-style: italic;">ip:port:Jenkins&#26381;&#21153;&#22120;&#22320;&#22336;</span>
<span style="color: #90ee90; font-style: italic;"># </span><span style="color: #90ee90; font-style: italic;">jobname: Jenkins&#20013;&#35813;&#29992;&#25143;&#30340;job&#21517;&#31216;</span>
<span style="color: #90ee90; font-style: italic;"># </span><span style="color: #90ee90; font-style: italic;">token_name: &#22312;Jenkins&#29992;&#25143;&#31649;&#29702;&#20013;&#35774;&#32622;&#30340;&#35813;&#29992;&#25143;&#30340;token&#21517;&#31216;</span>
curl -X POST http://jenkins_username:jenkins_username_tokenvalue@ip:port/job/jobname/build?<span style="color: #ffd700;">token</span>=token_name
</pre>
</div></li>
<li>这样对该git库提交，就会触发该job</li>
</ol></li>
<li>批量git库设置触发：
<ol class="org-ol">
<li>保证git服务器和Jenkins服务器网络通畅；</li>
<li><p>
进入git服务器的 ~/.gitolite/hooks/common，编辑post-receive
</p>
<div class="org-src-container">
<pre class="src src-shell"><span style="color: #90ee90; font-style: italic;">#</span><span style="color: #90ee90; font-style: italic;">!/bin/</span><span style="color: #ffb6c1; font-size: 105%;">sh</span>
<span style="color: #ffd700;">JENKINS_URL</span>=http://ip:port
<span style="color: #ffd700;">GIT_URL</span>=git@ip2:port2
<span style="color: #87cefa; text-decoration: underline;">echo</span> -n <span style="color: #ffa07a;">"Notifying Jenkins..."</span>
wget -q $<span style="color: #ffd700;">JENKINS_URL</span>/git/notifyCommit<span style="color: #ffa07a;">\?</span><span style="color: #ffd700;">url</span>=$<span style="color: #ffd700;">GIT_URL</span>:$<span style="color: #ffd700;">GL_REPO</span> -O /dev/null
<span style="color: #87cefa; text-decoration: underline;">echo</span> <span style="color: #ffa07a;">"done."</span>
</pre>
</div></li>
<li>运行命令gitolite setup。为每个git库建立软连接到该脚本，这样在做库
的clone，pull时该脚本也不会被拉到本地。</li>
</ol></li>
</ul>
</div>
</div>
<div id="outline-container-org0ec877b" class="outline-2">
<h2 id="org0ec877b"><span class="section-number-2">8</span> share</h2>
<div class="outline-text-2" id="text-8">
<p>
利用python脚本可以做简单的文件夹共享(包括其子目录)
</p>
<ul class="org-ul">
<li>支持下载、上传</li>
<li>使用方法：将脚本放在需要共享的顶层目录，并运行。</li>
<li>在其他电脑上浏览器中输入<a href="http://ip:8000">http://ip:8000</a> 即可打开共享目录</li>
<li>ip将在python脚本第一行输出。</li>
<li>只在局域网内测试过。</li>
</ul>


<div class="org-src-container">
<pre class="src src-python"><span style="color: #90ee90; font-style: italic;"># </span><span style="color: #90ee90; font-style: italic;">-*- coding: utf-8 -*-</span>
<span style="color: #90ee90; font-style: italic;">#</span><span style="color: #90ee90; font-style: italic;">!/usr/bin/env python3</span>
<span style="color: #ffa07a;">"""Simple HTTP Server With Upload.</span>

<span style="color: #ffa07a;">This module builds on BaseHTTPServer by implementing the standard GET</span>
<span style="color: #ffa07a;">and HEAD requests in a fairly straightforward manner.</span>

<span style="color: #ffa07a;">see: https://gist.github.com/UniIsland/3346170</span>
<span style="color: #ffa07a;">"""</span>


<span style="color: #ffd700;">__version__</span> = <span style="color: #ffa07a;">"0.1"</span>
<span style="color: #87cefa; text-decoration: underline;">__all__</span> = [<span style="color: #ffa07a;">"SimpleHTTPRequestHandler"</span>]

<span style="color: #ffb6c1; font-size: 105%;">import</span> os
<span style="color: #ffb6c1; font-size: 105%;">import</span> posixpath
<span style="color: #ffb6c1; font-size: 105%;">import</span> http.server
<span style="color: #ffb6c1; font-size: 105%;">import</span> urllib.request, urllib.parse, urllib.error
<span style="color: #ffb6c1; font-size: 105%;">import</span> cgi
<span style="color: #ffb6c1; font-size: 105%;">import</span> shutil
<span style="color: #ffb6c1; font-size: 105%;">import</span> mimetypes
<span style="color: #ffb6c1; font-size: 105%;">import</span> re
<span style="color: #ffb6c1; font-size: 105%;">from</span> io <span style="color: #ffb6c1; font-size: 105%;">import</span> BytesIO
<span style="color: #ffb6c1; font-size: 105%;">import</span> socket


<span style="color: #ffb6c1; font-size: 105%;">class</span> <span style="color: #ffff00; font-size: 105%;">SimpleHTTPRequestHandler</span>(http.server.BaseHTTPRequestHandler):

    <span style="color: #ffa07a;">"""Simple HTTP request handler with GET/HEAD/POST commands.</span>

<span style="color: #ffa07a;">    This serves files from the current directory and any of its</span>
<span style="color: #ffa07a;">    subdirectories.  The MIME type for files is determined by</span>
<span style="color: #ffa07a;">    calling the .guess_type() method. And can reveive file uploaded</span>
<span style="color: #ffa07a;">    by client.</span>

<span style="color: #ffa07a;">    The GET/HEAD/POST requests are identical except that the HEAD</span>
<span style="color: #ffa07a;">    request omits the actual contents of the file.</span>

<span style="color: #ffa07a;">    """</span>

    <span style="color: #ffd700;">server_version</span> = <span style="color: #ffa07a;">"SimpleHTTPWithUpload/"</span> + __version__

    <span style="color: #ffb6c1; font-size: 105%;">def</span> <span style="color: #1e90ff; font-size: 105%; font-weight: bold;">do_GET</span>(<span style="color: #ffb6c1; font-size: 105%;">self</span>):
        <span style="color: #ffa07a;">"""Serve a GET request."""</span>
        <span style="color: #ffd700;">f</span> = <span style="color: #ffb6c1; font-size: 105%;">self</span>.send_head()
        <span style="color: #ffb6c1; font-size: 105%;">if</span> f:
            <span style="color: #ffb6c1; font-size: 105%;">self</span>.copyfile(f, <span style="color: #ffb6c1; font-size: 105%;">self</span>.wfile)
            f.close()

    <span style="color: #ffb6c1; font-size: 105%;">def</span> <span style="color: #1e90ff; font-size: 105%; font-weight: bold;">do_HEAD</span>(<span style="color: #ffb6c1; font-size: 105%;">self</span>):
        <span style="color: #ffa07a;">"""Serve a HEAD request."""</span>
        <span style="color: #ffd700;">f</span> = <span style="color: #ffb6c1; font-size: 105%;">self</span>.send_head()
        <span style="color: #ffb6c1; font-size: 105%;">if</span> f:
            f.close()

    <span style="color: #ffb6c1; font-size: 105%;">def</span> <span style="color: #1e90ff; font-size: 105%; font-weight: bold;">do_POST</span>(<span style="color: #ffb6c1; font-size: 105%;">self</span>):
        <span style="color: #ffa07a;">"""Serve a POST request."""</span>
        <span style="color: #ffd700;">r</span>, <span style="color: #ffd700;">info</span> = <span style="color: #ffb6c1; font-size: 105%;">self</span>.deal_post_data()
        <span style="color: #ffb6c1; font-size: 105%;">print</span>((r, info, <span style="color: #ffa07a;">"by: "</span>, <span style="color: #ffb6c1; font-size: 105%;">self</span>.client_address))
        <span style="color: #ffd700;">f</span> = BytesIO()
        f.write(b<span style="color: #ffa07a;">'&lt;!DOCTYPE html PUBLIC "-//W3C//DTD HTML 3.2 Final//EN"&gt;'</span>)
        f.write(b<span style="color: #ffa07a;">"&lt;html&gt;\n&lt;title&gt;Upload Result Page&lt;/title&gt;\n"</span>)
        f.write(b<span style="color: #ffa07a;">"&lt;body&gt;\n&lt;h2&gt;Upload Result Page&lt;/h2&gt;\n"</span>)
        f.write(b<span style="color: #ffa07a;">"&lt;hr&gt;\n"</span>)
        <span style="color: #ffb6c1; font-size: 105%;">if</span> r:
            f.write(b<span style="color: #ffa07a;">"&lt;strong&gt;Success:&lt;/strong&gt;"</span>)
        <span style="color: #ffb6c1; font-size: 105%;">else</span>:
            f.write(b<span style="color: #ffa07a;">"&lt;strong&gt;Failed:&lt;/strong&gt;"</span>)
        f.write(info.encode())
        f.write((<span style="color: #ffa07a;">"&lt;br&gt;&lt;a href=\"%s\"&gt;back&lt;/a&gt;"</span> % <span style="color: #ffb6c1; font-size: 105%;">self</span>.headers[<span style="color: #ffa07a;">'referer'</span>]).encode())
        f.write(b<span style="color: #ffa07a;">"&lt;hr&gt;&lt;small&gt;Powerd By: bones7456, check new version at "</span>)
        f.write(b<span style="color: #ffa07a;">"&lt;a href=\"http://li2z.cn/?s=SimpleHTTPServerWithUpload\"&gt;"</span>)
        f.write(b<span style="color: #ffa07a;">"here&lt;/a&gt;.&lt;/small&gt;&lt;/body&gt;\n&lt;/html&gt;\n"</span>)
        <span style="color: #ffd700;">length</span> = f.tell()
        f.seek(0)
        <span style="color: #ffb6c1; font-size: 105%;">self</span>.send_response(200)
        <span style="color: #ffb6c1; font-size: 105%;">self</span>.send_header(<span style="color: #ffa07a;">"Content-type"</span>, <span style="color: #ffa07a;">"text/html"</span>)
        <span style="color: #ffb6c1; font-size: 105%;">self</span>.send_header(<span style="color: #ffa07a;">"Content-Length"</span>, <span style="color: #87cefa; text-decoration: underline;">str</span>(length))
        <span style="color: #ffb6c1; font-size: 105%;">self</span>.end_headers()
        <span style="color: #ffb6c1; font-size: 105%;">if</span> f:
            <span style="color: #ffb6c1; font-size: 105%;">self</span>.copyfile(f, <span style="color: #ffb6c1; font-size: 105%;">self</span>.wfile)
            f.close()

    <span style="color: #ffb6c1; font-size: 105%;">def</span> <span style="color: #1e90ff; font-size: 105%; font-weight: bold;">deal_post_data</span>(<span style="color: #ffb6c1; font-size: 105%;">self</span>):
        <span style="color: #ffd700;">content_type</span> = <span style="color: #ffb6c1; font-size: 105%;">self</span>.headers[<span style="color: #ffa07a;">'content-type'</span>]
        <span style="color: #ffb6c1; font-size: 105%;">if</span> <span style="color: #ffb6c1; font-size: 105%;">not</span> content_type:
            <span style="color: #ffb6c1; font-size: 105%;">return</span> (<span style="color: #7fffd4;">False</span>, <span style="color: #ffa07a;">"Content-Type header doesn't contain boundary"</span>)
        <span style="color: #ffd700;">boundary</span> = content_type.split(<span style="color: #ffa07a;">"="</span>)[1].encode()
        <span style="color: #ffd700;">remainbytes</span> = <span style="color: #87cefa; text-decoration: underline;">int</span>(<span style="color: #ffb6c1; font-size: 105%;">self</span>.headers[<span style="color: #ffa07a;">'content-length'</span>])
        <span style="color: #ffd700;">line</span> = <span style="color: #ffb6c1; font-size: 105%;">self</span>.rfile.readline()
        <span style="color: #ffd700;">remainbytes</span> -= <span style="color: #87cefa; text-decoration: underline;">len</span>(line)
        <span style="color: #ffb6c1; font-size: 105%;">if</span> <span style="color: #ffb6c1; font-size: 105%;">not</span> boundary <span style="color: #ffb6c1; font-size: 105%;">in</span> line:
            <span style="color: #ffb6c1; font-size: 105%;">return</span> (<span style="color: #7fffd4;">False</span>, <span style="color: #ffa07a;">"Content NOT begin with boundary"</span>)
        <span style="color: #ffd700;">line</span> = <span style="color: #ffb6c1; font-size: 105%;">self</span>.rfile.readline()
        <span style="color: #ffd700;">remainbytes</span> -= <span style="color: #87cefa; text-decoration: underline;">len</span>(line)
        <span style="color: #ffd700;">fn</span> = re.findall(r<span style="color: #ffa07a;">'Content-Disposition.*name="file"; filename="(.*)"'</span>, line.decode())
        <span style="color: #ffb6c1; font-size: 105%;">if</span> <span style="color: #ffb6c1; font-size: 105%;">not</span> fn:
            <span style="color: #ffb6c1; font-size: 105%;">return</span> (<span style="color: #7fffd4;">False</span>, <span style="color: #ffa07a;">"Can't find out file name..."</span>)
        <span style="color: #ffd700;">path</span> = <span style="color: #ffb6c1; font-size: 105%;">self</span>.translate_path(<span style="color: #ffb6c1; font-size: 105%;">self</span>.path)
        <span style="color: #ffd700;">fn</span> = os.path.join(path, fn[0])
        <span style="color: #ffd700;">line</span> = <span style="color: #ffb6c1; font-size: 105%;">self</span>.rfile.readline()
        <span style="color: #ffd700;">remainbytes</span> -= <span style="color: #87cefa; text-decoration: underline;">len</span>(line)
        <span style="color: #ffd700;">line</span> = <span style="color: #ffb6c1; font-size: 105%;">self</span>.rfile.readline()
        <span style="color: #ffd700;">remainbytes</span> -= <span style="color: #87cefa; text-decoration: underline;">len</span>(line)
        <span style="color: #ffb6c1; font-size: 105%;">try</span>:
            <span style="color: #ffd700;">out</span> = <span style="color: #87cefa; text-decoration: underline;">open</span>(fn, <span style="color: #ffa07a;">'wb'</span>)
        <span style="color: #ffb6c1; font-size: 105%;">except</span> <span style="color: #ffff00; font-size: 105%;">IOError</span>:
            <span style="color: #ffb6c1; font-size: 105%;">return</span> (<span style="color: #7fffd4;">False</span>, <span style="color: #ffa07a;">"Can't create file to write, do you have permission to write?"</span>)

        <span style="color: #ffd700;">preline</span> = <span style="color: #ffb6c1; font-size: 105%;">self</span>.rfile.readline()
        <span style="color: #ffd700;">remainbytes</span> -= <span style="color: #87cefa; text-decoration: underline;">len</span>(preline)
        <span style="color: #ffb6c1; font-size: 105%;">while</span> remainbytes &gt; 0:
            <span style="color: #ffd700;">line</span> = <span style="color: #ffb6c1; font-size: 105%;">self</span>.rfile.readline()
            <span style="color: #ffd700;">remainbytes</span> -= <span style="color: #87cefa; text-decoration: underline;">len</span>(line)
            <span style="color: #ffb6c1; font-size: 105%;">if</span> boundary <span style="color: #ffb6c1; font-size: 105%;">in</span> line:
                <span style="color: #ffd700;">preline</span> = preline[0:-1]
                <span style="color: #ffb6c1; font-size: 105%;">if</span> preline.endswith(b<span style="color: #ffa07a;">'\r'</span>):
                    <span style="color: #ffd700;">preline</span> = preline[0:-1]
                out.write(preline)
                out.close()
                <span style="color: #ffb6c1; font-size: 105%;">return</span> (<span style="color: #7fffd4;">True</span>, <span style="color: #ffa07a;">"File '%s' upload success!"</span> % fn)
            <span style="color: #ffb6c1; font-size: 105%;">else</span>:
                out.write(preline)
                <span style="color: #ffd700;">preline</span> = line
        <span style="color: #ffb6c1; font-size: 105%;">return</span> (<span style="color: #7fffd4;">False</span>, <span style="color: #ffa07a;">"Unexpect Ends of data."</span>)

    <span style="color: #ffb6c1; font-size: 105%;">def</span> <span style="color: #1e90ff; font-size: 105%; font-weight: bold;">send_head</span>(<span style="color: #ffb6c1; font-size: 105%;">self</span>):
        <span style="color: #ffa07a;">"""Common code for GET and HEAD commands.</span>

<span style="color: #ffa07a;">        This sends the response code and MIME headers.</span>

<span style="color: #ffa07a;">        Return value is either a file object (which has to be copied</span>
<span style="color: #ffa07a;">        to the outputfile by the caller unless the command was HEAD,</span>
<span style="color: #ffa07a;">        and must be closed by the caller under all circumstances), or</span>
<span style="color: #ffa07a;">        None, in which case the caller has nothing further to do.</span>

<span style="color: #ffa07a;">        """</span>
        <span style="color: #ffd700;">path</span> = <span style="color: #ffb6c1; font-size: 105%;">self</span>.translate_path(<span style="color: #ffb6c1; font-size: 105%;">self</span>.path)
        <span style="color: #ffd700;">f</span> = <span style="color: #7fffd4;">None</span>
        <span style="color: #ffb6c1; font-size: 105%;">if</span> os.path.isdir(path):
            <span style="color: #ffb6c1; font-size: 105%;">if</span> <span style="color: #ffb6c1; font-size: 105%;">not</span> <span style="color: #ffb6c1; font-size: 105%;">self</span>.path.endswith(<span style="color: #ffa07a;">'/'</span>):
                <span style="color: #90ee90; font-style: italic;"># </span><span style="color: #90ee90; font-style: italic;">redirect browser - doing basically what apache does</span>
                <span style="color: #ffb6c1; font-size: 105%;">self</span>.send_response(301)
                <span style="color: #ffb6c1; font-size: 105%;">self</span>.send_header(<span style="color: #ffa07a;">"Location"</span>, <span style="color: #ffb6c1; font-size: 105%;">self</span>.path + <span style="color: #ffa07a;">"/"</span>)
                <span style="color: #ffb6c1; font-size: 105%;">self</span>.end_headers()
                <span style="color: #ffb6c1; font-size: 105%;">return</span> <span style="color: #7fffd4;">None</span>
            <span style="color: #ffb6c1; font-size: 105%;">for</span> index <span style="color: #ffb6c1; font-size: 105%;">in</span> <span style="color: #ffa07a;">"index.html"</span>, <span style="color: #ffa07a;">"index.htm"</span>:
                <span style="color: #ffd700;">index</span> = os.path.join(path, index)
                <span style="color: #ffb6c1; font-size: 105%;">if</span> os.path.exists(index):
                    <span style="color: #ffd700;">path</span> = index
                    <span style="color: #ffb6c1; font-size: 105%;">break</span>
            <span style="color: #ffb6c1; font-size: 105%;">else</span>:
                <span style="color: #ffb6c1; font-size: 105%;">return</span> <span style="color: #ffb6c1; font-size: 105%;">self</span>.list_directory(path)
        <span style="color: #ffd700;">ctype</span> = <span style="color: #ffb6c1; font-size: 105%;">self</span>.guess_type(path)
        <span style="color: #ffb6c1; font-size: 105%;">try</span>:
            <span style="color: #90ee90; font-style: italic;"># </span><span style="color: #90ee90; font-style: italic;">Always read in binary mode. Opening files in text mode may cause</span>
            <span style="color: #90ee90; font-style: italic;"># </span><span style="color: #90ee90; font-style: italic;">newline translations, making the actual size of the content</span>
            <span style="color: #90ee90; font-style: italic;"># </span><span style="color: #90ee90; font-style: italic;">transmitted *less* than the content-length!</span>
            <span style="color: #ffd700;">f</span> = <span style="color: #87cefa; text-decoration: underline;">open</span>(path, <span style="color: #ffa07a;">'rb'</span>)
        <span style="color: #ffb6c1; font-size: 105%;">except</span> <span style="color: #ffff00; font-size: 105%;">IOError</span>:
            <span style="color: #ffb6c1; font-size: 105%;">self</span>.send_error(404, <span style="color: #ffa07a;">"File not found"</span>)
            <span style="color: #ffb6c1; font-size: 105%;">return</span> <span style="color: #7fffd4;">None</span>
        <span style="color: #ffb6c1; font-size: 105%;">self</span>.send_response(200)
        <span style="color: #ffb6c1; font-size: 105%;">self</span>.send_header(<span style="color: #ffa07a;">"Content-type"</span>, ctype)
        <span style="color: #ffd700;">fs</span> = os.fstat(f.fileno())
        <span style="color: #ffb6c1; font-size: 105%;">self</span>.send_header(<span style="color: #ffa07a;">"Content-Length"</span>, <span style="color: #87cefa; text-decoration: underline;">str</span>(fs[6]))
        <span style="color: #ffb6c1; font-size: 105%;">self</span>.send_header(<span style="color: #ffa07a;">"Last-Modified"</span>, <span style="color: #ffb6c1; font-size: 105%;">self</span>.date_time_string(fs.st_mtime))
        <span style="color: #ffb6c1; font-size: 105%;">self</span>.end_headers()
        <span style="color: #ffb6c1; font-size: 105%;">return</span> f

    <span style="color: #ffb6c1; font-size: 105%;">def</span> <span style="color: #1e90ff; font-size: 105%; font-weight: bold;">list_directory</span>(<span style="color: #ffb6c1; font-size: 105%;">self</span>, path):
        <span style="color: #ffa07a;">"""Helper to produce a directory listing (absent index.html).</span>

<span style="color: #ffa07a;">        Return value is either a file object, or None (indicating an</span>
<span style="color: #ffa07a;">        error).  In either case, the headers are sent, making the</span>
<span style="color: #ffa07a;">        interface the same as for send_head().</span>

<span style="color: #ffa07a;">        """</span>
        <span style="color: #ffb6c1; font-size: 105%;">try</span>:
            <span style="color: #87cefa; text-decoration: underline;">list</span> = os.listdir(path)
        <span style="color: #ffb6c1; font-size: 105%;">except</span> os.error:
            <span style="color: #ffb6c1; font-size: 105%;">self</span>.send_error(404, <span style="color: #ffa07a;">"No permission to list directory"</span>)
            <span style="color: #ffb6c1; font-size: 105%;">return</span> <span style="color: #7fffd4;">None</span>
        <span style="color: #87cefa; text-decoration: underline;">list</span>.sort(key=<span style="color: #ffb6c1; font-size: 105%;">lambda</span> a: a.lower())
        <span style="color: #ffd700;">f</span> = BytesIO()
        <span style="color: #ffd700;">displaypath</span> = cgi.escape(urllib.parse.unquote(<span style="color: #ffb6c1; font-size: 105%;">self</span>.path))
        f.write(b<span style="color: #ffa07a;">'&lt;!DOCTYPE html PUBLIC "-//W3C//DTD HTML 3.2 Final//EN"&gt;'</span>)
        f.write((<span style="color: #ffa07a;">"&lt;html&gt;\n&lt;title&gt;Directory listing for %s&lt;/title&gt;\n"</span> % displaypath).encode())
        f.write((<span style="color: #ffa07a;">"&lt;body&gt;\n&lt;h2&gt;Directory listing for %s&lt;/h2&gt;\n"</span> % displaypath).encode())
        f.write(b<span style="color: #ffa07a;">"&lt;hr&gt;\n"</span>)
        f.write(b<span style="color: #ffa07a;">"&lt;form ENCTYPE=\"multipart/form-data\" method=\"post\"&gt;"</span>)
        f.write(b<span style="color: #ffa07a;">"&lt;input name=\"file\" type=\"file\"/&gt;"</span>)
        f.write(b<span style="color: #ffa07a;">"&lt;input type=\"submit\" value=\"upload\"/&gt;&lt;/form&gt;\n"</span>)
        f.write(b<span style="color: #ffa07a;">"&lt;hr&gt;\n&lt;ul&gt;\n"</span>)
        <span style="color: #ffb6c1; font-size: 105%;">for</span> name <span style="color: #ffb6c1; font-size: 105%;">in</span> <span style="color: #87cefa; text-decoration: underline;">list</span>:
            <span style="color: #ffd700;">fullname</span> = os.path.join(path, name)
            <span style="color: #ffd700;">displayname</span> = <span style="color: #ffd700;">linkname</span> = name
            <span style="color: #90ee90; font-style: italic;"># </span><span style="color: #90ee90; font-style: italic;">Append / for directories or @ for symbolic links</span>
            <span style="color: #ffb6c1; font-size: 105%;">if</span> os.path.isdir(fullname):
                <span style="color: #ffd700;">displayname</span> = name + <span style="color: #ffa07a;">"/"</span>
                <span style="color: #ffd700;">linkname</span> = name + <span style="color: #ffa07a;">"/"</span>
            <span style="color: #ffb6c1; font-size: 105%;">if</span> os.path.islink(fullname):
                <span style="color: #ffd700;">displayname</span> = name + <span style="color: #ffa07a;">"@"</span>
                <span style="color: #90ee90; font-style: italic;"># </span><span style="color: #90ee90; font-style: italic;">Note: a link to a directory displays with @ and links with /</span>
            f.write((<span style="color: #ffa07a;">'&lt;li&gt;&lt;a href="%s"&gt;%s&lt;/a&gt;\n'</span>
                    % (urllib.parse.quote(linkname), cgi.escape(displayname))).encode())
        f.write(b<span style="color: #ffa07a;">"&lt;/ul&gt;\n&lt;hr&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n"</span>)
        <span style="color: #ffd700;">length</span> = f.tell()
        f.seek(0)
        <span style="color: #ffb6c1; font-size: 105%;">self</span>.send_response(200)
        <span style="color: #ffb6c1; font-size: 105%;">self</span>.send_header(<span style="color: #ffa07a;">"Content-type"</span>, <span style="color: #ffa07a;">"text/html"</span>)
        <span style="color: #ffb6c1; font-size: 105%;">self</span>.send_header(<span style="color: #ffa07a;">"Content-Length"</span>, <span style="color: #87cefa; text-decoration: underline;">str</span>(length))
        <span style="color: #ffb6c1; font-size: 105%;">self</span>.end_headers()
        <span style="color: #ffb6c1; font-size: 105%;">return</span> f

    <span style="color: #ffb6c1; font-size: 105%;">def</span> <span style="color: #1e90ff; font-size: 105%; font-weight: bold;">translate_path</span>(<span style="color: #ffb6c1; font-size: 105%;">self</span>, path):
        <span style="color: #ffa07a;">"""Translate a /-separated PATH to the local filename syntax.</span>

<span style="color: #ffa07a;">        Components that mean special things to the local file system</span>
<span style="color: #ffa07a;">        (e.g. drive or directory names) are ignored.  (XXX They should</span>
<span style="color: #ffa07a;">        probably be diagnosed.)</span>

<span style="color: #ffa07a;">        """</span>
        <span style="color: #90ee90; font-style: italic;"># </span><span style="color: #90ee90; font-style: italic;">abandon query parameters</span>
        <span style="color: #ffd700;">path</span> = path.split(<span style="color: #ffa07a;">'?'</span>,1)[0]
        <span style="color: #ffd700;">path</span> = path.split(<span style="color: #ffa07a;">'#'</span>,1)[0]
        <span style="color: #ffd700;">path</span> = posixpath.normpath(urllib.parse.unquote(path))
        <span style="color: #ffd700;">words</span> = path.split(<span style="color: #ffa07a;">'/'</span>)
        <span style="color: #ffd700;">words</span> = [_f <span style="color: #ffb6c1; font-size: 105%;">for</span> _f <span style="color: #ffb6c1; font-size: 105%;">in</span> words <span style="color: #ffb6c1; font-size: 105%;">if</span> _f]
        <span style="color: #ffd700;">path</span> = os.getcwd()
        <span style="color: #ffb6c1; font-size: 105%;">for</span> word <span style="color: #ffb6c1; font-size: 105%;">in</span> words:
            <span style="color: #ffd700;">drive</span>, <span style="color: #ffd700;">word</span> = os.path.splitdrive(word)
            <span style="color: #ffd700;">head</span>, <span style="color: #ffd700;">word</span> = os.path.split(word)
            <span style="color: #ffb6c1; font-size: 105%;">if</span> word <span style="color: #ffb6c1; font-size: 105%;">in</span> (os.curdir, os.pardir): <span style="color: #ffb6c1; font-size: 105%;">continue</span>
            <span style="color: #ffd700;">path</span> = os.path.join(path, word)
        <span style="color: #ffb6c1; font-size: 105%;">return</span> path

    <span style="color: #ffb6c1; font-size: 105%;">def</span> <span style="color: #1e90ff; font-size: 105%; font-weight: bold;">copyfile</span>(<span style="color: #ffb6c1; font-size: 105%;">self</span>, source, outputfile):
        <span style="color: #ffa07a;">"""Copy all data between two file objects.</span>

<span style="color: #ffa07a;">        The SOURCE argument is a file object open for reading</span>
<span style="color: #ffa07a;">        (or anything with a read() method) and the DESTINATION</span>
<span style="color: #ffa07a;">        argument is a file object open for writing (or</span>
<span style="color: #ffa07a;">        anything with a write() method).</span>

<span style="color: #ffa07a;">        The only reason for overriding this would be to change</span>
<span style="color: #ffa07a;">        the block size or perhaps to replace newlines by CRLF</span>
<span style="color: #ffa07a;">        -- note however that this the default server uses this</span>
<span style="color: #ffa07a;">        to copy binary data as well.</span>

<span style="color: #ffa07a;">        """</span>
        shutil.copyfileobj(source, outputfile)

    <span style="color: #ffb6c1; font-size: 105%;">def</span> <span style="color: #1e90ff; font-size: 105%; font-weight: bold;">guess_type</span>(<span style="color: #ffb6c1; font-size: 105%;">self</span>, path):
        <span style="color: #ffa07a;">"""Guess the type of a file.</span>

<span style="color: #ffa07a;">        Argument is a PATH (a filename).</span>

<span style="color: #ffa07a;">        Return value is a string of the form type/subtype,</span>
<span style="color: #ffa07a;">        usable for a MIME Content-type header.</span>

<span style="color: #ffa07a;">        The default implementation looks the file's extension</span>
<span style="color: #ffa07a;">        up in the table self.extensions_map, using application/octet-stream</span>
<span style="color: #ffa07a;">        as a default; however it would be permissible (if</span>
<span style="color: #ffa07a;">        slow) to look inside the data to make a better guess.</span>

<span style="color: #ffa07a;">        """</span>

        <span style="color: #ffd700;">base</span>, <span style="color: #ffd700;">ext</span> = posixpath.splitext(path)
        <span style="color: #ffb6c1; font-size: 105%;">if</span> ext <span style="color: #ffb6c1; font-size: 105%;">in</span> <span style="color: #ffb6c1; font-size: 105%;">self</span>.extensions_map:
            <span style="color: #ffb6c1; font-size: 105%;">return</span> <span style="color: #ffb6c1; font-size: 105%;">self</span>.extensions_map[ext]
        <span style="color: #ffd700;">ext</span> = ext.lower()
        <span style="color: #ffb6c1; font-size: 105%;">if</span> ext <span style="color: #ffb6c1; font-size: 105%;">in</span> <span style="color: #ffb6c1; font-size: 105%;">self</span>.extensions_map:
            <span style="color: #ffb6c1; font-size: 105%;">return</span> <span style="color: #ffb6c1; font-size: 105%;">self</span>.extensions_map[ext]
        <span style="color: #ffb6c1; font-size: 105%;">else</span>:
            <span style="color: #ffb6c1; font-size: 105%;">return</span> <span style="color: #ffb6c1; font-size: 105%;">self</span>.extensions_map[<span style="color: #ffa07a;">''</span>]

    <span style="color: #ffb6c1; font-size: 105%;">if</span> <span style="color: #ffb6c1; font-size: 105%;">not</span> mimetypes.inited:
        mimetypes.init() <span style="color: #90ee90; font-style: italic;"># </span><span style="color: #90ee90; font-style: italic;">try to read system mime.types</span>
    <span style="color: #ffd700;">extensions_map</span> = mimetypes.types_map.copy()
    extensions_map.update({
        <span style="color: #ffa07a;">''</span>: <span style="color: #ffa07a;">'application/octet-stream'</span>, <span style="color: #90ee90; font-style: italic;"># </span><span style="color: #90ee90; font-style: italic;">Default</span>
        <span style="color: #ffa07a;">'.py'</span>: <span style="color: #ffa07a;">'text/plain'</span>,
        <span style="color: #ffa07a;">'.c'</span>: <span style="color: #ffa07a;">'text/plain'</span>,
        <span style="color: #ffa07a;">'.h'</span>: <span style="color: #ffa07a;">'text/plain'</span>,
        })


<span style="color: #ffb6c1; font-size: 105%;">def</span> <span style="color: #1e90ff; font-size: 105%; font-weight: bold;">test</span>(HandlerClass = SimpleHTTPRequestHandler,
         ServerClass = http.server.HTTPServer):
    http.server.test(HandlerClass, ServerClass)

<span style="color: #ffb6c1; font-size: 105%;">def</span> <span style="color: #1e90ff; font-size: 105%; font-weight: bold;">get_server_ip</span>():
    <span style="color: #ffd700;">hostname</span> = socket.gethostname()
    <span style="color: #ffd700;">ip</span> = socket.gethostbyname(hostname)
    <span style="color: #ffb6c1; font-size: 105%;">print</span>(<span style="color: #ffa07a;">"Server IP: %s"</span> %ip)

<span style="color: #ffb6c1; font-size: 105%;">if</span> <span style="color: #87cefa; text-decoration: underline;">__name__</span> == <span style="color: #ffa07a;">'__main__'</span>:
    get_server_ip()
    test()  

</pre>
</div>
</div>
</div>
<div id="footnotes">
<h2 class="footnotes">Footnotes: </h2>
<div id="text-footnotes">

<div class="footdef"><sup><a id="fn.1" class="footnum" href="#fnr.1">1</a></sup> <div class="footpara"><p class="footpara">
普通序号脚注
</p></div></div>

<div class="footdef"><sup><a id="fn.2" class="footnum" href="#fnr.2">2</a></sup> <div class="footpara"><p class="footpara">
带名字脚注
</p></div></div>

<div class="footdef"><sup><a id="fn.3" class="footnum" href="#fnr.3">3</a></sup> <div class="footpara">匿名脚注</div></div>

<div class="footdef"><sup><a id="fn.4" class="footnum" href="#fnr.4">4</a></sup> <div class="footpara">带描述的脚注</div></div>


</div>
</div></div>
<div id="postamble" class="status">
<p class="author">Author: 比克曼</p>
<p class="email">Email: <a href="mailto:bitman@163.com">bitman@163.com</a></p>
<p class="date">Created: 2020-06-06 周六 11:46</p>
<p class="validation"><a href="http://validator.w3.org/check?uri=referer">Validate</a></p>
</div>
</body>
</html>
